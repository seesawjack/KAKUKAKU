function pd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function bo(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function wo(e){if(ce(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ue(r)?_d(r):wo(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(Ue(e))return e;if(Re(e))return e}}const md=/;(?![^(]*\))/g,gd=/:([^]+)/,vd=/\/\*.*?\*\//gs;function _d(e){const t={};return e.replace(vd,"").split(md).forEach(n=>{if(n){const r=n.split(gd);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ge(e){let t="";if(Ue(e))t=e;else if(ce(e))for(let n=0;n<e.length;n++){const r=ge(e[n]);r&&(t+=r+" ")}else if(Re(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const yd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bd=bo(yd);function nu(e){return!!e||e===""}function wd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Fn(e[r],t[r]);return n}function Fn(e,t){if(e===t)return!0;let n=fa(e),r=fa(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Mr(e),r=Mr(t),n||r)return e===t;if(n=ce(e),r=ce(t),n||r)return n&&r?wd(e,t):!1;if(n=Re(e),r=Re(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Fn(e[o],t[o]))return!1}}return String(e)===String(t)}function xo(e,t){return e.findIndex(n=>Fn(n,t))}const Ee=e=>Ue(e)?e:e==null?"":ce(e)||Re(e)&&(e.toString===iu||!me(e.toString))?JSON.stringify(e,ru,2):String(e),ru=(e,t)=>t&&t.__v_isRef?ru(e,t.value):er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:hr(t)?{[`Set(${t.size})`]:[...t.values()]}:Re(t)&&!ce(t)&&!Or(t)?String(t):t,De={},Qn=[],xt=()=>{},xd=()=>!1,Sd=/^on[^a-z]/,Ms=e=>Sd.test(e),So=e=>e.startsWith("onUpdate:"),ze=Object.assign,ko=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kd=Object.prototype.hasOwnProperty,we=(e,t)=>kd.call(e,t),ce=Array.isArray,er=e=>zr(e)==="[object Map]",hr=e=>zr(e)==="[object Set]",fa=e=>zr(e)==="[object Date]",me=e=>typeof e=="function",Ue=e=>typeof e=="string",Mr=e=>typeof e=="symbol",Re=e=>e!==null&&typeof e=="object",su=e=>Re(e)&&me(e.then)&&me(e.catch),iu=Object.prototype.toString,zr=e=>iu.call(e),Od=e=>zr(e).slice(8,-1),Or=e=>zr(e)==="[object Object]",Oo=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ms=bo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ed=/-(\w)/g,Mt=Fs(e=>e.replace(Ed,(t,n)=>n?n.toUpperCase():"")),Ad=/\B([A-Z])/g,pr=Fs(e=>e.replace(Ad,"-$1").toLowerCase()),Ds=Fs(e=>e.charAt(0).toUpperCase()+e.slice(1)),fi=Fs(e=>e?`on${Ds(e)}`:""),Fr=(e,t)=>!Object.is(e,t),gs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},bs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ws=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Td=e=>{const t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t};let ha;const Cd=()=>ha||(ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let lt;class ou{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=lt,!t&&lt&&(this.index=(lt.scopes||(lt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=lt;try{return lt=this,t()}finally{lt=n}}}on(){lt=this}off(){lt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function au(e){return new ou(e)}function $d(e,t=lt){t&&t.active&&t.effects.push(e)}function lu(){return lt}function jd(e){lt&&lt.cleanups.push(e)}const Eo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},uu=e=>(e.w&fn)>0,cu=e=>(e.n&fn)>0,Pd=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=fn},Rd=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];uu(i)&&!cu(i)?i.delete(e):t[n++]=i,i.w&=~fn,i.n&=~fn}t.length=n}},xs=new WeakMap;let kr=0,fn=1;const Di=30;let bt;const Rn=Symbol(""),Li=Symbol("");class Ao{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,$d(this,r)}run(){if(!this.active)return this.fn();let t=bt,n=cn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=bt,bt=this,cn=!0,fn=1<<++kr,kr<=Di?Pd(this):pa(this),this.fn()}finally{kr<=Di&&Rd(this),fn=1<<--kr,bt=this.parent,cn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){bt===this?this.deferStop=!0:this.active&&(pa(this),this.onStop&&this.onStop(),this.active=!1)}}function pa(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let cn=!0;const du=[];function mr(){du.push(cn),cn=!1}function gr(){const e=du.pop();cn=e===void 0?!0:e}function st(e,t,n){if(cn&&bt){let r=xs.get(e);r||xs.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Eo()),fu(i)}}function fu(e,t){let n=!1;kr<=Di?cu(e)||(e.n|=fn,n=!uu(e)):n=!e.has(bt),n&&(e.add(bt),bt.deps.push(e))}function Yt(e,t,n,r,i,s){const o=xs.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&ce(e)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":ce(e)?Oo(n)&&a.push(o.get("length")):(a.push(o.get(Rn)),er(e)&&a.push(o.get(Li)));break;case"delete":ce(e)||(a.push(o.get(Rn)),er(e)&&a.push(o.get(Li)));break;case"set":er(e)&&a.push(o.get(Rn));break}if(a.length===1)a[0]&&Ui(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Ui(Eo(l))}}function Ui(e,t){const n=ce(e)?e:[...e];for(const r of n)r.computed&&ma(r);for(const r of n)r.computed||ma(r)}function ma(e,t){(e!==bt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Id(e,t){var n;return(n=xs.get(e))===null||n===void 0?void 0:n.get(t)}const Md=bo("__proto__,__v_isRef,__isVue"),hu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mr)),Fd=To(),Dd=To(!1,!0),Ld=To(!0),ga=Ud();function Ud(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ye(this);for(let s=0,o=this.length;s<o;s++)st(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(ye)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){mr();const r=ye(this)[t].apply(this,n);return gr(),r}}),e}function Nd(e){const t=ye(this);return st(t,"has",e),t.hasOwnProperty(e)}function To(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?nf:_u:t?vu:gu).get(r))return r;const o=ce(r);if(!e){if(o&&we(ga,i))return Reflect.get(ga,i,s);if(i==="hasOwnProperty")return Nd}const a=Reflect.get(r,i,s);return(Mr(i)?hu.has(i):Md(i))||(e||st(r,"get",i),t)?a:Ce(a)?o&&Oo(i)?a:a.value:Re(a)?e?yu(a):Xe(a):a}}const Vd=pu(),Bd=pu(!0);function pu(e=!1){return function(n,r,i,s){let o=n[r];if(ir(o)&&Ce(o)&&!Ce(i))return!1;if(!e&&(!Ss(i)&&!ir(i)&&(o=ye(o),i=ye(i)),!ce(n)&&Ce(o)&&!Ce(i)))return o.value=i,!0;const a=ce(n)&&Oo(r)?Number(r)<n.length:we(n,r),l=Reflect.set(n,r,i,s);return n===ye(s)&&(a?Fr(i,o)&&Yt(n,"set",r,i):Yt(n,"add",r,i)),l}}function Kd(e,t){const n=we(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Yt(e,"delete",t,void 0),r}function Hd(e,t){const n=Reflect.has(e,t);return(!Mr(t)||!hu.has(t))&&st(e,"has",t),n}function zd(e){return st(e,"iterate",ce(e)?"length":Rn),Reflect.ownKeys(e)}const mu={get:Fd,set:Vd,deleteProperty:Kd,has:Hd,ownKeys:zd},qd={get:Ld,set(e,t){return!0},deleteProperty(e,t){return!0}},Jd=ze({},mu,{get:Dd,set:Bd}),Co=e=>e,Ls=e=>Reflect.getPrototypeOf(e);function ts(e,t,n=!1,r=!1){e=e.__v_raw;const i=ye(e),s=ye(t);n||(t!==s&&st(i,"get",t),st(i,"get",s));const{has:o}=Ls(i),a=r?Co:n?Po:Dr;if(o.call(i,t))return a(e.get(t));if(o.call(i,s))return a(e.get(s));e!==i&&e.get(t)}function ns(e,t=!1){const n=this.__v_raw,r=ye(n),i=ye(e);return t||(e!==i&&st(r,"has",e),st(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function rs(e,t=!1){return e=e.__v_raw,!t&&st(ye(e),"iterate",Rn),Reflect.get(e,"size",e)}function va(e){e=ye(e);const t=ye(this);return Ls(t).has.call(t,e)||(t.add(e),Yt(t,"add",e,e)),this}function _a(e,t){t=ye(t);const n=ye(this),{has:r,get:i}=Ls(n);let s=r.call(n,e);s||(e=ye(e),s=r.call(n,e));const o=i.call(n,e);return n.set(e,t),s?Fr(t,o)&&Yt(n,"set",e,t):Yt(n,"add",e,t),this}function ya(e){const t=ye(this),{has:n,get:r}=Ls(t);let i=n.call(t,e);i||(e=ye(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&Yt(t,"delete",e,void 0),s}function ba(){const e=ye(this),t=e.size!==0,n=e.clear();return t&&Yt(e,"clear",void 0,void 0),n}function ss(e,t){return function(r,i){const s=this,o=s.__v_raw,a=ye(o),l=t?Co:e?Po:Dr;return!e&&st(a,"iterate",Rn),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function is(e,t,n){return function(...r){const i=this.__v_raw,s=ye(i),o=er(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=n?Co:t?Po:Dr;return!t&&st(s,"iterate",l?Li:Rn),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Xt(e){return function(...t){return e==="delete"?!1:this}}function Wd(){const e={get(s){return ts(this,s)},get size(){return rs(this)},has:ns,add:va,set:_a,delete:ya,clear:ba,forEach:ss(!1,!1)},t={get(s){return ts(this,s,!1,!0)},get size(){return rs(this)},has:ns,add:va,set:_a,delete:ya,clear:ba,forEach:ss(!1,!0)},n={get(s){return ts(this,s,!0)},get size(){return rs(this,!0)},has(s){return ns.call(this,s,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:ss(!0,!1)},r={get(s){return ts(this,s,!0,!0)},get size(){return rs(this,!0)},has(s){return ns.call(this,s,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:ss(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=is(s,!1,!1),n[s]=is(s,!0,!1),t[s]=is(s,!1,!0),r[s]=is(s,!0,!0)}),[e,n,t,r]}const[Gd,Yd,Zd,Xd]=Wd();function $o(e,t){const n=t?e?Xd:Zd:e?Yd:Gd;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(we(n,i)&&i in r?n:r,i,s)}const Qd={get:$o(!1,!1)},ef={get:$o(!1,!0)},tf={get:$o(!0,!1)},gu=new WeakMap,vu=new WeakMap,_u=new WeakMap,nf=new WeakMap;function rf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sf(e){return e.__v_skip||!Object.isExtensible(e)?0:rf(Od(e))}function Xe(e){return ir(e)?e:jo(e,!1,mu,Qd,gu)}function of(e){return jo(e,!1,Jd,ef,vu)}function yu(e){return jo(e,!0,qd,tf,_u)}function jo(e,t,n,r,i){if(!Re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=sf(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function Gt(e){return ir(e)?Gt(e.__v_raw):!!(e&&e.__v_isReactive)}function ir(e){return!!(e&&e.__v_isReadonly)}function Ss(e){return!!(e&&e.__v_isShallow)}function bu(e){return Gt(e)||ir(e)}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function or(e){return bs(e,"__v_skip",!0),e}const Dr=e=>Re(e)?Xe(e):e,Po=e=>Re(e)?yu(e):e;function wu(e){cn&&bt&&(e=ye(e),fu(e.dep||(e.dep=Eo())))}function xu(e,t){e=ye(e);const n=e.dep;n&&Ui(n)}function Ce(e){return!!(e&&e.__v_isRef===!0)}function J(e){return ku(e,!1)}function Su(e){return ku(e,!0)}function ku(e,t){return Ce(e)?e:new af(e,t)}class af{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ye(t),this._value=n?t:Dr(t)}get value(){return wu(this),this._value}set value(t){const n=this.__v_isShallow||Ss(t)||ir(t);t=n?t:ye(t),Fr(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Dr(t),xu(this))}}function U(e){return Ce(e)?e.value:e}const lf={get:(e,t,n)=>U(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ce(i)&&!Ce(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ou(e){return Gt(e)?e:new Proxy(e,lf)}function mt(e){const t=ce(e)?new Array(e.length):{};for(const n in e)t[n]=Pt(e,n);return t}class uf{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Id(ye(this._object),this._key)}}function Pt(e,t,n){const r=e[t];return Ce(r)?r:new uf(e,t,n)}var Eu;class cf{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Eu]=!1,this._dirty=!0,this.effect=new Ao(t,()=>{this._dirty||(this._dirty=!0,xu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=ye(this);return wu(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Eu="__v_isReadonly";function df(e,t,n=!1){let r,i;const s=me(e);return s?(r=e,i=xt):(r=e.get,i=e.set),new cf(r,i,s||!i,n)}function dn(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){Us(s,t,n)}return i}function gt(e,t,n,r){if(me(e)){const s=dn(e,t,n,r);return s&&su(s)&&s.catch(o=>{Us(o,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(gt(e[s],t,n,r));return i}function Us(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){dn(l,null,10,[e,o,a]);return}}ff(e,n,i,r)}function ff(e,t,n,r=!0){console.error(e)}let Lr=!1,Ni=!1;const We=[];let Rt=0;const tr=[];let Ht=null,kn=0;const Au=Promise.resolve();let Ro=null;function Wt(e){const t=Ro||Au;return e?t.then(this?e.bind(this):e):t}function hf(e){let t=Rt+1,n=We.length;for(;t<n;){const r=t+n>>>1;Ur(We[r])<e?t=r+1:n=r}return t}function Io(e){(!We.length||!We.includes(e,Lr&&e.allowRecurse?Rt+1:Rt))&&(e.id==null?We.push(e):We.splice(hf(e.id),0,e),Tu())}function Tu(){!Lr&&!Ni&&(Ni=!0,Ro=Au.then($u))}function pf(e){const t=We.indexOf(e);t>Rt&&We.splice(t,1)}function mf(e){ce(e)?tr.push(...e):(!Ht||!Ht.includes(e,e.allowRecurse?kn+1:kn))&&tr.push(e),Tu()}function wa(e,t=Lr?Rt+1:0){for(;t<We.length;t++){const n=We[t];n&&n.pre&&(We.splice(t,1),t--,n())}}function Cu(e){if(tr.length){const t=[...new Set(tr)];if(tr.length=0,Ht){Ht.push(...t);return}for(Ht=t,Ht.sort((n,r)=>Ur(n)-Ur(r)),kn=0;kn<Ht.length;kn++)Ht[kn]();Ht=null,kn=0}}const Ur=e=>e.id==null?1/0:e.id,gf=(e,t)=>{const n=Ur(e)-Ur(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function $u(e){Ni=!1,Lr=!0,We.sort(gf);const t=xt;try{for(Rt=0;Rt<We.length;Rt++){const n=We[Rt];n&&n.active!==!1&&dn(n,null,14)}}finally{Rt=0,We.length=0,Cu(),Lr=!1,Ro=null,(We.length||tr.length)&&$u()}}function vf(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||De;let i=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||De;f&&(i=n.map(h=>Ue(h)?h.trim():h)),d&&(i=n.map(ws))}let a,l=r[a=fi(t)]||r[a=fi(Mt(t))];!l&&s&&(l=r[a=fi(pr(t))]),l&&gt(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,gt(u,e,6,i)}}function ju(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!me(e)){const l=u=>{const c=ju(u,t,!0);c&&(a=!0,ze(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Re(e)&&r.set(e,null),null):(ce(s)?s.forEach(l=>o[l]=null):ze(o,s),Re(e)&&r.set(e,o),o)}function Ns(e,t){return!e||!Ms(t)?!1:(t=t.slice(2).replace(/Once$/,""),we(e,t[0].toLowerCase()+t.slice(1))||we(e,pr(t))||we(e,t))}let He=null,Vs=null;function ks(e){const t=He;return He=e,Vs=e&&e.type.__scopeId||null,t}function qr(e){Vs=e}function Jr(){Vs=null}function Be(e,t=He,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Pa(-1);const s=ks(t);let o;try{o=e(...i)}finally{ks(s),r._d&&Pa(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function hi(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=e;let y,_;const C=ks(e);try{if(n.shapeFlag&4){const F=i||r;y=$t(c.call(F,F,d,s,h,f,p)),_=l}else{const F=t;y=$t(F.length>1?F(s,{attrs:l,slots:a,emit:u}):F(s,null)),_=t.props?l:_f(l)}}catch(F){Cr.length=0,Us(F,e,1),y=re(vt)}let P=y;if(_&&m!==!1){const F=Object.keys(_),{shapeFlag:V}=P;F.length&&V&7&&(o&&F.some(So)&&(_=yf(_,o)),P=hn(P,_))}return n.dirs&&(P=hn(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),y=P,ks(C),y}const _f=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ms(n))&&((t||(t={}))[n]=e[n]);return t},yf=(e,t)=>{const n={};for(const r in e)(!So(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function bf(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?xa(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!Ns(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?xa(r,o,u):!0:!!o;return!1}function xa(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Ns(n,s))return!0}return!1}function wf({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const xf=e=>e.__isSuspense;function Sf(e,t){t&&t.pendingBranch?ce(e)?t.effects.push(...e):t.effects.push(e):mf(e)}function nr(e,t){if(Ne){let n=Ne.provides;const r=Ne.parent&&Ne.parent.provides;r===n&&(n=Ne.provides=Object.create(r)),n[e]=t}}function rt(e,t,n=!1){const r=Ne||He;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&me(t)?t.call(r.proxy):t}}function kf(e,t){return Mo(e,null,t)}const os={};function Ke(e,t,n){return Mo(e,t,n)}function Mo(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=De){const a=lu()===(Ne==null?void 0:Ne.scope)?Ne:null;let l,u=!1,c=!1;if(Ce(e)?(l=()=>e.value,u=Ss(e)):Gt(e)?(l=()=>e,r=!0):ce(e)?(c=!0,u=e.some(P=>Gt(P)||Ss(P)),l=()=>e.map(P=>{if(Ce(P))return P.value;if(Gt(P))return $n(P);if(me(P))return dn(P,a,2)})):me(e)?t?l=()=>dn(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),gt(e,a,3,[f])}:l=xt,t&&r){const P=l;l=()=>$n(P())}let d,f=P=>{d=_.onStop=()=>{dn(P,a,4)}},h;if(Vr)if(f=xt,t?n&&gt(t,a,3,[l(),c?[]:void 0,f]):l(),i==="sync"){const P=vh();h=P.__watcherHandles||(P.__watcherHandles=[])}else return xt;let p=c?new Array(e.length).fill(os):os;const m=()=>{if(_.active)if(t){const P=_.run();(r||u||(c?P.some((F,V)=>Fr(F,p[V])):Fr(P,p)))&&(d&&d(),gt(t,a,3,[P,p===os?void 0:c&&p[0]===os?[]:p,f]),p=P)}else _.run()};m.allowRecurse=!!t;let y;i==="sync"?y=m:i==="post"?y=()=>tt(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),y=()=>Io(m));const _=new Ao(l,y);t?n?m():p=_.run():i==="post"?tt(_.run.bind(_),a&&a.suspense):_.run();const C=()=>{_.stop(),a&&a.scope&&ko(a.scope.effects,_)};return h&&h.push(C),C}function Of(e,t,n){const r=this.proxy,i=Ue(e)?e.includes(".")?Pu(r,e):()=>r[e]:e.bind(r,r);let s;me(t)?s=t:(s=t.handler,n=t);const o=Ne;ar(this);const a=Mo(i,s.bind(r),n);return o?ar(o):In(),a}function Pu(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function $n(e,t){if(!Re(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ce(e))$n(e.value,t);else if(ce(e))for(let n=0;n<e.length;n++)$n(e[n],t);else if(hr(e)||er(e))e.forEach(n=>{$n(n,t)});else if(Or(e))for(const n in e)$n(e[n],t);return e}function Ef(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ct(()=>{e.isMounted=!0}),Fo(()=>{e.isUnmounting=!0}),e}const ht=[Function,Array],Af={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ht,onEnter:ht,onAfterEnter:ht,onEnterCancelled:ht,onBeforeLeave:ht,onLeave:ht,onAfterLeave:ht,onLeaveCancelled:ht,onBeforeAppear:ht,onAppear:ht,onAfterAppear:ht,onAppearCancelled:ht},setup(e,{slots:t}){const n=Yr(),r=Ef();let i;return()=>{const s=t.default&&Mu(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const m of s)if(m.type!==vt){o=m;break}}const a=ye(e),{mode:l}=a;if(r.isLeaving)return pi(o);const u=Sa(o);if(!u)return pi(o);const c=Vi(u,a,r,n);Bi(u,c);const d=n.subTree,f=d&&Sa(d);let h=!1;const{getTransitionKey:p}=u.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,h=!0)}if(f&&f.type!==vt&&(!On(u,f)||h)){const m=Vi(f,a,r,n);if(Bi(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},pi(o);l==="in-out"&&u.type!==vt&&(m.delayLeave=(y,_,C)=>{const P=Iu(r,f);P[String(f.key)]=f,y._leaveCb=()=>{_(),y._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=C})}return o}}},Ru=Af;function Iu(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Vi(e,t,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:_,onAppearCancelled:C}=t,P=String(e.key),F=Iu(n,e),V=(x,k)=>{x&&gt(x,r,9,k)},$=(x,k)=>{const A=k[1];V(x,k),ce(x)?x.every(j=>j.length<=1)&&A():x.length<=1&&A()},I={mode:s,persisted:o,beforeEnter(x){let k=a;if(!n.isMounted)if(i)k=m||a;else return;x._leaveCb&&x._leaveCb(!0);const A=F[P];A&&On(e,A)&&A.el._leaveCb&&A.el._leaveCb(),V(k,[x])},enter(x){let k=l,A=u,j=c;if(!n.isMounted)if(i)k=y||l,A=_||u,j=C||c;else return;let w=!1;const E=x._enterCb=v=>{w||(w=!0,v?V(j,[x]):V(A,[x]),I.delayedLeave&&I.delayedLeave(),x._enterCb=void 0)};k?$(k,[x,E]):E()},leave(x,k){const A=String(e.key);if(x._enterCb&&x._enterCb(!0),n.isUnmounting)return k();V(d,[x]);let j=!1;const w=x._leaveCb=E=>{j||(j=!0,k(),E?V(p,[x]):V(h,[x]),x._leaveCb=void 0,F[A]===e&&delete F[A])};F[A]=e,f?$(f,[x,w]):w()},clone(x){return Vi(x,t,n,r)}};return I}function pi(e){if(Bs(e))return e=hn(e),e.children=null,e}function Sa(e){return Bs(e)?e.children?e.children[0]:void 0:e}function Bi(e,t){e.shapeFlag&6&&e.component?Bi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Mu(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Oe?(o.patchFlag&128&&i++,r=r.concat(Mu(o.children,t,a))):(t||o.type!==vt)&&r.push(a!=null?hn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Wr(e){return me(e)?{setup:e,name:e.name}:e}const Er=e=>!!e.type.__asyncLoader,Bs=e=>e.type.__isKeepAlive;function Tf(e,t){Fu(e,"a",t)}function Cf(e,t){Fu(e,"da",t)}function Fu(e,t,n=Ne){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ks(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Bs(i.parent.vnode)&&$f(r,t,n,i),i=i.parent}}function $f(e,t,n,r){const i=Ks(t,e,r,!0);Nn(()=>{ko(r[t],i)},n)}function Ks(e,t,n=Ne,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;mr(),ar(n);const a=gt(t,n,e,o);return In(),gr(),a});return r?i.unshift(s):i.push(s),s}}const Zt=e=>(t,n=Ne)=>(!Vr||e==="sp")&&Ks(e,(...r)=>t(...r),n),jf=Zt("bm"),ct=Zt("m"),Pf=Zt("bu"),Rf=Zt("u"),Fo=Zt("bum"),Nn=Zt("um"),If=Zt("sp"),Mf=Zt("rtg"),Ff=Zt("rtc");function Df(e,t=Ne){Ks("ec",e,t)}function jn(e,t){const n=He;if(n===null)return e;const r=Js(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,u=De]=t[s];o&&(me(o)&&(o={mounted:o,updated:o}),o.deep&&$n(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function vn(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(mr(),gt(l,n,8,[e.el,a,e,t]),gr())}}const Do="components";function Hs(e,t){return Lu(Do,e,!0,t)||e}const Du=Symbol();function Gr(e){return Ue(e)?Lu(Do,e,!1)||e:e||Du}function Lu(e,t,n=!0,r=!1){const i=He||Ne;if(i){const s=i.type;if(e===Do){const a=ph(s,!1);if(a&&(a===t||a===Mt(t)||a===Ds(Mt(t))))return s}const o=ka(i[e]||s[e],t)||ka(i.appContext[e],t);return!o&&r?s:o}}function ka(e,t){return e&&(e[t]||e[Mt(t)]||e[Ds(Mt(t))])}function St(e,t,n,r){let i;const s=n&&n[r];if(ce(e)||Ue(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s&&s[o])}else if(Re(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=t(e[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function vr(e,t,n={},r,i){if(He.isCE||He.parent&&Er(He.parent)&&He.parent.isCE)return t!=="default"&&(n.name=t),re("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),K();const o=s&&Uu(s(n)),a=Me(Oe,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Uu(e){return e.some(t=>Es(t)?!(t.type===vt||t.type===Oe&&!Uu(t.children)):!0)?e:null}const Ki=e=>e?Zu(e)?Js(e)||e.proxy:Ki(e.parent):null,Ar=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ki(e.parent),$root:e=>Ki(e.root),$emit:e=>e.emit,$options:e=>Lo(e),$forceUpdate:e=>e.f||(e.f=()=>Io(e.update)),$nextTick:e=>e.n||(e.n=Wt.bind(e.proxy)),$watch:e=>Of.bind(e)}),mi=(e,t)=>e!==De&&!e.__isScriptSetup&&we(e,t),Lf={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(mi(r,t))return o[t]=1,r[t];if(i!==De&&we(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&we(u,t))return o[t]=3,s[t];if(n!==De&&we(n,t))return o[t]=4,n[t];Hi&&(o[t]=0)}}const c=Ar[t];let d,f;if(c)return t==="$attrs"&&st(e,"get",t),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==De&&we(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,we(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return mi(i,t)?(i[t]=n,!0):r!==De&&we(r,t)?(r[t]=n,!0):we(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==De&&we(e,o)||mi(t,o)||(a=s[0])&&we(a,o)||we(r,o)||we(Ar,o)||we(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:we(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Hi=!0;function Uf(e){const t=Lo(e),n=e.proxy,r=e.ctx;Hi=!1,t.beforeCreate&&Oa(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:_,beforeUnmount:C,destroyed:P,unmounted:F,render:V,renderTracked:$,renderTriggered:I,errorCaptured:x,serverPrefetch:k,expose:A,inheritAttrs:j,components:w,directives:E,filters:v}=t;if(u&&Nf(u,r,null,e.appContext.config.unwrapInjectedRef),o)for(const te in o){const se=o[te];me(se)&&(r[te]=se.bind(n))}if(i){const te=i.call(n,n);Re(te)&&(e.data=Xe(te))}if(Hi=!0,s)for(const te in s){const se=s[te],ue=me(se)?se.bind(n,n):me(se.get)?se.get.bind(n,n):xt,$e=!me(se)&&me(se.set)?se.set.bind(n):xt,Ae=le({get:ue,set:$e});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>Ae.value,set:Fe=>Ae.value=Fe})}if(a)for(const te in a)Nu(a[te],r,n,te);if(l){const te=me(l)?l.call(n):l;Reflect.ownKeys(te).forEach(se=>{nr(se,te[se])})}c&&Oa(c,e,"c");function B(te,se){ce(se)?se.forEach(ue=>te(ue.bind(n))):se&&te(se.bind(n))}if(B(jf,d),B(ct,f),B(Pf,h),B(Rf,p),B(Tf,m),B(Cf,y),B(Df,x),B(Ff,$),B(Mf,I),B(Fo,C),B(Nn,F),B(If,k),ce(A))if(A.length){const te=e.exposed||(e.exposed={});A.forEach(se=>{Object.defineProperty(te,se,{get:()=>n[se],set:ue=>n[se]=ue})})}else e.exposed||(e.exposed={});V&&e.render===xt&&(e.render=V),j!=null&&(e.inheritAttrs=j),w&&(e.components=w),E&&(e.directives=E)}function Nf(e,t,n=xt,r=!1){ce(e)&&(e=zi(e));for(const i in e){const s=e[i];let o;Re(s)?"default"in s?o=rt(s.from||i,s.default,!0):o=rt(s.from||i):o=rt(s),Ce(o)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function Oa(e,t,n){gt(ce(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Nu(e,t,n,r){const i=r.includes(".")?Pu(n,r):()=>n[r];if(Ue(e)){const s=t[e];me(s)&&Ke(i,s)}else if(me(e))Ke(i,e.bind(n));else if(Re(e))if(ce(e))e.forEach(s=>Nu(s,t,n,r));else{const s=me(e.handler)?e.handler.bind(n):t[e.handler];me(s)&&Ke(i,s,e)}}function Lo(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>Os(l,u,o,!0)),Os(l,t,o)),Re(t)&&s.set(t,l),l}function Os(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Os(e,s,n,!0),i&&i.forEach(o=>Os(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Vf[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Vf={data:Ea,props:xn,emits:xn,methods:xn,computed:xn,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:xn,directives:xn,watch:Kf,provide:Ea,inject:Bf};function Ea(e,t){return t?e?function(){return ze(me(e)?e.call(this,this):e,me(t)?t.call(this,this):t)}:t:e}function Bf(e,t){return xn(zi(e),zi(t))}function zi(e){if(ce(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function xn(e,t){return e?ze(ze(Object.create(null),e),t):t}function Kf(e,t){if(!e)return t;if(!t)return e;const n=ze(Object.create(null),e);for(const r in t)n[r]=Ye(e[r],t[r]);return n}function Hf(e,t,n,r=!1){const i={},s={};bs(s,qs,1),e.propsDefaults=Object.create(null),Vu(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:of(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function zf(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=ye(i),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Ns(e.emitsOptions,f))continue;const h=t[f];if(l)if(we(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const p=Mt(f);i[p]=qi(l,a,p,h,e,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{Vu(e,t,i,s)&&(u=!0);let c;for(const d in a)(!t||!we(t,d)&&((c=pr(d))===d||!we(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=qi(l,a,d,void 0,e,!0)):delete i[d]);if(s!==a)for(const d in s)(!t||!we(t,d))&&(delete s[d],u=!0)}u&&Yt(e,"set","$attrs")}function Vu(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ms(l))continue;const u=t[l];let c;i&&we(i,c=Mt(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ns(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=ye(n),u=a||De;for(let c=0;c<s.length;c++){const d=s[c];n[d]=qi(i,l,d,u[d],e,!we(u,d))}}return o}function qi(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=we(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&me(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(ar(i),r=u[n]=l.call(null,t),In())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===pr(n))&&(r=!0))}return r}function Bu(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!me(e)){const c=d=>{l=!0;const[f,h]=Bu(d,t,!0);ze(o,f),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Re(e)&&r.set(e,Qn),Qn;if(ce(s))for(let c=0;c<s.length;c++){const d=Mt(s[c]);Aa(d)&&(o[d]=De)}else if(s)for(const c in s){const d=Mt(c);if(Aa(d)){const f=s[c],h=o[d]=ce(f)||me(f)?{type:f}:Object.assign({},f);if(h){const p=$a(Boolean,h.type),m=$a(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||we(h,"default"))&&a.push(d)}}}const u=[o,a];return Re(e)&&r.set(e,u),u}function Aa(e){return e[0]!=="$"}function Ta(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ca(e,t){return Ta(e)===Ta(t)}function $a(e,t){return ce(t)?t.findIndex(n=>Ca(n,e)):me(t)&&Ca(t,e)?0:-1}const Ku=e=>e[0]==="_"||e==="$stable",Uo=e=>ce(e)?e.map($t):[$t(e)],qf=(e,t,n)=>{if(t._n)return t;const r=Be((...i)=>Uo(t(...i)),n);return r._c=!1,r},Hu=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Ku(i))continue;const s=e[i];if(me(s))t[i]=qf(i,s,r);else if(s!=null){const o=Uo(s);t[i]=()=>o}}},zu=(e,t)=>{const n=Uo(t);e.slots.default=()=>n},Jf=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ye(t),bs(t,"_",n)):Hu(t,e.slots={})}else e.slots={},t&&zu(e,t);bs(e.slots,qs,1)},Wf=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=De;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:(ze(i,t),!n&&a===1&&delete i._):(s=!t.$stable,Hu(t,i)),o=t}else t&&(zu(e,t),o={default:1});if(s)for(const a in i)!Ku(a)&&!(a in o)&&delete i[a]};function qu(){return{app:null,config:{isNativeTag:xd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gf=0;function Yf(e,t){return function(r,i=null){me(r)||(r=Object.assign({},r)),i!=null&&!Re(i)&&(i=null);const s=qu(),o=new Set;let a=!1;const l=s.app={_uid:Gf++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:_h,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&me(u.install)?(o.add(u),u.install(l,...c)):me(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const f=re(r,i);return f.appContext=s,c&&t?t(f,u):e(f,u,d),a=!0,l._container=u,u.__vue_app__=l,Js(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l}};return l}}function Ji(e,t,n,r,i=!1){if(ce(e)){e.forEach((f,h)=>Ji(f,t&&(ce(t)?t[h]:t),n,r,i));return}if(Er(r)&&!i)return;const s=r.shapeFlag&4?Js(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===De?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Ue(u)?(c[u]=null,we(d,u)&&(d[u]=null)):Ce(u)&&(u.value=null)),me(l))dn(l,a,12,[o,c]);else{const f=Ue(l),h=Ce(l);if(f||h){const p=()=>{if(e.f){const m=f?we(d,l)?d[l]:c[l]:l.value;i?ce(m)&&ko(m,s):ce(m)?m.includes(s)||m.push(s):f?(c[l]=[s],we(d,l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else f?(c[l]=o,we(d,l)&&(d[l]=o)):h&&(l.value=o,e.k&&(c[e.k]=o))};o?(p.id=-1,tt(p,n)):p()}}}const tt=Sf;function Zf(e){return Xf(e)}function Xf(e,t){const n=Cd();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=xt,insertStaticContent:p}=e,m=(g,b,L,N=null,H=null,Z=null,ne=!1,X=null,ee=!!b.dynamicChildren)=>{if(g===b)return;g&&!On(g,b)&&(N=W(g),Fe(g,H,Z,!0),g=null),b.patchFlag===-2&&(ee=!1,b.dynamicChildren=null);const{type:q,ref:O,shapeFlag:S}=b;switch(q){case zs:y(g,b,L,N);break;case vt:_(g,b,L,N);break;case vs:g==null&&C(b,L,N,ne);break;case Oe:w(g,b,L,N,H,Z,ne,X,ee);break;default:S&1?V(g,b,L,N,H,Z,ne,X,ee):S&6?E(g,b,L,N,H,Z,ne,X,ee):(S&64||S&128)&&q.process(g,b,L,N,H,Z,ne,X,ee,he)}O!=null&&H&&Ji(O,g&&g.ref,Z,b||g,!b)},y=(g,b,L,N)=>{if(g==null)r(b.el=a(b.children),L,N);else{const H=b.el=g.el;b.children!==g.children&&u(H,b.children)}},_=(g,b,L,N)=>{g==null?r(b.el=l(b.children||""),L,N):b.el=g.el},C=(g,b,L,N)=>{[g.el,g.anchor]=p(g.children,b,L,N,g.el,g.anchor)},P=({el:g,anchor:b},L,N)=>{let H;for(;g&&g!==b;)H=f(g),r(g,L,N),g=H;r(b,L,N)},F=({el:g,anchor:b})=>{let L;for(;g&&g!==b;)L=f(g),i(g),g=L;i(b)},V=(g,b,L,N,H,Z,ne,X,ee)=>{ne=ne||b.type==="svg",g==null?$(b,L,N,H,Z,ne,X,ee):k(g,b,H,Z,ne,X,ee)},$=(g,b,L,N,H,Z,ne,X)=>{let ee,q;const{type:O,props:S,shapeFlag:M,transition:G,dirs:oe}=g;if(ee=g.el=o(g.type,Z,S&&S.is,S),M&8?c(ee,g.children):M&16&&x(g.children,ee,null,N,H,Z&&O!=="foreignObject",ne,X),oe&&vn(g,null,N,"created"),I(ee,g,g.scopeId,ne,N),S){for(const ae in S)ae!=="value"&&!ms(ae)&&s(ee,ae,null,S[ae],Z,g.children,N,H,z);"value"in S&&s(ee,"value",null,S.value),(q=S.onVnodeBeforeMount)&&Tt(q,N,g)}oe&&vn(g,null,N,"beforeMount");const ie=(!H||H&&!H.pendingBranch)&&G&&!G.persisted;ie&&G.beforeEnter(ee),r(ee,b,L),((q=S&&S.onVnodeMounted)||ie||oe)&&tt(()=>{q&&Tt(q,N,g),ie&&G.enter(ee),oe&&vn(g,null,N,"mounted")},H)},I=(g,b,L,N,H)=>{if(L&&h(g,L),N)for(let Z=0;Z<N.length;Z++)h(g,N[Z]);if(H){let Z=H.subTree;if(b===Z){const ne=H.vnode;I(g,ne,ne.scopeId,ne.slotScopeIds,H.parent)}}},x=(g,b,L,N,H,Z,ne,X,ee=0)=>{for(let q=ee;q<g.length;q++){const O=g[q]=X?on(g[q]):$t(g[q]);m(null,O,b,L,N,H,Z,ne,X)}},k=(g,b,L,N,H,Z,ne)=>{const X=b.el=g.el;let{patchFlag:ee,dynamicChildren:q,dirs:O}=b;ee|=g.patchFlag&16;const S=g.props||De,M=b.props||De;let G;L&&_n(L,!1),(G=M.onVnodeBeforeUpdate)&&Tt(G,L,b,g),O&&vn(b,g,L,"beforeUpdate"),L&&_n(L,!0);const oe=H&&b.type!=="foreignObject";if(q?A(g.dynamicChildren,q,X,L,N,oe,Z):ne||se(g,b,X,null,L,N,oe,Z,!1),ee>0){if(ee&16)j(X,b,S,M,L,N,H);else if(ee&2&&S.class!==M.class&&s(X,"class",null,M.class,H),ee&4&&s(X,"style",S.style,M.style,H),ee&8){const ie=b.dynamicProps;for(let ae=0;ae<ie.length;ae++){const fe=ie[ae],_e=S[fe],je=M[fe];(je!==_e||fe==="value")&&s(X,fe,_e,je,H,g.children,L,N,z)}}ee&1&&g.children!==b.children&&c(X,b.children)}else!ne&&q==null&&j(X,b,S,M,L,N,H);((G=M.onVnodeUpdated)||O)&&tt(()=>{G&&Tt(G,L,b,g),O&&vn(b,g,L,"updated")},N)},A=(g,b,L,N,H,Z,ne)=>{for(let X=0;X<b.length;X++){const ee=g[X],q=b[X],O=ee.el&&(ee.type===Oe||!On(ee,q)||ee.shapeFlag&70)?d(ee.el):L;m(ee,q,O,null,N,H,Z,ne,!0)}},j=(g,b,L,N,H,Z,ne)=>{if(L!==N){if(L!==De)for(const X in L)!ms(X)&&!(X in N)&&s(g,X,L[X],null,ne,b.children,H,Z,z);for(const X in N){if(ms(X))continue;const ee=N[X],q=L[X];ee!==q&&X!=="value"&&s(g,X,q,ee,ne,b.children,H,Z,z)}"value"in N&&s(g,"value",L.value,N.value)}},w=(g,b,L,N,H,Z,ne,X,ee)=>{const q=b.el=g?g.el:a(""),O=b.anchor=g?g.anchor:a("");let{patchFlag:S,dynamicChildren:M,slotScopeIds:G}=b;G&&(X=X?X.concat(G):G),g==null?(r(q,L,N),r(O,L,N),x(b.children,L,O,H,Z,ne,X,ee)):S>0&&S&64&&M&&g.dynamicChildren?(A(g.dynamicChildren,M,L,H,Z,ne,X),(b.key!=null||H&&b===H.subTree)&&No(g,b,!0)):se(g,b,L,O,H,Z,ne,X,ee)},E=(g,b,L,N,H,Z,ne,X,ee)=>{b.slotScopeIds=X,g==null?b.shapeFlag&512?H.ctx.activate(b,L,N,ne,ee):v(b,L,N,H,Z,ne,ee):D(g,b,ee)},v=(g,b,L,N,H,Z,ne)=>{const X=g.component=uh(g,N,H);if(Bs(g)&&(X.ctx.renderer=he),ch(X),X.asyncDep){if(H&&H.registerDep(X,B),!g.el){const ee=X.subTree=re(vt);_(null,ee,b,L)}return}B(X,g,b,L,H,Z,ne)},D=(g,b,L)=>{const N=b.component=g.component;if(bf(g,b,L))if(N.asyncDep&&!N.asyncResolved){te(N,b,L);return}else N.next=b,pf(N.update),N.update();else b.el=g.el,N.vnode=b},B=(g,b,L,N,H,Z,ne)=>{const X=()=>{if(g.isMounted){let{next:O,bu:S,u:M,parent:G,vnode:oe}=g,ie=O,ae;_n(g,!1),O?(O.el=oe.el,te(g,O,ne)):O=oe,S&&gs(S),(ae=O.props&&O.props.onVnodeBeforeUpdate)&&Tt(ae,G,O,oe),_n(g,!0);const fe=hi(g),_e=g.subTree;g.subTree=fe,m(_e,fe,d(_e.el),W(_e),g,H,Z),O.el=fe.el,ie===null&&wf(g,fe.el),M&&tt(M,H),(ae=O.props&&O.props.onVnodeUpdated)&&tt(()=>Tt(ae,G,O,oe),H)}else{let O;const{el:S,props:M}=b,{bm:G,m:oe,parent:ie}=g,ae=Er(b);if(_n(g,!1),G&&gs(G),!ae&&(O=M&&M.onVnodeBeforeMount)&&Tt(O,ie,b),_n(g,!0),S&&de){const fe=()=>{g.subTree=hi(g),de(S,g.subTree,g,H,null)};ae?b.type.__asyncLoader().then(()=>!g.isUnmounted&&fe()):fe()}else{const fe=g.subTree=hi(g);m(null,fe,L,N,g,H,Z),b.el=fe.el}if(oe&&tt(oe,H),!ae&&(O=M&&M.onVnodeMounted)){const fe=b;tt(()=>Tt(O,ie,fe),H)}(b.shapeFlag&256||ie&&Er(ie.vnode)&&ie.vnode.shapeFlag&256)&&g.a&&tt(g.a,H),g.isMounted=!0,b=L=N=null}},ee=g.effect=new Ao(X,()=>Io(q),g.scope),q=g.update=()=>ee.run();q.id=g.uid,_n(g,!0),q()},te=(g,b,L)=>{b.component=g;const N=g.vnode.props;g.vnode=b,g.next=null,zf(g,b.props,N,L),Wf(g,b.children,L),mr(),wa(),gr()},se=(g,b,L,N,H,Z,ne,X,ee=!1)=>{const q=g&&g.children,O=g?g.shapeFlag:0,S=b.children,{patchFlag:M,shapeFlag:G}=b;if(M>0){if(M&128){$e(q,S,L,N,H,Z,ne,X,ee);return}else if(M&256){ue(q,S,L,N,H,Z,ne,X,ee);return}}G&8?(O&16&&z(q,H,Z),S!==q&&c(L,S)):O&16?G&16?$e(q,S,L,N,H,Z,ne,X,ee):z(q,H,Z,!0):(O&8&&c(L,""),G&16&&x(S,L,N,H,Z,ne,X,ee))},ue=(g,b,L,N,H,Z,ne,X,ee)=>{g=g||Qn,b=b||Qn;const q=g.length,O=b.length,S=Math.min(q,O);let M;for(M=0;M<S;M++){const G=b[M]=ee?on(b[M]):$t(b[M]);m(g[M],G,L,null,H,Z,ne,X,ee)}q>O?z(g,H,Z,!0,!1,S):x(b,L,N,H,Z,ne,X,ee,S)},$e=(g,b,L,N,H,Z,ne,X,ee)=>{let q=0;const O=b.length;let S=g.length-1,M=O-1;for(;q<=S&&q<=M;){const G=g[q],oe=b[q]=ee?on(b[q]):$t(b[q]);if(On(G,oe))m(G,oe,L,null,H,Z,ne,X,ee);else break;q++}for(;q<=S&&q<=M;){const G=g[S],oe=b[M]=ee?on(b[M]):$t(b[M]);if(On(G,oe))m(G,oe,L,null,H,Z,ne,X,ee);else break;S--,M--}if(q>S){if(q<=M){const G=M+1,oe=G<O?b[G].el:N;for(;q<=M;)m(null,b[q]=ee?on(b[q]):$t(b[q]),L,oe,H,Z,ne,X,ee),q++}}else if(q>M)for(;q<=S;)Fe(g[q],H,Z,!0),q++;else{const G=q,oe=q,ie=new Map;for(q=oe;q<=M;q++){const ot=b[q]=ee?on(b[q]):$t(b[q]);ot.key!=null&&ie.set(ot.key,q)}let ae,fe=0;const _e=M-oe+1;let je=!1,Qe=0;const Vt=new Array(_e);for(q=0;q<_e;q++)Vt[q]=0;for(q=G;q<=S;q++){const ot=g[q];if(fe>=_e){Fe(ot,H,Z,!0);continue}let At;if(ot.key!=null)At=ie.get(ot.key);else for(ae=oe;ae<=M;ae++)if(Vt[ae-oe]===0&&On(ot,b[ae])){At=ae;break}At===void 0?Fe(ot,H,Z,!0):(Vt[At-oe]=q+1,At>=Qe?Qe=At:je=!0,m(ot,b[At],L,null,H,Z,ne,X,ee),fe++)}const ca=je?Qf(Vt):Qn;for(ae=ca.length-1,q=_e-1;q>=0;q--){const ot=oe+q,At=b[ot],da=ot+1<O?b[ot+1].el:N;Vt[q]===0?m(null,At,L,da,H,Z,ne,X,ee):je&&(ae<0||q!==ca[ae]?Ae(At,L,da,2):ae--)}}},Ae=(g,b,L,N,H=null)=>{const{el:Z,type:ne,transition:X,children:ee,shapeFlag:q}=g;if(q&6){Ae(g.component.subTree,b,L,N);return}if(q&128){g.suspense.move(b,L,N);return}if(q&64){ne.move(g,b,L,he);return}if(ne===Oe){r(Z,b,L);for(let S=0;S<ee.length;S++)Ae(ee[S],b,L,N);r(g.anchor,b,L);return}if(ne===vs){P(g,b,L);return}if(N!==2&&q&1&&X)if(N===0)X.beforeEnter(Z),r(Z,b,L),tt(()=>X.enter(Z),H);else{const{leave:S,delayLeave:M,afterLeave:G}=X,oe=()=>r(Z,b,L),ie=()=>{S(Z,()=>{oe(),G&&G()})};M?M(Z,oe,ie):ie()}else r(Z,b,L)},Fe=(g,b,L,N=!1,H=!1)=>{const{type:Z,props:ne,ref:X,children:ee,dynamicChildren:q,shapeFlag:O,patchFlag:S,dirs:M}=g;if(X!=null&&Ji(X,null,L,g,!0),O&256){b.ctx.deactivate(g);return}const G=O&1&&M,oe=!Er(g);let ie;if(oe&&(ie=ne&&ne.onVnodeBeforeUnmount)&&Tt(ie,b,g),O&6)T(g.component,L,N);else{if(O&128){g.suspense.unmount(L,N);return}G&&vn(g,null,b,"beforeUnmount"),O&64?g.type.remove(g,b,L,H,he,N):q&&(Z!==Oe||S>0&&S&64)?z(q,b,L,!1,!0):(Z===Oe&&S&384||!H&&O&16)&&z(ee,b,L),N&&Pe(g)}(oe&&(ie=ne&&ne.onVnodeUnmounted)||G)&&tt(()=>{ie&&Tt(ie,b,g),G&&vn(g,null,b,"unmounted")},L)},Pe=g=>{const{type:b,el:L,anchor:N,transition:H}=g;if(b===Oe){Se(L,N);return}if(b===vs){F(g);return}const Z=()=>{i(L),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(g.shapeFlag&1&&H&&!H.persisted){const{leave:ne,delayLeave:X}=H,ee=()=>ne(L,Z);X?X(g.el,Z,ee):ee()}else Z()},Se=(g,b)=>{let L;for(;g!==b;)L=f(g),i(g),g=L;i(b)},T=(g,b,L)=>{const{bum:N,scope:H,update:Z,subTree:ne,um:X}=g;N&&gs(N),H.stop(),Z&&(Z.active=!1,Fe(ne,g,b,L)),X&&tt(X,b),tt(()=>{g.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},z=(g,b,L,N=!1,H=!1,Z=0)=>{for(let ne=Z;ne<g.length;ne++)Fe(g[ne],b,L,N,H)},W=g=>g.shapeFlag&6?W(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el),Q=(g,b,L)=>{g==null?b._vnode&&Fe(b._vnode,null,null,!0):m(b._vnode||null,g,b,null,null,null,L),wa(),Cu(),b._vnode=g},he={p:m,um:Fe,m:Ae,r:Pe,mt:v,mc:x,pc:se,pbc:A,n:W,o:e};let be,de;return t&&([be,de]=t(he)),{render:Q,hydrate:be,createApp:Yf(Q,be)}}function _n({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function No(e,t,n=!1){const r=e.children,i=t.children;if(ce(r)&&ce(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=on(i[s]),a.el=o.el),n||No(o,a)),a.type===zs&&(a.el=o.el)}}function Qf(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const eh=e=>e.__isTeleport,Tr=e=>e&&(e.disabled||e.disabled===""),ja=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Wi=(e,t)=>{const n=e&&e.to;return Ue(n)?t?t(n):null:n},th={__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:y}}=u,_=Tr(t.props);let{shapeFlag:C,children:P,dynamicChildren:F}=t;if(e==null){const V=t.el=m(""),$=t.anchor=m("");h(V,n,r),h($,n,r);const I=t.target=Wi(t.props,p),x=t.targetAnchor=m("");I&&(h(x,I),o=o||ja(I));const k=(A,j)=>{C&16&&c(P,A,j,i,s,o,a,l)};_?k(n,$):I&&k(I,x)}else{t.el=e.el;const V=t.anchor=e.anchor,$=t.target=e.target,I=t.targetAnchor=e.targetAnchor,x=Tr(e.props),k=x?n:$,A=x?V:I;if(o=o||ja($),F?(f(e.dynamicChildren,F,k,i,s,o,a),No(e,t,!0)):l||d(e,t,k,A,i,s,o,a,!1),_)x||as(t,n,V,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=Wi(t.props,p);j&&as(t,j,null,u,0)}else x&&as(t,$,I,u,1)}Wu(t)},remove(e,t,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=e;if(d&&s(c),(o||!Tr(f))&&(s(u),a&16))for(let h=0;h<l.length;h++){const p=l[h];i(p,t,n,!0,!!p.dynamicChildren)}},move:as,hydrate:nh};function as(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&r(o,t,n),(!d||Tr(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],t,n,2);d&&r(a,t,n)}function nh(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=Wi(t.props,l);if(c){const d=c._lpa||c.firstChild;if(t.shapeFlag&16)if(Tr(t.props))t.anchor=u(o(e),t,a(e),n,r,i,s),t.targetAnchor=d;else{t.anchor=o(e);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(d,t,c,n,r,i,s)}Wu(t)}return t.anchor&&o(t.anchor)}const Ju=th;function Wu(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Oe=Symbol(void 0),zs=Symbol(void 0),vt=Symbol(void 0),vs=Symbol(void 0),Cr=[];let wt=null;function K(e=!1){Cr.push(wt=e?null:[])}function rh(){Cr.pop(),wt=Cr[Cr.length-1]||null}let Nr=1;function Pa(e){Nr+=e}function Gu(e){return e.dynamicChildren=Nr>0?wt||Qn:null,rh(),Nr>0&&wt&&wt.push(e),e}function Y(e,t,n,r,i,s){return Gu(R(e,t,n,r,i,s,!0))}function Me(e,t,n,r,i){return Gu(re(e,t,n,r,i,!0))}function Es(e){return e?e.__v_isVNode===!0:!1}function On(e,t){return e.type===t.type&&e.key===t.key}const qs="__vInternal",Yu=({key:e})=>e??null,_s=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ue(e)||Ce(e)||me(e)?{i:He,r:e,k:t,f:!!n}:e:null;function R(e,t=null,n=null,r=0,i=null,s=e===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Yu(t),ref:t&&_s(t),scopeId:Vs,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:He};return a?(Vo(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Ue(n)?8:16),Nr>0&&!o&&wt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&wt.push(l),l}const re=sh;function sh(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Du)&&(e=vt),Es(e)){const a=hn(e,t,!0);return n&&Vo(a,n),Nr>0&&!s&&wt&&(a.shapeFlag&6?wt[wt.indexOf(e)]=a:wt.push(a)),a.patchFlag|=-2,a}if(mh(e)&&(e=e.__vccOpts),t){t=ih(t);let{class:a,style:l}=t;a&&!Ue(a)&&(t.class=ge(a)),Re(l)&&(bu(l)&&!ce(l)&&(l=ze({},l)),t.style=wo(l))}const o=Ue(e)?1:xf(e)?128:eh(e)?64:Re(e)?4:me(e)?2:0;return R(e,t,n,r,i,o,s,!0)}function ih(e){return e?bu(e)||qs in e?ze({},e):e:null}function hn(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=e,a=t?Gi(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Yu(a),ref:t&&t.ref?n&&i?ce(i)?i.concat(_s(t)):[i,_s(t)]:_s(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hn(e.ssContent),ssFallback:e.ssFallback&&hn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ft(e=" ",t=0){return re(zs,null,e,t)}function oh(e,t){const n=re(vs,null,e);return n.staticCount=t,n}function ve(e="",t=!1){return t?(K(),Me(vt,null,e)):re(vt,null,e)}function $t(e){return e==null||typeof e=="boolean"?re(vt):ce(e)?re(Oe,null,e.slice()):typeof e=="object"?on(e):re(zs,null,String(e))}function on(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hn(e)}function Vo(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ce(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Vo(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(qs in t)?t._ctx=He:i===3&&He&&(He.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else me(t)?(t={default:t,_ctx:He},n=32):(t=String(t),r&64?(n=16,t=[Ft(t)]):n=8);e.children=t,e.shapeFlag|=n}function Gi(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=ge([t.class,r.class]));else if(i==="style")t.style=wo([t.style,r.style]);else if(Ms(i)){const s=t[i],o=r[i];o&&s!==o&&!(ce(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function Tt(e,t,n,r=null){gt(e,t,7,[n,r])}const ah=qu();let lh=0;function uh(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||ah,s={uid:lh++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ou(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bu(r,i),emitsOptions:ju(r,i),emit:null,emitted:null,propsDefaults:De,inheritAttrs:r.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=vf.bind(null,s),e.ce&&e.ce(s),s}let Ne=null;const Yr=()=>Ne||He,ar=e=>{Ne=e,e.scope.on()},In=()=>{Ne&&Ne.scope.off(),Ne=null};function Zu(e){return e.vnode.shapeFlag&4}let Vr=!1;function ch(e,t=!1){Vr=t;const{props:n,children:r}=e.vnode,i=Zu(e);Hf(e,n,i,t),Jf(e,r);const s=i?dh(e,t):void 0;return Vr=!1,s}function dh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=or(new Proxy(e.ctx,Lf));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?hh(e):null;ar(e),mr();const s=dn(r,e,0,[e.props,i]);if(gr(),In(),su(s)){if(s.then(In,In),t)return s.then(o=>{Ra(e,o,t)}).catch(o=>{Us(o,e,0)});e.asyncDep=s}else Ra(e,s,t)}else Xu(e,t)}function Ra(e,t,n){me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Re(t)&&(e.setupState=Ou(t)),Xu(e,n)}let Ia;function Xu(e,t,n){const r=e.type;if(!e.render){if(!t&&Ia&&!r.render){const i=r.template||Lo(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=ze(ze({isCustomElement:s,delimiters:a},o),l);r.render=Ia(i,u)}}e.render=r.render||xt}ar(e),mr(),Uf(e),gr(),In()}function fh(e){return new Proxy(e.attrs,{get(t,n){return st(e,"get","$attrs"),t[n]}})}function hh(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=fh(e))},slots:e.slots,emit:e.emit,expose:t}}function Js(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ou(or(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ar)return Ar[n](e)},has(t,n){return n in t||n in Ar}}))}function ph(e,t=!0){return me(e)?e.displayName||e.name:e.name||t&&e.__name}function mh(e){return me(e)&&"__vccOpts"in e}const le=(e,t)=>df(e,t,Vr);function Dn(e,t,n){const r=arguments.length;return r===2?Re(t)&&!ce(t)?Es(t)?re(e,null,[t]):re(e,t):re(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Es(n)&&(n=[n]),re(e,t,n))}const gh=Symbol(""),vh=()=>rt(gh),_h="3.2.47",yh="http://www.w3.org/2000/svg",En=typeof document<"u"?document:null,Ma=En&&En.createElement("template"),bh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?En.createElementNS(yh,e):En.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>En.createTextNode(e),createComment:e=>En.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>En.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Ma.innerHTML=r?`<svg>${e}</svg>`:e;const a=Ma.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function wh(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function xh(e,t,n){const r=e.style,i=Ue(n);if(n&&!i){if(t&&!Ue(t))for(const s in t)n[s]==null&&Yi(r,s,"");for(const s in n)Yi(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const Fa=/\s*!important$/;function Yi(e,t,n){if(ce(n))n.forEach(r=>Yi(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Sh(e,t);Fa.test(n)?e.setProperty(pr(r),n.replace(Fa,""),"important"):e[r]=n}}const Da=["Webkit","Moz","ms"],gi={};function Sh(e,t){const n=gi[t];if(n)return n;let r=Mt(t);if(r!=="filter"&&r in e)return gi[t]=r;r=Ds(r);for(let i=0;i<Da.length;i++){const s=Da[i]+r;if(s in e)return gi[t]=s}return t}const La="http://www.w3.org/1999/xlink";function kh(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(La,t.slice(6,t.length)):e.setAttributeNS(La,t,n);else{const s=bd(t);n==null||s&&!nu(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function Oh(e,t,n,r,i,s,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,i,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=nu(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function qt(e,t,n,r){e.addEventListener(t,n,r)}function Eh(e,t,n,r){e.removeEventListener(t,n,r)}function Ah(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=Th(t);if(r){const u=s[t]=jh(r,i);qt(e,a,u,l)}else o&&(Eh(e,a,o,l),s[t]=void 0)}}const Ua=/(?:Once|Passive|Capture)$/;function Th(e){let t;if(Ua.test(e)){t={};let r;for(;r=e.match(Ua);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pr(e.slice(2)),t]}let vi=0;const Ch=Promise.resolve(),$h=()=>vi||(Ch.then(()=>vi=0),vi=Date.now());function jh(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;gt(Ph(r,n.value),t,5,[r])};return n.value=e,n.attached=$h(),n}function Ph(e,t){if(ce(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Na=/^on[a-z]/,Rh=(e,t,n,r,i=!1,s,o,a,l)=>{t==="class"?wh(e,r,i):t==="style"?xh(e,n,r):Ms(t)?So(t)||Ah(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ih(e,t,r,i))?Oh(e,t,r,s,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),kh(e,t,r,i))};function Ih(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Na.test(t)&&me(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Na.test(t)&&Ue(n)?!1:t in e}const Qt="transition",yr="animation",Ws=(e,{slots:t})=>Dn(Ru,Mh(e),t);Ws.displayName="Transition";const Qu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ws.props=ze({},Ru.props,Qu);const yn=(e,t=[])=>{ce(e)?e.forEach(n=>n(...t)):e&&e(...t)},Va=e=>e?ce(e)?e.some(t=>t.length>1):e.length>1:!1;function Mh(e){const t={};for(const w in e)w in Qu||(t[w]=e[w]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=Fh(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:_,onEnter:C,onEnterCancelled:P,onLeave:F,onLeaveCancelled:V,onBeforeAppear:$=_,onAppear:I=C,onAppearCancelled:x=P}=t,k=(w,E,v)=>{bn(w,E?c:a),bn(w,E?u:o),v&&v()},A=(w,E)=>{w._isLeaving=!1,bn(w,d),bn(w,h),bn(w,f),E&&E()},j=w=>(E,v)=>{const D=w?I:C,B=()=>k(E,w,v);yn(D,[E,B]),Ba(()=>{bn(E,w?l:s),en(E,w?c:a),Va(D)||Ka(E,r,m,B)})};return ze(t,{onBeforeEnter(w){yn(_,[w]),en(w,s),en(w,o)},onBeforeAppear(w){yn($,[w]),en(w,l),en(w,u)},onEnter:j(!1),onAppear:j(!0),onLeave(w,E){w._isLeaving=!0;const v=()=>A(w,E);en(w,d),Uh(),en(w,f),Ba(()=>{w._isLeaving&&(bn(w,d),en(w,h),Va(F)||Ka(w,r,y,v))}),yn(F,[w,v])},onEnterCancelled(w){k(w,!1),yn(P,[w])},onAppearCancelled(w){k(w,!0),yn(x,[w])},onLeaveCancelled(w){A(w),yn(V,[w])}})}function Fh(e){if(e==null)return null;if(Re(e))return[_i(e.enter),_i(e.leave)];{const t=_i(e);return[t,t]}}function _i(e){return Td(e)}function en(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function bn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Ba(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Dh=0;function Ka(e,t,n,r){const i=e._endId=++Dh,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=Lh(e,t);if(!o)return r();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,f),s()},f=h=>{h.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,f)}function Lh(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${Qt}Delay`),s=r(`${Qt}Duration`),o=Ha(i,s),a=r(`${yr}Delay`),l=r(`${yr}Duration`),u=Ha(a,l);let c=null,d=0,f=0;t===Qt?o>0&&(c=Qt,d=o,f=s.length):t===yr?u>0&&(c=yr,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?Qt:yr:null,f=c?c===Qt?s.length:l.length:0);const h=c===Qt&&/\b(transform|all)(,|$)/.test(r(`${Qt}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function Ha(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>za(n)+za(e[r])))}function za(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Uh(){return document.body.offsetHeight}const pn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ce(t)?n=>gs(t,n):t};function Nh(e){e.target.composing=!0}function qa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const As={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=pn(i);const s=r||i.props&&i.props.type==="number";qt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=ws(a)),e._assign(a)}),n&&qt(e,"change",()=>{e.value=e.value.trim()}),t||(qt(e,"compositionstart",Nh),qt(e,"compositionend",qa),qt(e,"change",qa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=pn(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&ws(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Zi={deep:!0,created(e,t,n){e._assign=pn(n),qt(e,"change",()=>{const r=e._modelValue,i=lr(e),s=e.checked,o=e._assign;if(ce(r)){const a=xo(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(hr(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(nc(e,s))})},mounted:Ja,beforeUpdate(e,t,n){e._assign=pn(n),Ja(e,t,n)}};function Ja(e,{value:t,oldValue:n},r){e._modelValue=t,ce(t)?e.checked=xo(t,r.props.value)>-1:hr(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Fn(t,nc(e,!0)))}const ec={created(e,{value:t},n){e.checked=Fn(t,n.props.value),e._assign=pn(n),qt(e,"change",()=>{e._assign(lr(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=pn(r),t!==n&&(e.checked=Fn(t,r.props.value))}},tc={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=hr(t);qt(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ws(lr(o)):lr(o));e._assign(e.multiple?i?new Set(s):s:s[0])}),e._assign=pn(r)},mounted(e,{value:t}){Wa(e,t)},beforeUpdate(e,t,n){e._assign=pn(n)},updated(e,{value:t}){Wa(e,t)}};function Wa(e,t){const n=e.multiple;if(!(n&&!ce(t)&&!hr(t))){for(let r=0,i=e.options.length;r<i;r++){const s=e.options[r],o=lr(s);if(n)ce(t)?s.selected=xo(t,o)>-1:s.selected=t.has(o);else if(Fn(lr(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function lr(e){return"_value"in e?e._value:e.value}function nc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Vh={created(e,t,n){ls(e,t,n,null,"created")},mounted(e,t,n){ls(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){ls(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){ls(e,t,n,r,"updated")}};function Bh(e,t){switch(e){case"SELECT":return tc;case"TEXTAREA":return As;default:switch(t){case"checkbox":return Zi;case"radio":return ec;default:return As}}}function ls(e,t,n,r,i){const o=Bh(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,r)}const Kh=["ctrl","shift","alt","meta"],Hh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Kh.some(n=>e[`${n}Key`]&&!t.includes(n))},Bo=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const s=Hh[t[i]];if(s&&s(n,t))return}return e(n,...r)},zh=ze({patchProp:Rh},bh);let Ga;function qh(){return Ga||(Ga=Zf(zh))}const Jh=(...e)=>{const t=qh().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Wh(r);if(!i)return;const s=t._component;!me(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Wh(e){return Ue(e)?document.querySelector(e):e}var Gh=!1;/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let rc;const Gs=e=>rc=e,sc=Symbol();function Xi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var $r;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})($r||($r={}));function Yh(){const e=au(!0),t=e.run(()=>J({}));let n=[],r=[];const i=or({install(s){Gs(i),i._a=s,s.provide(sc,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!Gh?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const ic=()=>{};function Ya(e,t,n,r=ic){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&lu()&&jd(i),i}function Hn(e,...t){e.slice().forEach(n=>{n(...t)})}function Qi(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Xi(i)&&Xi(r)&&e.hasOwnProperty(n)&&!Ce(r)&&!Gt(r)?e[n]=Qi(i,r):e[n]=r}return e}const Zh=Symbol();function Xh(e){return!Xi(e)||!e.hasOwnProperty(Zh)}const{assign:rn}=Object;function Qh(e){return!!(Ce(e)&&e.effect)}function ep(e,t,n,r){const{state:i,actions:s,getters:o}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=i?i():{});const c=mt(n.state.value[e]);return rn(c,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=or(le(()=>{Gs(n);const h=n._s.get(e);return o[f].call(h,h)})),d),{}))}return l=oc(e,u,t,n,r,!0),l}function oc(e,t,n={},r,i,s){let o;const a=rn({actions:{}},n),l={deep:!0};let u,c,d=or([]),f=or([]),h;const p=r.state.value[e];!s&&!p&&(r.state.value[e]={}),J({});let m;function y(I){let x;u=c=!1,typeof I=="function"?(I(r.state.value[e]),x={type:$r.patchFunction,storeId:e,events:h}):(Qi(r.state.value[e],I),x={type:$r.patchObject,payload:I,storeId:e,events:h});const k=m=Symbol();Wt().then(()=>{m===k&&(u=!0)}),c=!0,Hn(d,x,r.state.value[e])}const _=s?function(){const{state:x}=n,k=x?x():{};this.$patch(A=>{rn(A,k)})}:ic;function C(){o.stop(),d=[],f=[],r._s.delete(e)}function P(I,x){return function(){Gs(r);const k=Array.from(arguments),A=[],j=[];function w(D){A.push(D)}function E(D){j.push(D)}Hn(f,{args:k,name:I,store:V,after:w,onError:E});let v;try{v=x.apply(this&&this.$id===e?this:V,k)}catch(D){throw Hn(j,D),D}return v instanceof Promise?v.then(D=>(Hn(A,D),D)).catch(D=>(Hn(j,D),Promise.reject(D))):(Hn(A,v),v)}}const F={_p:r,$id:e,$onAction:Ya.bind(null,f),$patch:y,$reset:_,$subscribe(I,x={}){const k=Ya(d,I,x.detached,()=>A()),A=o.run(()=>Ke(()=>r.state.value[e],j=>{(x.flush==="sync"?c:u)&&I({storeId:e,type:$r.direct,events:h},j)},rn({},l,x)));return k},$dispose:C},V=Xe(F);r._s.set(e,V);const $=r._e.run(()=>(o=au(),o.run(()=>t())));for(const I in $){const x=$[I];if(Ce(x)&&!Qh(x)||Gt(x))s||(p&&Xh(x)&&(Ce(x)?x.value=p[I]:Qi(x,p[I])),r.state.value[e][I]=x);else if(typeof x=="function"){const k=P(I,x);$[I]=k,a.actions[I]=x}}return rn(V,$),rn(ye(V),$),Object.defineProperty(V,"$state",{get:()=>r.state.value[e],set:I=>{y(x=>{rn(x,I)})}}),r._p.forEach(I=>{rn(V,o.run(()=>I({store:V,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(V.$state,p),u=!0,c=!0,V}function Ys(e,t,n){let r,i;const s=typeof t=="function";typeof e=="string"?(r=e,i=s?n:t):(i=e,r=e.id);function o(a,l){const u=Yr();return a=a||u&&rt(sc,null),a&&Gs(a),a=rc,a._s.has(r)||(s?oc(r,t,i,a):ep(r,i,a)),a._s.get(r)}return o.$id=r,o}function tp(e){{e=ye(e);const t={};for(const n in e){const r=e[n];(Ce(r)||Gt(r))&&(t[n]=Pt(e,n))}return t}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Gn=typeof window<"u";function np(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Te=Object.assign;function yi(e,t){const n={};for(const r in t){const i=t[r];n[r]=kt(i)?i.map(e):e(i)}return n}const jr=()=>{},kt=Array.isArray,rp=/\/$/,sp=e=>e.replace(rp,"");function bi(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=lp(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function ip(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Za(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function op(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ur(t.matched[r],n.matched[i])&&ac(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ur(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ac(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ap(e[n],t[n]))return!1;return!0}function ap(e,t){return kt(e)?Xa(e,t):kt(t)?Xa(t,e):e===t}function Xa(e,t){return kt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function lp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var Br;(function(e){e.pop="pop",e.push="push"})(Br||(Br={}));var Pr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Pr||(Pr={}));function up(e){if(!e)if(Gn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),sp(e)}const cp=/^[^#]+#/;function dp(e,t){return e.replace(cp,"#")+t}function fp(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Zs=()=>({left:window.pageXOffset,top:window.pageYOffset});function hp(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=fp(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Qa(e,t){return(history.state?history.state.position-t:-1)+e}const eo=new Map;function pp(e,t){eo.set(e,t)}function mp(e){const t=eo.get(e);return eo.delete(e),t}let gp=()=>location.protocol+"//"+location.host;function lc(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Za(l,"")}return Za(n,e)+r+i}function vp(e,t,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const h=lc(e,location),p=n.value,m=t.value;let y=0;if(f){if(n.value=h,t.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else r(h);i.forEach(_=>{_(n.value,p,{delta:y,type:Br.pop,direction:y?y>0?Pr.forward:Pr.back:Pr.unknown})})};function l(){o=n.value}function u(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Te({},f.state,{scroll:Zs()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:d}}function el(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Zs():null}}function _p(e){const{history:t,location:n}=window,r={value:lc(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:gp()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function o(l,u){const c=Te({},t.state,el(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Te({},i.value,t.state,{forward:l,scroll:Zs()});s(c.current,c,!0);const d=Te({},el(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function yp(e){e=up(e);const t=_p(e),n=vp(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Te({location:"",base:e,go:r,createHref:dp.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function bp(e){return typeof e=="string"||e&&typeof e=="object"}function uc(e){return typeof e=="string"||typeof e=="symbol"}const tn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},cc=Symbol("");var tl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(tl||(tl={}));function cr(e,t){return Te(new Error,{type:e,[cc]:!0},t)}function Bt(e,t){return e instanceof Error&&cc in e&&(t==null||!!(e.type&t))}const nl="[^/]+?",wp={sensitive:!1,strict:!1,start:!0,end:!0},xp=/[.+*?^${}()[\]/\\]/g;function Sp(e,t){const n=Te({},wp,t),r=[];let i=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(xp,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:_}=f;s.push({name:p,repeatable:m,optional:y});const C=_||nl;if(C!==nl){h+=10;try{new RegExp(`(${C})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${p}" (${C}): `+F.message)}}let P=m?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(P=y&&u.length<2?`(?:/${P})`:"/"+P),y&&(P+="?"),i+=P,h+=20,y&&(h+=-8),m&&(h+=-20),C===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=s[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,_=p in u?u[p]:"";if(kt(_)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const C=kt(_)?_.join("/"):_;if(!C)if(y)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=C}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function kp(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Op(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=kp(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(rl(r))return 1;if(rl(i))return-1}return i.length-r.length}function rl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ep={type:0,value:""},Ap=/[a-zA-Z0-9_]/;function Tp(e){if(!e)return[[]];if(e==="/")return[[Ep]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Ap.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function Cp(e,t,n){const r=Sp(Tp(e.path),n),i=Te(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function $p(e,t){const n=[],r=new Map;t=ol({strict:!1,end:!0,sensitive:!1},t);function i(c){return r.get(c)}function s(c,d,f){const h=!f,p=jp(c);p.aliasOf=f&&f.record;const m=ol(t,c),y=[p];if("alias"in c){const P=typeof c.alias=="string"?[c.alias]:c.alias;for(const F of P)y.push(Te({},p,{components:f?f.record.components:p.components,path:F,aliasOf:f?f.record:p}))}let _,C;for(const P of y){const{path:F}=P;if(d&&F[0]!=="/"){const V=d.record.path,$=V[V.length-1]==="/"?"":"/";P.path=d.record.path+(F&&$+F)}if(_=Cp(P,d,m),f?f.alias.push(_):(C=C||_,C!==_&&C.alias.push(_),h&&c.name&&!il(_)&&o(c.name)),p.children){const V=p.children;for(let $=0;$<V.length;$++)s(V[$],_,f&&f.children[$])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return C?()=>{o(C)}:jr}function o(c){if(uc(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&Op(c,n[d])>=0&&(c.record.path!==n[d].record.path||!dc(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!il(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},p,m;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw cr(1,{location:c});m=f.record.name,h=Te(sl(d.params,f.keys.filter(C=>!C.optional).map(C=>C.name)),c.params&&sl(c.params,f.keys.map(C=>C.name))),p=f.stringify(h)}else if("path"in c)p=c.path,f=n.find(C=>C.re.test(p)),f&&(h=f.parse(p),m=f.record.name);else{if(f=d.name?r.get(d.name):n.find(C=>C.re.test(d.path)),!f)throw cr(1,{location:c,currentLocation:d});m=f.record.name,h=Te({},d.params,c.params),p=f.stringify(h)}const y=[];let _=f;for(;_;)y.unshift(_.record),_=_.parent;return{name:m,path:p,params:h,matched:y,meta:Rp(y)}}return e.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function sl(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function jp(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Pp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Pp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function il(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Rp(e){return e.reduce((t,n)=>Te(t,n.meta),{})}function ol(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function dc(e,t){return t.children.some(n=>n===e||dc(e,n))}const fc=/#/g,Ip=/&/g,Mp=/\//g,Fp=/=/g,Dp=/\?/g,hc=/\+/g,Lp=/%5B/g,Up=/%5D/g,pc=/%5E/g,Np=/%60/g,mc=/%7B/g,Vp=/%7C/g,gc=/%7D/g,Bp=/%20/g;function Ko(e){return encodeURI(""+e).replace(Vp,"|").replace(Lp,"[").replace(Up,"]")}function Kp(e){return Ko(e).replace(mc,"{").replace(gc,"}").replace(pc,"^")}function to(e){return Ko(e).replace(hc,"%2B").replace(Bp,"+").replace(fc,"%23").replace(Ip,"%26").replace(Np,"`").replace(mc,"{").replace(gc,"}").replace(pc,"^")}function Hp(e){return to(e).replace(Fp,"%3D")}function zp(e){return Ko(e).replace(fc,"%23").replace(Dp,"%3F")}function qp(e){return e==null?"":zp(e).replace(Mp,"%2F")}function Ts(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Jp(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(hc," "),o=s.indexOf("="),a=Ts(o<0?s:s.slice(0,o)),l=o<0?null:Ts(s.slice(o+1));if(a in t){let u=t[a];kt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function al(e){let t="";for(let n in e){const r=e[n];if(n=Hp(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(kt(r)?r.map(s=>s&&to(s)):[r&&to(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Wp(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=kt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Gp=Symbol(""),ll=Symbol(""),Xs=Symbol(""),Ho=Symbol(""),no=Symbol("");function br(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function an(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(cr(4,{from:n,to:t})):d instanceof Error?a(d):bp(d)?a(cr(2,{from:t,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},u=e.call(r&&r.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function wi(e,t,n,r){const i=[];for(const s of e)for(const o in s.components){let a=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(Yp(a)){const u=(a.__vccOpts||a)[t];u&&i.push(an(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=np(u)?u.default:u;s.components[o]=c;const f=(c.__vccOpts||c)[t];return f&&an(f,n,r,s,o)()}))}}return i}function Yp(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ul(e){const t=rt(Xs),n=rt(Ho),r=le(()=>t.resolve(U(e.to))),i=le(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(ur.bind(null,c));if(f>-1)return f;const h=cl(l[u-2]);return u>1&&cl(c)===h&&d[d.length-1].path!==h?d.findIndex(ur.bind(null,l[u-2])):f}),s=le(()=>i.value>-1&&em(n.params,r.value.params)),o=le(()=>i.value>-1&&i.value===n.matched.length-1&&ac(n.params,r.value.params));function a(l={}){return Qp(l)?t[U(e.replace)?"replace":"push"](U(e.to)).catch(jr):Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const Zp=Wr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ul,setup(e,{slots:t}){const n=Xe(ul(e)),{options:r}=rt(Xs),i=le(()=>({[dl(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[dl(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Dn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Xp=Zp;function Qp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function em(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!kt(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function cl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const dl=(e,t,n)=>e??t??n,tm=Wr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=rt(no),i=le(()=>e.route||r.value),s=rt(ll,0),o=le(()=>{let u=U(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=le(()=>i.value.matched[o.value]);nr(ll,le(()=>o.value+1)),nr(Gp,a),nr(no,i);const l=J();return Ke(()=>[l.value,a.value,e.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!ur(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return fl(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,y=Dn(f,Te({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return fl(n.default,{Component:y,route:u})||y}}});function fl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const nm=tm;function rm(e){const t=$p(e.routes,e),n=e.parseQuery||Jp,r=e.stringifyQuery||al,i=e.history,s=br(),o=br(),a=br(),l=Su(tn);let u=tn;Gn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=yi.bind(null,T=>""+T),d=yi.bind(null,qp),f=yi.bind(null,Ts);function h(T,z){let W,Q;return uc(T)?(W=t.getRecordMatcher(T),Q=z):Q=T,t.addRoute(Q,W)}function p(T){const z=t.getRecordMatcher(T);z&&t.removeRoute(z)}function m(){return t.getRoutes().map(T=>T.record)}function y(T){return!!t.getRecordMatcher(T)}function _(T,z){if(z=Te({},z||l.value),typeof T=="string"){const g=bi(n,T,z.path),b=t.resolve({path:g.path},z),L=i.createHref(g.fullPath);return Te(g,b,{params:f(b.params),hash:Ts(g.hash),redirectedFrom:void 0,href:L})}let W;if("path"in T)W=Te({},T,{path:bi(n,T.path,z.path).path});else{const g=Te({},T.params);for(const b in g)g[b]==null&&delete g[b];W=Te({},T,{params:d(T.params)}),z.params=d(z.params)}const Q=t.resolve(W,z),he=T.hash||"";Q.params=c(f(Q.params));const be=ip(r,Te({},T,{hash:Kp(he),path:Q.path})),de=i.createHref(be);return Te({fullPath:be,hash:he,query:r===al?Wp(T.query):T.query||{}},Q,{redirectedFrom:void 0,href:de})}function C(T){return typeof T=="string"?bi(n,T,l.value.path):Te({},T)}function P(T,z){if(u!==T)return cr(8,{from:z,to:T})}function F(T){return I(T)}function V(T){return F(Te(C(T),{replace:!0}))}function $(T){const z=T.matched[T.matched.length-1];if(z&&z.redirect){const{redirect:W}=z;let Q=typeof W=="function"?W(T):W;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=C(Q):{path:Q},Q.params={}),Te({query:T.query,hash:T.hash,params:"path"in Q?{}:T.params},Q)}}function I(T,z){const W=u=_(T),Q=l.value,he=T.state,be=T.force,de=T.replace===!0,g=$(W);if(g)return I(Te(C(g),{state:typeof g=="object"?Te({},he,g.state):he,force:be,replace:de}),z||W);const b=W;b.redirectedFrom=z;let L;return!be&&op(r,Q,W)&&(L=cr(16,{to:b,from:Q}),$e(Q,Q,!0,!1)),(L?Promise.resolve(L):k(b,Q)).catch(N=>Bt(N)?Bt(N,2)?N:ue(N):te(N,b,Q)).then(N=>{if(N){if(Bt(N,2))return I(Te({replace:de},C(N.to),{state:typeof N.to=="object"?Te({},he,N.to.state):he,force:be}),z||b)}else N=j(b,Q,!0,de,he);return A(b,Q,N),N})}function x(T,z){const W=P(T,z);return W?Promise.reject(W):Promise.resolve()}function k(T,z){let W;const[Q,he,be]=sm(T,z);W=wi(Q.reverse(),"beforeRouteLeave",T,z);for(const g of Q)g.leaveGuards.forEach(b=>{W.push(an(b,T,z))});const de=x.bind(null,T,z);return W.push(de),zn(W).then(()=>{W=[];for(const g of s.list())W.push(an(g,T,z));return W.push(de),zn(W)}).then(()=>{W=wi(he,"beforeRouteUpdate",T,z);for(const g of he)g.updateGuards.forEach(b=>{W.push(an(b,T,z))});return W.push(de),zn(W)}).then(()=>{W=[];for(const g of T.matched)if(g.beforeEnter&&!z.matched.includes(g))if(kt(g.beforeEnter))for(const b of g.beforeEnter)W.push(an(b,T,z));else W.push(an(g.beforeEnter,T,z));return W.push(de),zn(W)}).then(()=>(T.matched.forEach(g=>g.enterCallbacks={}),W=wi(be,"beforeRouteEnter",T,z),W.push(de),zn(W))).then(()=>{W=[];for(const g of o.list())W.push(an(g,T,z));return W.push(de),zn(W)}).catch(g=>Bt(g,8)?g:Promise.reject(g))}function A(T,z,W){for(const Q of a.list())Q(T,z,W)}function j(T,z,W,Q,he){const be=P(T,z);if(be)return be;const de=z===tn,g=Gn?history.state:{};W&&(Q||de?i.replace(T.fullPath,Te({scroll:de&&g&&g.scroll},he)):i.push(T.fullPath,he)),l.value=T,$e(T,z,W,de),ue()}let w;function E(){w||(w=i.listen((T,z,W)=>{if(!Se.listening)return;const Q=_(T),he=$(Q);if(he){I(Te(he,{replace:!0}),Q).catch(jr);return}u=Q;const be=l.value;Gn&&pp(Qa(be.fullPath,W.delta),Zs()),k(Q,be).catch(de=>Bt(de,12)?de:Bt(de,2)?(I(de.to,Q).then(g=>{Bt(g,20)&&!W.delta&&W.type===Br.pop&&i.go(-1,!1)}).catch(jr),Promise.reject()):(W.delta&&i.go(-W.delta,!1),te(de,Q,be))).then(de=>{de=de||j(Q,be,!1),de&&(W.delta&&!Bt(de,8)?i.go(-W.delta,!1):W.type===Br.pop&&Bt(de,20)&&i.go(-1,!1)),A(Q,be,de)}).catch(jr)}))}let v=br(),D=br(),B;function te(T,z,W){ue(T);const Q=D.list();return Q.length?Q.forEach(he=>he(T,z,W)):console.error(T),Promise.reject(T)}function se(){return B&&l.value!==tn?Promise.resolve():new Promise((T,z)=>{v.add([T,z])})}function ue(T){return B||(B=!T,E(),v.list().forEach(([z,W])=>T?W(T):z()),v.reset()),T}function $e(T,z,W,Q){const{scrollBehavior:he}=e;if(!Gn||!he)return Promise.resolve();const be=!W&&mp(Qa(T.fullPath,0))||(Q||!W)&&history.state&&history.state.scroll||null;return Wt().then(()=>he(T,z,be)).then(de=>de&&hp(de)).catch(de=>te(de,T,z))}const Ae=T=>i.go(T);let Fe;const Pe=new Set,Se={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:y,getRoutes:m,resolve:_,options:e,push:F,replace:V,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:D.add,isReady:se,install(T){const z=this;T.component("RouterLink",Xp),T.component("RouterView",nm),T.config.globalProperties.$router=z,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>U(l)}),Gn&&!Fe&&l.value===tn&&(Fe=!0,F(i.location).catch(he=>{}));const W={};for(const he in tn)W[he]=le(()=>l.value[he]);T.provide(Xs,z),T.provide(Ho,Xe(W)),T.provide(no,l);const Q=T.unmount;Pe.add(T),T.unmount=function(){Pe.delete(T),Pe.size<1&&(u=tn,w&&w(),w=null,l.value=tn,Fe=!1,B=!1),Q()}}};return Se}function zn(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function sm(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>ur(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>ur(u,l))||i.push(l))}return[n,r,i]}function Zr(){return rt(Xs)}function Nt(){return rt(Ho)}const im="modulepreload",om=function(e){return"/KAKUKAKU/"+e},hl={},Qs=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=om(s),s in hl)return;hl[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":im,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};var am=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const lm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>am(void 0,void 0,void 0,function*(){return yield(yield Qs(()=>Promise.resolve().then(()=>ei),void 0)).fetch(...n)}):t=fetch,(...n)=>t(...n)};class zo extends Error{constructor(t,n="FunctionsError",r){super(t),super.name=n,this.context=r}}class um extends zo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cm extends zo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dm extends zo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fm=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class hm{constructor(t,{headers:n={},customFetch:r}={}){this.url=t,this.headers=n,this.fetch=lm(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return fm(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},l;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(h=>{throw new um(h)}),c=u.headers.get("x-relay-error");if(c&&c==="true")throw new cm(u);if(!u.ok)throw new dm(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield u.json():d==="application/octet-stream"?f=yield u.blob():d==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dr={},gm={get exports(){return dr},set exports(e){dr=e}};(function(e,t){var n=typeof self<"u"?self:pm,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(v){return v&&DataView.prototype.isPrototypeOf(v)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function d(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function f(v){return typeof v!="string"&&(v=String(v)),v}function h(v){var D={next:function(){var B=v.shift();return{done:B===void 0,value:B}}};return a.iterable&&(D[Symbol.iterator]=function(){return D}),D}function p(v){this.map={},v instanceof p?v.forEach(function(D,B){this.append(B,D)},this):Array.isArray(v)?v.forEach(function(D){this.append(D[0],D[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(D){this.append(D,v[D])},this)}p.prototype.append=function(v,D){v=d(v),D=f(D);var B=this.map[v];this.map[v]=B?B+", "+D:D},p.prototype.delete=function(v){delete this.map[d(v)]},p.prototype.get=function(v){return v=d(v),this.has(v)?this.map[v]:null},p.prototype.has=function(v){return this.map.hasOwnProperty(d(v))},p.prototype.set=function(v,D){this.map[d(v)]=f(D)},p.prototype.forEach=function(v,D){for(var B in this.map)this.map.hasOwnProperty(B)&&v.call(D,this.map[B],B,this)},p.prototype.keys=function(){var v=[];return this.forEach(function(D,B){v.push(B)}),h(v)},p.prototype.values=function(){var v=[];return this.forEach(function(D){v.push(D)}),h(v)},p.prototype.entries=function(){var v=[];return this.forEach(function(D,B){v.push([B,D])}),h(v)},a.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function m(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function y(v){return new Promise(function(D,B){v.onload=function(){D(v.result)},v.onerror=function(){B(v.error)}})}function _(v){var D=new FileReader,B=y(D);return D.readAsArrayBuffer(v),B}function C(v){var D=new FileReader,B=y(D);return D.readAsText(v),B}function P(v){for(var D=new Uint8Array(v),B=new Array(D.length),te=0;te<D.length;te++)B[te]=String.fromCharCode(D[te]);return B.join("")}function F(v){if(v.slice)return v.slice(0);var D=new Uint8Array(v.byteLength);return D.set(new Uint8Array(v)),D.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:a.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:a.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():a.arrayBuffer&&a.blob&&l(v)?(this._bodyArrayBuffer=F(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||c(v))?this._bodyArrayBuffer=F(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var v=m(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var v=m(this);if(v)return v;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function I(v){var D=v.toUpperCase();return $.indexOf(D)>-1?D:v}function x(v,D){D=D||{};var B=D.body;if(v instanceof x){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,D.headers||(this.headers=new p(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!B&&v._bodyInit!=null&&(B=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new p(D.headers)),this.method=I(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function k(v){var D=new FormData;return v.trim().split("&").forEach(function(B){if(B){var te=B.split("="),se=te.shift().replace(/\+/g," "),ue=te.join("=").replace(/\+/g," ");D.append(decodeURIComponent(se),decodeURIComponent(ue))}}),D}function A(v){var D=new p,B=v.replace(/\r?\n[\t ]+/g," ");return B.split(/\r?\n/).forEach(function(te){var se=te.split(":"),ue=se.shift().trim();if(ue){var $e=se.join(":").trim();D.append(ue,$e)}}),D}V.call(x.prototype);function j(v,D){D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in D?D.statusText:"OK",this.headers=new p(D.headers),this.url=D.url||"",this._initBody(v)}V.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},j.error=function(){var v=new j(null,{status:0,statusText:""});return v.type="error",v};var w=[301,302,303,307,308];j.redirect=function(v,D){if(w.indexOf(D)===-1)throw new RangeError("Invalid status code");return new j(null,{status:D,headers:{location:v}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(D,B){this.message=D,this.name=B;var te=Error(D);this.stack=te.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function E(v,D){return new Promise(function(B,te){var se=new x(v,D);if(se.signal&&se.signal.aborted)return te(new o.DOMException("Aborted","AbortError"));var ue=new XMLHttpRequest;function $e(){ue.abort()}ue.onload=function(){var Ae={status:ue.status,statusText:ue.statusText,headers:A(ue.getAllResponseHeaders()||"")};Ae.url="responseURL"in ue?ue.responseURL:Ae.headers.get("X-Request-URL");var Fe="response"in ue?ue.response:ue.responseText;B(new j(Fe,Ae))},ue.onerror=function(){te(new TypeError("Network request failed"))},ue.ontimeout=function(){te(new TypeError("Network request failed"))},ue.onabort=function(){te(new o.DOMException("Aborted","AbortError"))},ue.open(se.method,se.url,!0),se.credentials==="include"?ue.withCredentials=!0:se.credentials==="omit"&&(ue.withCredentials=!1),"responseType"in ue&&a.blob&&(ue.responseType="blob"),se.headers.forEach(function(Ae,Fe){ue.setRequestHeader(Fe,Ae)}),se.signal&&(se.signal.addEventListener("abort",$e),ue.onreadystatechange=function(){ue.readyState===4&&se.signal.removeEventListener("abort",$e)}),ue.send(typeof se._bodyInit>"u"?null:se._bodyInit)})}return E.polyfill=!0,s.fetch||(s.fetch=E,s.Headers=p,s.Request=x,s.Response=j),o.Headers=p,o.Request=x,o.Response=j,o.fetch=E,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(gm,dr);const qo=mm(dr),ei=pd({__proto__:null,default:qo},[dr]);class vm{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=qo:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,c=null,d=null,f=s.status,h=s.statusText;if(s.ok){if(this.method!=="HEAD"){const _=await s.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=_:c=JSON.parse(_))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(c=[],u=null,f=200,h="OK")}catch{s.status===404&&m===""?(f=204,h="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("Results contain 0 rows"))&&(u=null,f=200,h="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:c,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}}class _m extends vm{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:r}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Yn extends _m{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=n.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}}class ym{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Yn({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yn({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Yn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const bm="1.6.1",wm={"X-Client-Info":`postgrest-js/${bm}`};class xm{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},wm),n),this.schema=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new ym(n,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(t,n={},{head:r=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let a;r?(s="HEAD",Object.entries(n).forEach(([u,c])=>{o.searchParams.append(u,`${c}`)})):(s="POST",a=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Yn({method:s,url:o,headers:l,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var xi,pl;function Sm(){if(pl)return xi;pl=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return xi=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),xi}const km="websocket",Om="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Em=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Am="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Tm=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Cm="1.0.34",$m={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},jm="https://github.com/theturtle32/WebSocket-Node",Pm={node:">=4.0.0"},Rm={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Im={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Mm={verbose:!1},Fm={test:"tape test/unit/*.js",gulp:"gulp"},Dm="index",Lm={lib:"./lib"},Um="lib/browser.js",Nm="Apache-2.0",Vm={name:km,description:Om,keywords:Em,author:Am,contributors:Tm,version:Cm,repository:$m,homepage:jm,engines:Pm,dependencies:Rm,devDependencies:Im,config:Mm,scripts:Fm,main:Dm,directories:Lm,browser:Um,license:Nm};var Bm=Vm.version,An;if(typeof globalThis=="object")An=globalThis;else try{An=Sm()}catch{}finally{if(!An&&typeof window<"u"&&(An=window),!An)throw new Error("Could not determine global this")}var Kr=An.WebSocket||An.MozWebSocket,Km=Bm;function vc(e,t){var n;return t?n=new Kr(e,t):n=new Kr(e),n}Kr&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(vc,e,{get:function(){return Kr[e]}})});var Hm={w3cwebsocket:Kr?vc:null,version:Km};const zm="2.7.2",qm={"X-Client-Info":`realtime-js/${zm}`},Jm="1.0.0",_c=1e4,Wm=1e3;var Rr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rr||(Rr={}));var at;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(at||(at={}));var yt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yt||(yt={}));var ro;(function(e){e.websocket="websocket"})(ro||(ro={}));var Tn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Tn||(Tn={}));class yc{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Gm{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Si{constructor(t,n,r={},i=_c){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ml;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ml||(ml={}));class Ir{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ir.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Ir.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ir.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(y=>y.presence_ref),h=d.map(y=>y.presence_ref),p=c.filter(y=>h.indexOf(y.presence_ref)<0),m=d.filter(y=>f.indexOf(y.presence_ref)<0);p.length>0&&(a[u]=p),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ie||(Ie={}));const gl=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=Ym(o,e,t,i),s),{})},Ym=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?bc(s,o):so(o)},bc=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return eg(t,n)}switch(e){case Ie.bool:return Zm(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Xm(t);case Ie.json:case Ie.jsonb:return Qm(t);case Ie.timestamp:return tg(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return so(t);default:return so(t)}},so=e=>e,Zm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Xm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>bc(t,a))}return e},tg=e=>typeof e=="string"?e.replace(" ","T"):e;var vl=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})},_l;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_l||(_l={}));var yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(yl||(yl={}));var bl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bl||(bl={}));class Jo{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Si(this,yt.join,this.params,this.timeout),this.rejoinTimer=new yc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ir(this)}subscribe(t,n=this.timeout){var r,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,f=(c=d==null?void 0:d.length)!==null&&c!==void 0?c:0,h=[];for(let p=0;p<f;p++){const m=d[p],{filter:{event:y,schema:_,table:C,filter:P}}=m,F=u&&u[p];if(F&&F.event===y&&F.schema===_&&F.table===C&&F.filter===P)h.push(Object.assign(Object.assign({},m),{id:F.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t,n={}){return vl(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(t={}){return vl(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this._on(t,n,r)}send(t,n={}){return new Promise(r=>{var i,s,o;const a=this._push(t.type,t,n.timeout||this.timeout);a.rateLimited&&r("rate limited"),t.type==="broadcast"&&!(!((o=(s=(i=this.params)===null||i===void 0?void 0:i.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Si(this,yt.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Si(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=yt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,m,y;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(m=h.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(h=>{var p,m,y,_,C,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const F=h.id,V=(p=h.filter)===null||p===void 0?void 0:p.event;return F&&((m=n.ids)===null||m===void 0?void 0:m.includes(F))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const F=(C=(_=h==null?void 0:h.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return F==="*"||F===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:m,table:y,commit_timestamp:_,type:C,errors:P}=p;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:_,eventType:C,new:{},old:{},errors:P}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Jo.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yt.close,{},t)}_onError(t){this._on(yt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=gl(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=gl(t.columns,t.old_record)),n}}var ki=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ng=()=>{};class rg{constructor(t,n){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=qm,this.params={},this.timeout=_c,this.transport=Hm.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ng,this.conn=null,this.sendBuffer=[],this.serializer=new Gm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${t}/${ro.websocket}`,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.transport&&(this.transport=n.transport),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yc(()=>ki(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return ki(this,void 0,void 0,function*(){const n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return ki(this,void 0,void 0,function*(){const t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return Tn.Connecting;case Rr.open:return Tn.Open;case Rr.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}channel(t,n={config:{}}){this.isConnected()||this.connect();const r=new Jo(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t;let o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};if(this.log("push",`${n} ${r} (${s})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(yt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jm}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(yt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Wm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,n=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(t(),n>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n)),!1)}}class Wo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sg extends Wo{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wl extends Wo{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var wc=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const xc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wc(void 0,void 0,void 0,function*(){return yield(yield Qs(()=>Promise.resolve().then(()=>ei),void 0)).fetch(...n)}):t=fetch,(...n)=>t(...n)},ig=()=>wc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qs(()=>Promise.resolve().then(()=>ei),void 0)).Response:Response});var _r=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),og=(e,t)=>_r(void 0,void 0,void 0,function*(){const n=yield ig();e instanceof n?e.json().then(r=>{t(new sg(Oi(r),e.status||500))}).catch(r=>{t(new wl(Oi(r),r))}):t(new wl(Oi(e),e))}),ag=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function ti(e,t,n,r,i,s){return _r(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,ag(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>og(l,a))})})}function io(e,t,n,r){return _r(this,void 0,void 0,function*(){return ti(e,"GET",t,n,r)})}function ln(e,t,n,r,i){return _r(this,void 0,void 0,function*(){return ti(e,"POST",t,r,i,n)})}function lg(e,t,n,r,i){return _r(this,void 0,void 0,function*(){return ti(e,"PUT",t,r,i,n)})}function Sc(e,t,n,r,i){return _r(this,void 0,void 0,function*(){return ti(e,"DELETE",t,r,i,n)})}var pt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ug={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cg{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=xc(i)}uploadOrUpdate(t,n,r,i){return pt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},xl),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return c.ok?{data:{path:l},error:null}:{data:null,error:yield c.json()}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}upload(t,n,r){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return pt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:xl.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c});return d.ok?{data:{path:s},error:null}:{data:null,error:yield d.json()}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t){return pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=yield ln(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),i=new URL(this.url+r.url),s=i.searchParams.get("token");if(!s)throw new Wo("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:s},error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}update(t,n,r){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n){return pt(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}copy(t,n){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,r){return pt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ln(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Je(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return pt(this,void 0,void 0,function*(){try{const i=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Je(i))return{data:null,error:i};throw i}})}download(t,n){return pt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield io(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Je(a))return{data:null,error:a};throw a}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return pt(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}list(t,n,r){return pt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ug),n),{prefix:t||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Je(i))return{data:null,error:i};throw i}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const dg="2.5.1",fg={"X-Client-Info":`storage-js/${dg}`};var qn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class hg{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},fg),n),this.fetch=xc(r)}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Je(t))return{data:null,error:t};throw t}})}getBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return qn(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return qn(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}}class pg extends hg{constructor(t,n={},r){super(t,n,r)}from(t){return new cg(this.url,this.headers,t,this.fetch)}}const mg="2.22.0",gg={"X-Client-Info":`supabase-js/${mg}`};var vg=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const _g=e=>{let t;return e?t=e:typeof fetch>"u"?t=qo:t=fetch,(...n)=>t(...n)},yg=()=>typeof Headers>"u"?dr.Headers:Headers,bg=(e,t,n)=>{const r=_g(n),i=yg();return(s,o)=>vg(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};function wg(e){return e.replace(/\/$/,"")}function xg(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:u}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}var Vn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Sg(e){return Math.round(Date.now()/1e3)+e}function kg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const sn=()=>typeof document<"u",wn={tested:!1,writable:!1},Ei=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wn.tested)return wn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wn.tested=!0,wn.writable=!0}catch{wn.tested=!0,wn.writable=!1}return wn.writable};function et(e,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const kc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vn(void 0,void 0,void 0,function*(){return yield(yield Qs(()=>Promise.resolve().then(()=>ei),void 0)).fetch(...n)}):t=fetch,(...n)=>t(...n)},Og=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wr=(e,t,n)=>Vn(void 0,void 0,void 0,function*(){yield e.setItem(t,JSON.stringify(n))}),us=(e,t)=>Vn(void 0,void 0,void 0,function*(){const n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Ai=(e,t)=>Vn(void 0,void 0,void 0,function*(){yield e.removeItem(t)});function Eg(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class ni{constructor(){this.promise=new ni.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ni.promiseConstructor=Promise;function Sl(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Eg(r))}function Ag(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function Tg(e,t){return new Promise((r,i)=>{Vn(this,void 0,void 0,function*(){for(let s=0;s<1/0;s++)try{const o=yield e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})})}function Cg(e){return("0"+e.toString(16)).substr(-2)}function cs(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Cg).join("")}function $g(e){return Vn(this,void 0,void 0,function*(){const n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function jg(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ds(e){return Vn(this,void 0,void 0,function*(){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield $g(e);return jg(t)})}class Go extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Pg extends Go{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Rg(e){return xe(e)&&e.name==="AuthApiError"}class Oc extends Go{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xr extends Go{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jn extends Xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class fs extends Xr{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Kt extends Xr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ti extends Xr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oo extends Xr{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}var Yo=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})},Ig=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const hs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mg=(e,t)=>Yo(void 0,void 0,void 0,function*(){const n=[502,503,504];Og(e)?n.includes(e.status)?t(new oo(hs(e),e.status)):e.json().then(r=>{t(new Pg(hs(r),e.status||500))}).catch(r=>{t(new Oc(hs(r),r))}):t(new oo(hs(e),0))}),Fg=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function ke(e,t,n,r){var i;return Yo(this,void 0,void 0,function*(){const s=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield Dg(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function Dg(e,t,n,r,i,s){return Yo(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Fg(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Mg(l,a))})})}function nn(e){var t;let n=null;Vg(e)&&(n=Object.assign({},e),n.expires_at=Sg(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Cn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Lg(e){return{data:e,error:null}}function Ug(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=Ig(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ng(e){return e}function Vg(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ct=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})},Bg=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Kg{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=kc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t){return Ct(this,void 0,void 0,function*(){try{return yield ke(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}inviteUserByEmail(t,n={}){return Ct(this,void 0,void 0,function*(){try{return yield ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Cn})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}})}generateLink(t){return Ct(this,void 0,void 0,function*(){try{const{options:n}=t,r=Bg(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),yield ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ug,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return Ct(this,void 0,void 0,function*(){try{return yield ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cn})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}})}listUsers(t){var n,r,i,s,o,a,l;return Ct(this,void 0,void 0,function*(){try{const u={nextPage:null,lastPage:0,total:0},c=yield ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ng});if(c.error)throw c.error;const d=yield c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}})}getUserById(t){return Ct(this,void 0,void 0,function*(){try{return yield ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cn})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return Ct(this,void 0,void 0,function*(){try{return yield ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Cn})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return Ct(this,void 0,void 0,function*(){try{return yield ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Cn})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return Ct(this,void 0,void 0,function*(){try{const{data:n,error:r}=yield ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return Ct(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}}const Hg="2.27.2",zg="http://localhost:9999",qg="supabase.auth.token",Jg={"X-Client-Info":`gotrue-js/${Hg}`},Wg=10,Gg={getItem:e=>Ei()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ei()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ei()&&globalThis.localStorage.removeItem(e)}};function Yg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var pe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};Yg();const Zg={url:zg,storageKey:qg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jg,flowType:"implicit"},Ci=30*1e3,Xg=3;class Qg{constructor(t){var n;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const r=Object.assign(Object.assign({},Zg),t);if(this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||Gg,this.admin=new Kg({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=kc(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",i=>{this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return pe(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{const t=yield this._isPKCEFlow();if(this.detectSessionInUrl&&this._isImplicitGrantFlow()||t){const{data:n,error:r}=yield this._getSessionFromUrl(t);if(r)return yield this._removeSession(),{error:r};const{session:i,redirectType:s}=n;return yield this._saveSession(i),setTimeout(()=>{s==="recovery"?this._notifyAllSubscribers("PASSWORD_RECOVERY",i):this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return xe(t)?{error:t}:{error:new Oc("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange()}})}signUp(t){var n,r,i;return pe(this,void 0,void 0,function*(){try{yield this._removeSession();let s;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,p=null;if(this.flowType==="pkce"){const m=cs();yield wr(this.storage,`${this.storageKey}-code-verifier`,m),h=yield ds(m),p=m===h?"plain":"s256"}s=yield ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:nn})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=yield ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nn})}else throw new fs("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return pe(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:s,password:o,options:a}=t;n=yield ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nn})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=yield ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nn})}else throw new fs("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i||!r?{data:{user:null,session:null},error:i}:(r.session&&(yield this._saveSession(r.session),this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:i})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(t){var n,r,i,s;return pe(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return pe(this,void 0,void 0,function*(){const n=yield us(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:i}=yield ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nn});return yield Ai(this.storage,`${this.storageKey}-code-verifier`),i||!r?{data:{user:null,session:null},error:i}:(r.session&&(yield this._saveSession(r.session),this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:i})})}signInWithIdToken(t){return pe(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:n,provider:r,token:i,nonce:s}=t,o=yield ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nn}),{data:a,error:l}=o;return l||!a?{data:{user:null,session:null},error:l}:(a.session&&(yield this._saveSession(a.session),this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOtp(t){var n,r,i,s,o;return pe(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in t){const{email:a,options:l}=t;let u=null,c=null;if(this.flowType==="pkce"){const f=cs();yield wr(this.storage,`${this.storageKey}-code-verifier`,f),u=yield ds(f),c=f===u?"plain":"s256"}const{error:d}=yield ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{error:u}=yield ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null},error:u}}throw new fs("You must provide either an email or phone number.")}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}})}verifyOtp(t){var n,r;return pe(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:i,error:s}=yield ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:nn});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,a=i.user;return o!=null&&o.access_token&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){var n,r,i;return pe(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:Lg})}catch(s){if(xe(s))return{data:null,error:s};throw s}})}reauthenticate(){return pe(this,void 0,void 0,function*(){try{const{data:{session:t},error:n}=yield this.getSession();if(n)throw n;if(!t)throw new Jn;const{error:r}=yield ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return pe(this,void 0,void 0,function*(){try{yield this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=yield ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{error:o}=yield ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null},error:o}}throw new fs("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}})}getSession(){return pe(this,void 0,void 0,function*(){yield this.initializePromise;let t=null;if(this.persistSession){const s=yield us(this.storage,this.storageKey);s!==null&&(this._isValidSession(s)?t=s:yield this._removeSession())}else t=this.inMemorySession;if(!t)return{data:{session:null},error:null};if(!(t.expires_at?t.expires_at<=Date.now()/1e3:!1))return{data:{session:t},error:null};const{session:r,error:i}=yield this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}})}getUser(t){var n,r;return pe(this,void 0,void 0,function*(){try{if(!t){const{data:i,error:s}=yield this.getSession();if(s)throw s;t=(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0}return yield ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cn})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}})}updateUser(t,n={}){return pe(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();if(i)throw i;if(!r.session)throw new Jn;const s=r.session,{data:o,error:a}=yield ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:t,jwt:s.access_token,xform:Cn});if(a)throw a;return s.user=o.user,yield this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}})}_decodeJWT(t){return Sl(t)}setSession(t){return pe(this,void 0,void 0,function*(){try{if(!t.access_token||!t.refresh_token)throw new Jn;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=Sl(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=yield this.getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}})}refreshSession(t){var n;return pe(this,void 0,void 0,function*(){try{if(!t){const{data:s,error:o}=yield this.getSession();if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Jn;const{session:r,error:i}=yield this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromUrl(t){return pe(this,void 0,void 0,function*(){try{if(!sn())throw new Kt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Kt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Ti("Not a valid PKCE flow url.");if(t){const y=et("code");if(!y)throw new Ti("No code detected.");const{data:_,error:C}=yield this.exchangeCodeForSession(y);if(C)throw C;if(!_.session)throw new Ti("No session detected.");let P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:_.session,redirectType:null},error:null}}const n=et("error_description");if(n){const y=et("error_code");if(!y)throw new Kt("No error_code detected.");const _=et("error");throw _?new Kt(n,{error:_,code:y}):new Kt("No error detected.")}const r=et("provider_token"),i=et("provider_refresh_token"),s=et("access_token");if(!s)throw new Kt("No access_token detected.");const o=et("expires_in");if(!o)throw new Kt("No expires_in detected.");const a=et("refresh_token");if(!a)throw new Kt("No refresh_token detected.");const l=et("token_type");if(!l)throw new Kt("No token_type detected.");const c=Math.round(Date.now()/1e3)+parseInt(o),{data:d,error:f}=yield this.getUser(s);if(f)throw f;const h=d.user,p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:parseInt(o),expires_at:c,refresh_token:a,token_type:l,user:h},m=et("type");return window.location.hash="",{data:{session:p,redirectType:m},error:null}}catch(n){if(xe(n))return{data:{session:null,redirectType:null},error:n};throw n}})}_isImplicitGrantFlow(){return sn()&&(!!et("access_token")||!!et("error_description"))}_isPKCEFlow(){return pe(this,void 0,void 0,function*(){const t=yield us(this.storage,`${this.storageKey}-code-verifier`);return sn()&&!!et("code")&&!!t})}signOut(){var t;return pe(this,void 0,void 0,function*(){const{data:n,error:r}=yield this.getSession();if(r)return{error:r};const i=(t=n.session)===null||t===void 0?void 0:t.access_token;if(i){const{error:s}=yield this.admin.signOut(i);if(s&&!(Rg(s)&&(s.status===404||s.status===401)))return{error:s}}return yield this._removeSession(),yield Ai(this.storage,`${this.storageKey}-code-verifier`),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(t){const n=kg(),r={id:n,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,r),this.emitInitialSession(n),{data:{subscription:r}}}emitInitialSession(t){var n,r;return pe(this,void 0,void 0,function*(){try{const{data:{session:i},error:s}=yield this.getSession();if(s)throw s;(n=this.stateChangeEmitters.get(t))===null||n===void 0||n.callback("INITIAL_SESSION",i)}catch(i){(r=this.stateChangeEmitters.get(t))===null||r===void 0||r.callback("INITIAL_SESSION",null),console.error(i)}})}resetPasswordForEmail(t,n={}){return pe(this,void 0,void 0,function*(){let r=null,i=null;if(this.flowType==="pkce"){const s=cs();yield wr(this.storage,`${this.storageKey}-code-verifier`,s),r=yield ds(s),i=s===r?"plain":"s256"}try{return yield ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(xe(s))return{data:null,error:s};throw s}})}_refreshAccessToken(t){return pe(this,void 0,void 0,function*(){try{const n=Date.now();return yield Tg(r=>pe(this,void 0,void 0,function*(){return yield Ag(r*200),yield ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nn})}),(r,i,s)=>s&&s.error&&s.error instanceof oo&&Date.now()+(r+1)*200-n<Ci)}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,n){return pe(this,void 0,void 0,function*(){const r=yield this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return sn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}})}_recoverAndRefresh(){var t;return pe(this,void 0,void 0,function*(){try{const n=yield us(this.storage,this.storageKey);if(!this._isValidSession(n)){n!==null&&(yield this._removeSession());return}const r=Math.round(Date.now()/1e3);if(((t=n.expires_at)!==null&&t!==void 0?t:1/0)<r+Wg){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=yield this._callRefreshToken(n.refresh_token);i&&(console.log(i.message),yield this._removeSession())}}else this.persistSession&&(yield this._saveSession(n)),this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){console.error(n);return}})}_callRefreshToken(t){var n,r;return pe(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new ni,!t)throw new Jn;const{data:i,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Jn;yield this._saveSession(i.session),this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(xe(i)){const s={session:null,error:i};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(t,n,r=!0){this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n}),this.stateChangeEmitters.forEach(i=>i.callback(t,n))}_saveSession(t){return pe(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&(yield this._persistSession(t))})}_persistSession(t){return wr(this.storage,this.storageKey,t)}_removeSession(){return pe(this,void 0,void 0,function*(){this.persistSession?yield Ai(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}_startAutoRefresh(){return pe(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const t=setInterval(()=>this._autoRefreshTokenTick(),Ci);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return pe(this,void 0,void 0,function*(){const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return pe(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return pe(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return pe(this,void 0,void 0,function*(){const t=Date.now();try{const{data:{session:n}}=yield this.getSession();if(!n||!n.refresh_token||!n.expires_at)return;Math.floor((n.expires_at*1e3-t)/Ci)<Xg&&(yield this._callRefreshToken(n.refresh_token))}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}})}_handleVisibilityChange(){return pe(this,void 0,void 0,function*(){if(!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>pe(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return pe(this,void 0,void 0,function*(){document.visibilityState==="visible"?(t||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,n){return pe(this,void 0,void 0,function*(){const r=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const i=cs();yield wr(this.storage,`${this.storageKey}-code-verifier`,i);const s=yield ds(i),o=i===s?"plain":"s256",a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`})}_unenroll(t){var n;return pe(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})}catch(r){if(xe(r))return{data:null,error:r};throw r}})}_enroll(t){var n,r;return pe(this,void 0,void 0,function*(){try{const{data:i,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:o,error:a}=yield ke(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}catch(i){if(xe(i))return{data:null,error:i};throw i}})}_verify(t){var n;return pe(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:s,error:o}=yield ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}catch(r){if(xe(r))return{data:null,error:r};throw r}})}_challenge(t){var n;return pe(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})}catch(r){if(xe(r))return{data:null,error:r};throw r}})}_challengeAndVerify(t){return pe(this,void 0,void 0,function*(){const{data:n,error:r}=yield this._challenge({factorId:t.factorId});return r?{data:null,error:r}:yield this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})})}_listFactors(){return pe(this,void 0,void 0,function*(){const{data:{user:t},error:n}=yield this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){var t,n;return pe(this,void 0,void 0,function*(){const{data:{session:r},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}})}}class e0 extends Qg{constructor(t){super(t)}}var t0=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const n0={headers:gg},r0={schema:"public"},s0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i0={};class o0{constructor(t,n,r){var i,s,o,a,l,u,c,d;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=wg(t);if(this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,f.match(/(supabase\.co)|(supabase\.in)/)){const _=f.split(".");this.functionsUrl=`${_[0]}.functions.${_[1]}.${_[2]}`}else this.functionsUrl=`${f}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:r0,realtime:i0,auth:Object.assign(Object.assign({},s0),{storageKey:p}),global:n0},y=xg(r??{},m);this.storageKey=(s=(i=y.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=y.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=y.auth)!==null&&l!==void 0?l:{},this.headers,(u=y.global)===null||u===void 0?void 0:u.fetch),this.fetch=bg(n,this._getAccessToken.bind(this),(c=y.global)===null||c===void 0?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},y.realtime)),this.rest=new xm(`${f}/rest/v1`,{headers:this.headers,schema:(d=y.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new hm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return t0(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o},a,l){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new e0({url:this.authUrl,headers:Object.assign(Object.assign({},u),a),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,fetch:l})}_initRealtimeClient(t){return new rg(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,r==null?void 0:r.access_token,"CLIENT")})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const a0=(e,t,n)=>new o0(e,t,n),It=Ys("global",()=>{const e=J(!1);function t(i){e.value=i}const n=Xe({showError:!1,message:""});function r({showError:i,message:s}){n.showError=i,n.message=s}return{isLoading:e,errorMessage:n,isError:r,loadingState:t}});function Et(){const n=a0("https://twcggyswaynhkvxrkhtr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3Y2dneXN3YXluaGt2eHJraHRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODUwNzg5ODMsImV4cCI6MjAwMDY1NDk4M30.sRE3zUsPFSRZmTH3lGcbdD1bNA04AK6EEOuJYWk08fc");return It(),{supabase:n,sbRequest:async(k,A)=>{try{const{data:j,count:w=0,error:E}=await k(A);if(E)throw E;return{data:j,count:w}}catch(j){console.error(j.message)}finally{}},handleSignup:async({email:k,password:A,...j})=>{const{data:w,error:E}=await n.auth.signUp({email:k,password:A,options:{data:{...j},emailRedirectTo:"http://localhost:5173/account/register-success"}});return E?{error:E}:{data:w}},handleLogin:async({email:k,password:A})=>{const{data:j,error:w}=await n.auth.signInWithPassword({email:k,password:A});return w?{error:w}:{data:j}},handleLogout:async()=>{const{error:k}=await n.auth.signOut();if(k)return{error:k}},sendPasswordResetEmail:async({email:k})=>{const{data:A,error:j}=await n.auth.resetPasswordForEmail(k,{redirectTo:"http://localhost:5173/account/update-password"});return j?{error:j}:{data:A}},handlePasswordReset:async({password:k})=>{await n.auth.updateUser({password:k})},handleFeedBack:async({name:k,type:A,text:j})=>{const{data:w,error:E}=await n.from("feedback").insert([{user_name:k,question_type:A,text:j}]);return E?{error:E}:{data:w}},handleSongRecommendUpdate:async({isRecommend:k,videoId:A,userId:j})=>{const{data:w,error:E}=await n.from("lyrics_list").update({recommend:k}).eq("video_id",A).eq("user_id",j);return E?{error:E}:{data:w}},handleSongContentUpdate:async({hiragana:k,romaji:A,furigana:j,timestamp:w,spaceIndex:E,videoId:v,id:D,userId:B})=>{const{data:te,error:se}=await n.from("lyrics_content").update({hiragana:k,romaji:A,furigana:j,timestamp:w,spaceIndex:E,video_id:v}).eq("id",D).eq("user_id",B);return se?{error:se}:{data:te}},handleVideoUpdate:async({id:k,videoId:A,img:j,userId:w})=>{const{data:E,error:v}=await n.from("lyrics_list").update({video_id:A,video_img:j}).eq("id",k).eq("user_id",w);return v?{error:v}:{data:E}},handleSongInfoAdd:async({userId:k,videoId:A,title:j,img:w,isRecommend:E})=>{const{data:v,error:D}=await n.from("lyrics_list").insert([{user_id:k,video_id:A,title:j,video_img:w,recommend:E}]);return D?{error:D}:{data:v}},handleSongContentAdd:async({userId:k,videoId:A,hiragana:j,romaji:w,furigana:E,timestamp:v,spaceIndex:D})=>{const{data:B,error:te}=await n.from("lyrics_content").insert([{user_id:k,video_id:A,hiragana:j,romaji:w,furigana:E,timestamp:v,spaceIndex:D}]);return te?{error:te}:{data:B}},getSongContent:async({videoId:k,userId:A})=>{if(A){const{data:j,error:w}=await n.from("lyrics_content").select().eq("video_id",k).eq("user_id",A);return w?{error:w}:{data:j}}else{const{data:j,error:w}=await n.from("lyrics_content").select().eq("video_id",k);return w?{error:w}:{data:j}}},getSongInfo:async({videoId:k,userId:A})=>{if(A){const{data:j,error:w}=await n.from("lyrics_list").select().eq("video_id",k).eq("user_id",A);return w?{error:w}:{data:j}}else{const{data:j,error:w}=await n.from("lyrics_list").select().eq("video_id",k).eq("recommend->state",!0);return w?{error:w}:{data:j}}},getSearchedSongList:async({userId:k,name:A})=>{const{data:j,count:w,error:E}=await n.from("lyrics_list").select("*",{count:"exact"}).eq("user_id",k).order("created_at",{ascending:!1}).ilike("title",`%${A}%`).range(0,9);return E?{error:E}:{data:j,count:w}},getSearchedRecomSongList:async({name:k})=>{const{data:A,count:j,error:w}=await n.from("lyrics_list").select("*",{count:"exact"}).eq("recommend->state",!0).order("created_at",{ascending:!1}).ilike("title",`%${k}%`).range(0,9);return w?{error:w}:{data:A,count:j}},deleteSong:async({videoId:k})=>{const{data:A,error:j}=await n.from("lyrics_list").delete().eq("video_id",k);return j?{error:j}:{data:A}},deleteSongContent:async({videoId:k})=>{const{data:A,error:j}=await n.from("lyrics_content").delete().eq("video_id",k);return j?{error:j}:{data:A}},handlePageChange:async({userId:k,from:A,to:j})=>{const{data:w,error:E}=await n.from("lyrics_list").select().eq("user_id",k).order("created_at",{ascending:!1}).range(A,j);return E?{error:E}:{data:w}},handleRecoPageChange:async({from:k,to:A})=>{const{data:j,error:w}=await n.from("lyrics_list").select().eq("recommend->state",!0).order("created_at",{ascending:!1}).range(k,A);return w?{error:w}:{data:j}},getSongList:async({userId:k})=>{const{data:A,count:j,error:w}=await n.from("lyrics_list").select("*",{count:"exact"}).eq("user_id",k).order("created_at",{ascending:!1}).range(0,9);return w?{error:w}:{data:A,count:j}},getRecoSongList:async()=>{const{data:k,count:A,error:j}=await n.from("lyrics_list").select("*",{count:"exact"}).eq("recommend->state",!0).order("created_at",{ascending:!1}).range(0,9);return j?{error:j}:{data:k,count:A}}}}var ao={},l0={get exports(){return ao},set exports(e){ao=e}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(s,o){return[s,o]},t.prototype.diff_main=function(s,o,a,l){typeof l>"u"&&(this.Diff_Timeout<=0?l=Number.MAX_VALUE:l=new Date().getTime()+this.Diff_Timeout*1e3);var u=l;if(s==null||o==null)throw new Error("Null input. (diff_main)");if(s==o)return s?[new t.Diff(i,s)]:[];typeof a>"u"&&(a=!0);var c=a,d=this.diff_commonPrefix(s,o),f=s.substring(0,d);s=s.substring(d),o=o.substring(d),d=this.diff_commonSuffix(s,o);var h=s.substring(s.length-d);s=s.substring(0,s.length-d),o=o.substring(0,o.length-d);var p=this.diff_compute_(s,o,c,u);return f&&p.unshift(new t.Diff(i,f)),h&&p.push(new t.Diff(i,h)),this.diff_cleanupMerge(p),p},t.prototype.diff_compute_=function(s,o,a,l){var u;if(!s)return[new t.Diff(r,o)];if(!o)return[new t.Diff(n,s)];var c=s.length>o.length?s:o,d=s.length>o.length?o:s,f=c.indexOf(d);if(f!=-1)return u=[new t.Diff(r,c.substring(0,f)),new t.Diff(i,d),new t.Diff(r,c.substring(f+d.length))],s.length>o.length&&(u[0][0]=u[2][0]=n),u;if(d.length==1)return[new t.Diff(n,s),new t.Diff(r,o)];var h=this.diff_halfMatch_(s,o);if(h){var p=h[0],m=h[1],y=h[2],_=h[3],C=h[4],P=this.diff_main(p,y,a,l),F=this.diff_main(m,_,a,l);return P.concat([new t.Diff(i,C)],F)}return a&&s.length>100&&o.length>100?this.diff_lineMode_(s,o,l):this.diff_bisect_(s,o,l)},t.prototype.diff_lineMode_=function(s,o,a){var l=this.diff_linesToChars_(s,o);s=l.chars1,o=l.chars2;var u=l.lineArray,c=this.diff_main(s,o,!1,a);this.diff_charsToLines_(c,u),this.diff_cleanupSemantic(c),c.push(new t.Diff(i,""));for(var d=0,f=0,h=0,p="",m="";d<c.length;){switch(c[d][0]){case r:h++,m+=c[d][1];break;case n:f++,p+=c[d][1];break;case i:if(f>=1&&h>=1){c.splice(d-f-h,f+h),d=d-f-h;for(var y=this.diff_main(p,m,!1,a),_=y.length-1;_>=0;_--)c.splice(d,0,y[_]);d=d+y.length}h=0,f=0,p="",m="";break}d++}return c.pop(),c},t.prototype.diff_bisect_=function(s,o,a){for(var l=s.length,u=o.length,c=Math.ceil((l+u)/2),d=c,f=2*c,h=new Array(f),p=new Array(f),m=0;m<f;m++)h[m]=-1,p[m]=-1;h[d+1]=0,p[d+1]=0;for(var y=l-u,_=y%2!=0,C=0,P=0,F=0,V=0,$=0;$<c&&!(new Date().getTime()>a);$++){for(var I=-$+C;I<=$-P;I+=2){var x=d+I,k;I==-$||I!=$&&h[x-1]<h[x+1]?k=h[x+1]:k=h[x-1]+1;for(var A=k-I;k<l&&A<u&&s.charAt(k)==o.charAt(A);)k++,A++;if(h[x]=k,k>l)P+=2;else if(A>u)C+=2;else if(_){var j=d+y-I;if(j>=0&&j<f&&p[j]!=-1){var w=l-p[j];if(k>=w)return this.diff_bisectSplit_(s,o,k,A,a)}}}for(var E=-$+F;E<=$-V;E+=2){var j=d+E,w;E==-$||E!=$&&p[j-1]<p[j+1]?w=p[j+1]:w=p[j-1]+1;for(var v=w-E;w<l&&v<u&&s.charAt(l-w-1)==o.charAt(u-v-1);)w++,v++;if(p[j]=w,w>l)V+=2;else if(v>u)F+=2;else if(!_){var x=d+y-E;if(x>=0&&x<f&&h[x]!=-1){var k=h[x],A=d+k-x;if(w=l-w,k>=w)return this.diff_bisectSplit_(s,o,k,A,a)}}}}return[new t.Diff(n,s),new t.Diff(r,o)]},t.prototype.diff_bisectSplit_=function(s,o,a,l,u){var c=s.substring(0,a),d=o.substring(0,l),f=s.substring(a),h=o.substring(l),p=this.diff_main(c,d,!1,u),m=this.diff_main(f,h,!1,u);return p.concat(m)},t.prototype.diff_linesToChars_=function(s,o){var a=[],l={};a[0]="";function u(h){for(var p="",m=0,y=-1,_=a.length;y<h.length-1;){y=h.indexOf(`
`,m),y==-1&&(y=h.length-1);var C=h.substring(m,y+1);(l.hasOwnProperty?l.hasOwnProperty(C):l[C]!==void 0)?p+=String.fromCharCode(l[C]):(_==c&&(C=h.substring(m),y=h.length),p+=String.fromCharCode(_),l[C]=_,a[_++]=C),m=y+1}return p}var c=4e4,d=u(s);c=65535;var f=u(o);return{chars1:d,chars2:f,lineArray:a}},t.prototype.diff_charsToLines_=function(s,o){for(var a=0;a<s.length;a++){for(var l=s[a][1],u=[],c=0;c<l.length;c++)u[c]=o[l.charCodeAt(c)];s[a][1]=u.join("")}},t.prototype.diff_commonPrefix=function(s,o){if(!s||!o||s.charAt(0)!=o.charAt(0))return 0;for(var a=0,l=Math.min(s.length,o.length),u=l,c=0;a<u;)s.substring(c,u)==o.substring(c,u)?(a=u,c=a):l=u,u=Math.floor((l-a)/2+a);return u},t.prototype.diff_commonSuffix=function(s,o){if(!s||!o||s.charAt(s.length-1)!=o.charAt(o.length-1))return 0;for(var a=0,l=Math.min(s.length,o.length),u=l,c=0;a<u;)s.substring(s.length-u,s.length-c)==o.substring(o.length-u,o.length-c)?(a=u,c=a):l=u,u=Math.floor((l-a)/2+a);return u},t.prototype.diff_commonOverlap_=function(s,o){var a=s.length,l=o.length;if(a==0||l==0)return 0;a>l?s=s.substring(a-l):a<l&&(o=o.substring(0,a));var u=Math.min(a,l);if(s==o)return u;for(var c=0,d=1;;){var f=s.substring(u-d),h=o.indexOf(f);if(h==-1)return c;d+=h,(h==0||s.substring(u-d)==o.substring(0,d))&&(c=d,d++)}},t.prototype.diff_halfMatch_=function(s,o){if(this.Diff_Timeout<=0)return null;var a=s.length>o.length?s:o,l=s.length>o.length?o:s;if(a.length<4||l.length*2<a.length)return null;var u=this;function c(P,F,V){for(var $=P.substring(V,V+Math.floor(P.length/4)),I=-1,x="",k,A,j,w;(I=F.indexOf($,I+1))!=-1;){var E=u.diff_commonPrefix(P.substring(V),F.substring(I)),v=u.diff_commonSuffix(P.substring(0,V),F.substring(0,I));x.length<v+E&&(x=F.substring(I-v,I)+F.substring(I,I+E),k=P.substring(0,V-v),A=P.substring(V+E),j=F.substring(0,I-v),w=F.substring(I+E))}return x.length*2>=P.length?[k,A,j,w,x]:null}var d=c(a,l,Math.ceil(a.length/4)),f=c(a,l,Math.ceil(a.length/2)),h;if(!d&&!f)return null;f?d?h=d[4].length>f[4].length?d:f:h=f:h=d;var p,m,y,_;s.length>o.length?(p=h[0],m=h[1],y=h[2],_=h[3]):(y=h[0],_=h[1],p=h[2],m=h[3]);var C=h[4];return[p,m,y,_,C]},t.prototype.diff_cleanupSemantic=function(s){for(var o=!1,a=[],l=0,u=null,c=0,d=0,f=0,h=0,p=0;c<s.length;)s[c][0]==i?(a[l++]=c,d=h,f=p,h=0,p=0,u=s[c][1]):(s[c][0]==r?h+=s[c][1].length:p+=s[c][1].length,u&&u.length<=Math.max(d,f)&&u.length<=Math.max(h,p)&&(s.splice(a[l-1],0,new t.Diff(n,u)),s[a[l-1]+1][0]=r,l--,l--,c=l>0?a[l-1]:-1,d=0,f=0,h=0,p=0,u=null,o=!0)),c++;for(o&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),c=1;c<s.length;){if(s[c-1][0]==n&&s[c][0]==r){var m=s[c-1][1],y=s[c][1],_=this.diff_commonOverlap_(m,y),C=this.diff_commonOverlap_(y,m);_>=C?(_>=m.length/2||_>=y.length/2)&&(s.splice(c,0,new t.Diff(i,y.substring(0,_))),s[c-1][1]=m.substring(0,m.length-_),s[c+1][1]=y.substring(_),c++):(C>=m.length/2||C>=y.length/2)&&(s.splice(c,0,new t.Diff(i,m.substring(0,C))),s[c-1][0]=r,s[c-1][1]=y.substring(0,y.length-C),s[c+1][0]=n,s[c+1][1]=m.substring(C),c++),c++}c++}},t.prototype.diff_cleanupSemanticLossless=function(s){function o(C,P){if(!C||!P)return 6;var F=C.charAt(C.length-1),V=P.charAt(0),$=F.match(t.nonAlphaNumericRegex_),I=V.match(t.nonAlphaNumericRegex_),x=$&&F.match(t.whitespaceRegex_),k=I&&V.match(t.whitespaceRegex_),A=x&&F.match(t.linebreakRegex_),j=k&&V.match(t.linebreakRegex_),w=A&&C.match(t.blanklineEndRegex_),E=j&&P.match(t.blanklineStartRegex_);return w||E?5:A||j?4:$&&!x&&k?3:x||k?2:$||I?1:0}for(var a=1;a<s.length-1;){if(s[a-1][0]==i&&s[a+1][0]==i){var l=s[a-1][1],u=s[a][1],c=s[a+1][1],d=this.diff_commonSuffix(l,u);if(d){var f=u.substring(u.length-d);l=l.substring(0,l.length-d),u=f+u.substring(0,u.length-d),c=f+c}for(var h=l,p=u,m=c,y=o(l,u)+o(u,c);u.charAt(0)===c.charAt(0);){l+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var _=o(l,u)+o(u,c);_>=y&&(y=_,h=l,p=u,m=c)}s[a-1][1]!=h&&(h?s[a-1][1]=h:(s.splice(a-1,1),a--),s[a][1]=p,m?s[a+1][1]=m:(s.splice(a+1,1),a--))}a++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(s){for(var o=!1,a=[],l=0,u=null,c=0,d=!1,f=!1,h=!1,p=!1;c<s.length;)s[c][0]==i?(s[c][1].length<this.Diff_EditCost&&(h||p)?(a[l++]=c,d=h,f=p,u=s[c][1]):(l=0,u=null),h=p=!1):(s[c][0]==n?p=!0:h=!0,u&&(d&&f&&h&&p||u.length<this.Diff_EditCost/2&&d+f+h+p==3)&&(s.splice(a[l-1],0,new t.Diff(n,u)),s[a[l-1]+1][0]=r,l--,u=null,d&&f?(h=p=!0,l=0):(l--,c=l>0?a[l-1]:-1,h=p=!1),o=!0)),c++;o&&this.diff_cleanupMerge(s)},t.prototype.diff_cleanupMerge=function(s){s.push(new t.Diff(i,""));for(var o=0,a=0,l=0,u="",c="",d;o<s.length;)switch(s[o][0]){case r:l++,c+=s[o][1],o++;break;case n:a++,u+=s[o][1],o++;break;case i:a+l>1?(a!==0&&l!==0&&(d=this.diff_commonPrefix(c,u),d!==0&&(o-a-l>0&&s[o-a-l-1][0]==i?s[o-a-l-1][1]+=c.substring(0,d):(s.splice(0,0,new t.Diff(i,c.substring(0,d))),o++),c=c.substring(d),u=u.substring(d)),d=this.diff_commonSuffix(c,u),d!==0&&(s[o][1]=c.substring(c.length-d)+s[o][1],c=c.substring(0,c.length-d),u=u.substring(0,u.length-d))),o-=a+l,s.splice(o,a+l),u.length&&(s.splice(o,0,new t.Diff(n,u)),o++),c.length&&(s.splice(o,0,new t.Diff(r,c)),o++),o++):o!==0&&s[o-1][0]==i?(s[o-1][1]+=s[o][1],s.splice(o,1)):o++,l=0,a=0,u="",c="";break}s[s.length-1][1]===""&&s.pop();var f=!1;for(o=1;o<s.length-1;)s[o-1][0]==i&&s[o+1][0]==i&&(s[o][1].substring(s[o][1].length-s[o-1][1].length)==s[o-1][1]?(s[o][1]=s[o-1][1]+s[o][1].substring(0,s[o][1].length-s[o-1][1].length),s[o+1][1]=s[o-1][1]+s[o+1][1],s.splice(o-1,1),f=!0):s[o][1].substring(0,s[o+1][1].length)==s[o+1][1]&&(s[o-1][1]+=s[o+1][1],s[o][1]=s[o][1].substring(s[o+1][1].length)+s[o+1][1],s.splice(o+1,1),f=!0)),o++;f&&this.diff_cleanupMerge(s)},t.prototype.diff_xIndex=function(s,o){var a=0,l=0,u=0,c=0,d;for(d=0;d<s.length&&(s[d][0]!==r&&(a+=s[d][1].length),s[d][0]!==n&&(l+=s[d][1].length),!(a>o));d++)u=a,c=l;return s.length!=d&&s[d][0]===n?c:c+(o-u)},t.prototype.diff_prettyHtml=function(s){for(var o=[],a=/&/g,l=/</g,u=/>/g,c=/\n/g,d=0;d<s.length;d++){var f=s[d][0],h=s[d][1],p=h.replace(a,"&amp;").replace(l,"&lt;").replace(u,"&gt;").replace(c,"&para;<br>");switch(f){case r:o[d]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case n:o[d]='<del style="background:#ffe6e6;">'+p+"</del>";break;case i:o[d]="<span>"+p+"</span>";break}}return o.join("")},t.prototype.diff_text1=function(s){for(var o=[],a=0;a<s.length;a++)s[a][0]!==r&&(o[a]=s[a][1]);return o.join("")},t.prototype.diff_text2=function(s){for(var o=[],a=0;a<s.length;a++)s[a][0]!==n&&(o[a]=s[a][1]);return o.join("")},t.prototype.diff_levenshtein=function(s){for(var o=0,a=0,l=0,u=0;u<s.length;u++){var c=s[u][0],d=s[u][1];switch(c){case r:a+=d.length;break;case n:l+=d.length;break;case i:o+=Math.max(a,l),a=0,l=0;break}}return o+=Math.max(a,l),o},t.prototype.diff_toDelta=function(s){for(var o=[],a=0;a<s.length;a++)switch(s[a][0]){case r:o[a]="+"+encodeURI(s[a][1]);break;case n:o[a]="-"+s[a][1].length;break;case i:o[a]="="+s[a][1].length;break}return o.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(s,o){for(var a=[],l=0,u=0,c=o.split(/\t/g),d=0;d<c.length;d++){var f=c[d].substring(1);switch(c[d].charAt(0)){case"+":try{a[l++]=new t.Diff(r,decodeURI(f))}catch{throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var h=parseInt(f,10);if(isNaN(h)||h<0)throw new Error("Invalid number in diff_fromDelta: "+f);var p=s.substring(u,u+=h);c[d].charAt(0)=="="?a[l++]=new t.Diff(i,p):a[l++]=new t.Diff(n,p);break;default:if(c[d])throw new Error("Invalid diff operation in diff_fromDelta: "+c[d])}}if(u!=s.length)throw new Error("Delta length ("+u+") does not equal source text length ("+s.length+").");return a},t.prototype.match_main=function(s,o,a){if(s==null||o==null||a==null)throw new Error("Null input. (match_main)");return a=Math.max(0,Math.min(a,s.length)),s==o?0:s.length?s.substring(a,a+o.length)==o?a:this.match_bitap_(s,o,a):-1},t.prototype.match_bitap_=function(s,o,a){if(o.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var l=this.match_alphabet_(o),u=this;function c(k,A){var j=k/o.length,w=Math.abs(a-A);return u.Match_Distance?j+w/u.Match_Distance:w?1:j}var d=this.Match_Threshold,f=s.indexOf(o,a);f!=-1&&(d=Math.min(c(0,f),d),f=s.lastIndexOf(o,a+o.length),f!=-1&&(d=Math.min(c(0,f),d)));var h=1<<o.length-1;f=-1;for(var p,m,y=o.length+s.length,_,C=0;C<o.length;C++){for(p=0,m=y;p<m;)c(C,a+m)<=d?p=m:y=m,m=Math.floor((y-p)/2+p);y=m;var P=Math.max(1,a-m+1),F=Math.min(a+m,s.length)+o.length,V=Array(F+2);V[F+1]=(1<<C)-1;for(var $=F;$>=P;$--){var I=l[s.charAt($-1)];if(C===0?V[$]=(V[$+1]<<1|1)&I:V[$]=(V[$+1]<<1|1)&I|((_[$+1]|_[$])<<1|1)|_[$+1],V[$]&h){var x=c(C,$-1);if(x<=d)if(d=x,f=$-1,f>a)P=Math.max(1,2*a-f);else break}}if(c(C+1,a)>d)break;_=V}return f},t.prototype.match_alphabet_=function(s){for(var o={},a=0;a<s.length;a++)o[s.charAt(a)]=0;for(var a=0;a<s.length;a++)o[s.charAt(a)]|=1<<s.length-a-1;return o},t.prototype.patch_addContext_=function(s,o){if(o.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var a=o.substring(s.start2,s.start2+s.length1),l=0;o.indexOf(a)!=o.lastIndexOf(a)&&a.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)l+=this.Patch_Margin,a=o.substring(s.start2-l,s.start2+s.length1+l);l+=this.Patch_Margin;var u=o.substring(s.start2-l,s.start2);u&&s.diffs.unshift(new t.Diff(i,u));var c=o.substring(s.start2+s.length1,s.start2+s.length1+l);c&&s.diffs.push(new t.Diff(i,c)),s.start1-=u.length,s.start2-=u.length,s.length1+=u.length+c.length,s.length2+=u.length+c.length}},t.prototype.patch_make=function(s,o,a){var l,u;if(typeof s=="string"&&typeof o=="string"&&typeof a>"u")l=s,u=this.diff_main(l,o,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(s&&typeof s=="object"&&typeof o>"u"&&typeof a>"u")u=s,l=this.diff_text1(u);else if(typeof s=="string"&&o&&typeof o=="object"&&typeof a>"u")l=s,u=o;else if(typeof s=="string"&&typeof o=="string"&&a&&typeof a=="object")l=s,u=a;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var c=[],d=new t.patch_obj,f=0,h=0,p=0,m=l,y=l,_=0;_<u.length;_++){var C=u[_][0],P=u[_][1];switch(!f&&C!==i&&(d.start1=h,d.start2=p),C){case r:d.diffs[f++]=u[_],d.length2+=P.length,y=y.substring(0,p)+P+y.substring(p);break;case n:d.length1+=P.length,d.diffs[f++]=u[_],y=y.substring(0,p)+y.substring(p+P.length);break;case i:P.length<=2*this.Patch_Margin&&f&&u.length!=_+1?(d.diffs[f++]=u[_],d.length1+=P.length,d.length2+=P.length):P.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(d,m),c.push(d),d=new t.patch_obj,f=0,m=y,h=p);break}C!==r&&(h+=P.length),C!==n&&(p+=P.length)}return f&&(this.patch_addContext_(d,m),c.push(d)),c},t.prototype.patch_deepCopy=function(s){for(var o=[],a=0;a<s.length;a++){var l=s[a],u=new t.patch_obj;u.diffs=[];for(var c=0;c<l.diffs.length;c++)u.diffs[c]=new t.Diff(l.diffs[c][0],l.diffs[c][1]);u.start1=l.start1,u.start2=l.start2,u.length1=l.length1,u.length2=l.length2,o[a]=u}return o},t.prototype.patch_apply=function(s,o){if(s.length==0)return[o,[]];s=this.patch_deepCopy(s);var a=this.patch_addPadding(s);o=a+o+a,this.patch_splitMax(s);for(var l=0,u=[],c=0;c<s.length;c++){var d=s[c].start2+l,f=this.diff_text1(s[c].diffs),h,p=-1;if(f.length>this.Match_MaxBits?(h=this.match_main(o,f.substring(0,this.Match_MaxBits),d),h!=-1&&(p=this.match_main(o,f.substring(f.length-this.Match_MaxBits),d+f.length-this.Match_MaxBits),(p==-1||h>=p)&&(h=-1))):h=this.match_main(o,f,d),h==-1)u[c]=!1,l-=s[c].length2-s[c].length1;else{u[c]=!0,l=h-d;var m;if(p==-1?m=o.substring(h,h+f.length):m=o.substring(h,p+this.Match_MaxBits),f==m)o=o.substring(0,h)+this.diff_text2(s[c].diffs)+o.substring(h+f.length);else{var y=this.diff_main(f,m,!1);if(f.length>this.Match_MaxBits&&this.diff_levenshtein(y)/f.length>this.Patch_DeleteThreshold)u[c]=!1;else{this.diff_cleanupSemanticLossless(y);for(var _=0,C,P=0;P<s[c].diffs.length;P++){var F=s[c].diffs[P];F[0]!==i&&(C=this.diff_xIndex(y,_)),F[0]===r?o=o.substring(0,h+C)+F[1]+o.substring(h+C):F[0]===n&&(o=o.substring(0,h+C)+o.substring(h+this.diff_xIndex(y,_+F[1].length))),F[0]!==n&&(_+=F[1].length)}}}}}return o=o.substring(a.length,o.length-a.length),[o,u]},t.prototype.patch_addPadding=function(s){for(var o=this.Patch_Margin,a="",l=1;l<=o;l++)a+=String.fromCharCode(l);for(var l=0;l<s.length;l++)s[l].start1+=o,s[l].start2+=o;var u=s[0],c=u.diffs;if(c.length==0||c[0][0]!=i)c.unshift(new t.Diff(i,a)),u.start1-=o,u.start2-=o,u.length1+=o,u.length2+=o;else if(o>c[0][1].length){var d=o-c[0][1].length;c[0][1]=a.substring(c[0][1].length)+c[0][1],u.start1-=d,u.start2-=d,u.length1+=d,u.length2+=d}if(u=s[s.length-1],c=u.diffs,c.length==0||c[c.length-1][0]!=i)c.push(new t.Diff(i,a)),u.length1+=o,u.length2+=o;else if(o>c[c.length-1][1].length){var d=o-c[c.length-1][1].length;c[c.length-1][1]+=a.substring(0,d),u.length1+=d,u.length2+=d}return a},t.prototype.patch_splitMax=function(s){for(var o=this.Match_MaxBits,a=0;a<s.length;a++)if(!(s[a].length1<=o)){var l=s[a];s.splice(a--,1);for(var u=l.start1,c=l.start2,d="";l.diffs.length!==0;){var f=new t.patch_obj,h=!0;for(f.start1=u-d.length,f.start2=c-d.length,d!==""&&(f.length1=f.length2=d.length,f.diffs.push(new t.Diff(i,d)));l.diffs.length!==0&&f.length1<o-this.Patch_Margin;){var p=l.diffs[0][0],m=l.diffs[0][1];p===r?(f.length2+=m.length,c+=m.length,f.diffs.push(l.diffs.shift()),h=!1):p===n&&f.diffs.length==1&&f.diffs[0][0]==i&&m.length>2*o?(f.length1+=m.length,u+=m.length,h=!1,f.diffs.push(new t.Diff(p,m)),l.diffs.shift()):(m=m.substring(0,o-f.length1-this.Patch_Margin),f.length1+=m.length,u+=m.length,p===i?(f.length2+=m.length,c+=m.length):h=!1,f.diffs.push(new t.Diff(p,m)),m==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(m.length))}d=this.diff_text2(f.diffs),d=d.substring(d.length-this.Patch_Margin);var y=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);y!==""&&(f.length1+=y.length,f.length2+=y.length,f.diffs.length!==0&&f.diffs[f.diffs.length-1][0]===i?f.diffs[f.diffs.length-1][1]+=y:f.diffs.push(new t.Diff(i,y))),h||s.splice(++a,0,f)}}},t.prototype.patch_toText=function(s){for(var o=[],a=0;a<s.length;a++)o[a]=s[a];return o.join("")},t.prototype.patch_fromText=function(s){var o=[];if(!s)return o;for(var a=s.split(`
`),l=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<a.length;){var c=a[l].match(u);if(!c)throw new Error("Invalid patch string: "+a[l]);var d=new t.patch_obj;for(o.push(d),d.start1=parseInt(c[1],10),c[2]===""?(d.start1--,d.length1=1):c[2]=="0"?d.length1=0:(d.start1--,d.length1=parseInt(c[2],10)),d.start2=parseInt(c[3],10),c[4]===""?(d.start2--,d.length2=1):c[4]=="0"?d.length2=0:(d.start2--,d.length2=parseInt(c[4],10)),l++;l<a.length;){var f=a[l].charAt(0);try{var h=decodeURI(a[l].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+h)}if(f=="-")d.diffs.push(new t.Diff(n,h));else if(f=="+")d.diffs.push(new t.Diff(r,h));else if(f==" ")d.diffs.push(new t.Diff(i,h));else{if(f=="@")break;if(f!=="")throw new Error('Invalid patch mode "'+f+'" in: '+h)}l++}}return o},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var s,o;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?o=this.start2+",0":this.length2==1?o=this.start2+1:o=this.start2+1+","+this.length2;for(var a=["@@ -"+s+" +"+o+` @@
`],l,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case r:l="+";break;case n:l="-";break;case i:l=" ";break}a[u+1]=l+encodeURI(this.diffs[u][1])+`
`}return a.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i})(l0);function Hr(e){return e===null?"null":e!==Object(e)?typeof e:{}.toString.call(e).slice(8,-1).toLowerCase()}function ri(e){return Hr(e)!=="string"?!0:!e.length}function u0(e="",t,n){if(ri(e))return!1;const r=e.charCodeAt(0);return t<=r&&r<=n}const Ec={HEPBURN:"hepburn"},c0={useObsoleteKana:!1,passRomaji:!1,upcaseKatakana:!1,IMEMode:!1,convertLongVowelMark:!0,romanization:Ec.HEPBURN},d0=12353,Ac=12449,f0=12540,h0=12540,p0=12539;var kl=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function m0(e,t){return!!(e===t||kl(e)&&kl(t))}function g0(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!m0(e[n],t[n]))return!1;return!0}function Tc(e,t){t===void 0&&(t=g0);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var Ol=Object.prototype.hasOwnProperty;function El(e,t,n){for(n of e.keys())if(rr(n,t))return n}function rr(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&rr(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=El(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=El(t,i),!i)||!rr(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Ol.call(e,n)&&++r&&!Ol.call(t,n)||!(n in t)||!rr(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const v0=(e={})=>Object.assign({},c0,e);function _0(e,t,n){const r=t;function i(a,l){if(a[l]!==void 0)return Object.assign({"":a[""]+l},a[l])}function s(a,l){const u=a.charAt(0);return o(Object.assign({"":u},r[u]),a.slice(1),l,l+1)}function o(a,l,u,c){if(!l)return n||Object.keys(a).length===1?a[""]?[[u,c,a[""]]]:[]:[[u,c,null]];if(Object.keys(a).length===1)return[[u,c,a[""]]].concat(s(l,c));const d=i(a,l.charAt(0));return d===void 0?[[u,c,a[""]]].concat(s(l,c)):o(d,l.slice(1),u,c+1)}return s(e,0)}function Zo(e){return Object.entries(e).reduce((t,[n,r])=>{const i=Hr(r)==="string";return t[n]=i?{"":r}:Zo(r),t},{})}function Cc(e,t){return t.split("").reduce((n,r)=>(n[r]===void 0&&(n[r]={}),n[r]),e)}function $c(e={}){const t={};return Hr(e)==="object"&&Object.entries(e).forEach(([n,r])=>{let i=t;n.split("").forEach(s=>{i[s]===void 0&&(i[s]={}),i=i[s]}),i[""]=r}),function(r){const i=JSON.parse(JSON.stringify(r));function s(o,a){return o===void 0||Hr(o)==="string"?a:Object.entries(a).reduce((l,[u,c])=>(l[u]=s(o[u],c),l),o)}return s(i,t)}}function jc(e,t){return t?Hr(t)==="function"?t(e):$c(t)(e):e}const y0={a:"あ",i:"い",u:"う",e:"え",o:"お",k:{a:"か",i:"き",u:"く",e:"け",o:"こ"},s:{a:"さ",i:"し",u:"す",e:"せ",o:"そ"},t:{a:"た",i:"ち",u:"つ",e:"て",o:"と"},n:{a:"な",i:"に",u:"ぬ",e:"ね",o:"の"},h:{a:"は",i:"ひ",u:"ふ",e:"へ",o:"ほ"},m:{a:"ま",i:"み",u:"む",e:"め",o:"も"},y:{a:"や",u:"ゆ",o:"よ"},r:{a:"ら",i:"り",u:"る",e:"れ",o:"ろ"},w:{a:"わ",i:"ゐ",e:"ゑ",o:"を"},g:{a:"が",i:"ぎ",u:"ぐ",e:"げ",o:"ご"},z:{a:"ざ",i:"じ",u:"ず",e:"ぜ",o:"ぞ"},d:{a:"だ",i:"ぢ",u:"づ",e:"で",o:"ど"},b:{a:"ば",i:"び",u:"ぶ",e:"べ",o:"ぼ"},p:{a:"ぱ",i:"ぴ",u:"ぷ",e:"ぺ",o:"ぽ"},v:{a:"ゔぁ",i:"ゔぃ",u:"ゔ",e:"ゔぇ",o:"ゔぉ"}},b0={".":"。",",":"、",":":"：","/":"・","!":"！","?":"？","~":"〜","-":"ー","‘":"「","’":"」","“":"『","”":"』","[":"［","]":"］","(":"（",")":"）","{":"｛","}":"｝"},Al={k:"き",s:"し",t:"ち",n:"に",h:"ひ",m:"み",r:"り",g:"ぎ",z:"じ",d:"ぢ",b:"び",p:"ぴ",v:"ゔ",q:"く",f:"ふ"},Pc={ya:"ゃ",yi:"ぃ",yu:"ゅ",ye:"ぇ",yo:"ょ"},Rc={a:"ぁ",i:"ぃ",u:"ぅ",e:"ぇ",o:"ぉ"},Tl={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"},w0=Object.assign({tu:"っ",wa:"ゎ",ka:"ヵ",ke:"ヶ"},Rc,Pc),x0={yi:"い",wu:"う",ye:"いぇ",wi:"うぃ",we:"うぇ",kwa:"くぁ",whu:"う",tha:"てゃ",thu:"てゅ",tho:"てょ",dha:"でゃ",dhu:"でゅ",dho:"でょ"},S0={wh:"う",kw:"く",qw:"く",q:"く",gw:"ぐ",sw:"す",ts:"つ",th:"て",tw:"と",dh:"で",dw:"ど",fw:"ふ",f:"ふ"};function k0(){const e=Zo(y0),t=i=>Cc(e,i);Object.entries(Al).forEach(([i,s])=>{Object.entries(Pc).forEach(([o,a])=>{t(i+o)[""]=s+a})}),Object.entries(b0).forEach(([i,s])=>{t(i)[""]=s}),Object.entries(S0).forEach(([i,s])=>{Object.entries(Rc).forEach(([o,a])=>{const l=t(i+o);l[""]=s+a})}),["n","n'","xn"].forEach(i=>{t(i)[""]="ん"}),e.c=JSON.parse(JSON.stringify(e.k)),Object.entries(Tl).forEach(([i,s])=>{const o=i.slice(0,i.length-1),a=i.charAt(i.length-1),l=t(o);l[a]=JSON.parse(JSON.stringify(t(s)))});function n(i){return[...Object.entries(Tl),["c","k"]].reduce((s,[o,a])=>i.startsWith(a)?s.concat(i.replace(a,o)):s,[])}Object.entries(w0).forEach(([i,s])=>{const o=d=>d.charAt(d.length-1),a=d=>d.slice(0,d.length-1),l=`x${i}`,u=t(l);u[""]=s;const c=t(`l${a(i)}`);c[o(i)]=u,n(i).forEach(d=>{["l","x"].forEach(f=>{const h=t(f+a(d));h[o(d)]=t(f+i)})})}),Object.entries(x0).forEach(([i,s])=>{t(i)[""]=s});function r(i){return Object.entries(i).reduce((s,[o,a])=>(o?s[o]=r(a):s[o]=`っ${a}`,s),{})}return[...Object.keys(Al),"c","y","w","j"].forEach(i=>{const s=e[i];s[i]=r(s)}),delete e.n.n,Object.freeze(JSON.parse(JSON.stringify(e)))}let $i=null;function O0(){return $i==null&&($i=k0()),$i}const E0=$c({wi:"ゐ",we:"ゑ"});function A0(e){const t=JSON.parse(JSON.stringify(e));return t.n.n={"":"ん"},t.n[" "]={"":"ん"},t}function Xo(e=""){return ri(e)?!1:e.charCodeAt(0)===h0}function T0(e=""){return ri(e)?!1:e.charCodeAt(0)===p0}Tc((e,t,n)=>{let r=O0();return r=e?A0(r):r,r=t?E0(r):r,n&&(r=jc(r,n)),r},rr);function lo(e=""){return u0(e,Ac,f0)}function C0(e=""){return ri(e)?!1:[...e].every(lo)}const $0=(e,t)=>Xo(e)&&t<1,j0=(e,t)=>Xo(e)&&t>0,P0=e=>["ヶ","ヵ"].includes(e),R0={a:"あ",i:"い",u:"う",e:"え",o:"う"};function I0(e="",t,{isDestinationRomaji:n,convertLongVowelMark:r}={}){let i="";return e.split("").reduce((s,o,a)=>{if(T0(o)||$0(o,a)||P0(o))return s.concat(o);if(r&&i&&j0(o,a)){const l=t(i).slice(-1);return lo(e[a-1])&&l==="o"&&n?s.concat("お"):s.concat(R0[l])}if(!Xo(o)&&lo(o)){const l=o.charCodeAt(0)+(d0-Ac),u=String.fromCharCode(l);return i=u,s.concat(u)}return i="",s.concat(o)},[]).join("")}let ji=null;const M0={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",や:"ya",ゆ:"yu",よ:"yo",わ:"wa",ゐ:"wi",ゑ:"we",を:"wo",ん:"n",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",ゔぁ:"va",ゔぃ:"vi",ゔ:"vu",ゔぇ:"ve",ゔぉ:"vo"},F0={"。":".","、":",","：":":","・":"/","！":"!","？":"?","〜":"~",ー:"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","　":" "},D0=["あ","い","う","え","お","や","ゆ","よ"],Pi={ゃ:"ya",ゅ:"yu",ょ:"yo"},L0={ぃ:"yi",ぇ:"ye"},U0={ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"},N0=["き","に","ひ","み","り","ぎ","び","ぴ","ゔ","く","ふ"],V0={し:"sh",ち:"ch",じ:"j",ぢ:"j"},B0={っ:"",ゃ:"ya",ゅ:"yu",ょ:"yo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"},Cl={b:"b",c:"t",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",m:"m",p:"p",q:"q",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",z:"z"};function K0(){return ji==null&&(ji=z0()),ji}function H0(e){switch(e){case Ec.HEPBURN:return K0();default:return{}}}function z0(){const e=Zo(M0),t=r=>Cc(e,r),n=(r,i)=>{t(r)[""]=i};return Object.entries(F0).forEach(([r,i])=>{t(r)[""]=i}),[...Object.entries(Pi),...Object.entries(U0)].forEach(([r,i])=>{n(r,i)}),N0.forEach(r=>{const i=t(r)[""][0];Object.entries(Pi).forEach(([s,o])=>{n(r+s,i+o)}),Object.entries(L0).forEach(([s,o])=>{n(r+s,i+o)})}),Object.entries(V0).forEach(([r,i])=>{Object.entries(Pi).forEach(([s,o])=>{n(r+s,i+o[1])}),n(`${r}ぃ`,`${i}yi`),n(`${r}ぇ`,`${i}e`)}),e.っ=Ic(e),Object.entries(B0).forEach(([r,i])=>{n(r,i)}),D0.forEach(r=>{n(`ん${r}`,`n'${t(r)[""]}`)}),Object.freeze(JSON.parse(JSON.stringify(e)))}function Ic(e){return Object.entries(e).reduce((t,[n,r])=>{if(n)t[n]=Ic(r);else{const i=r.charAt(0);t[n]=Object.keys(Cl).includes(i)?Cl[i]+r:r}return t},{})}const Mc=Tc((e,t)=>{let n=H0(e);return t&&(n=jc(n,t)),n},rr);function Fc(e="",t={},n){const r=v0(t);return n||(n=Mc(r.romanization,r.customRomajiMapping)),q0(e,r,n).map(i=>{const[s,o,a]=i;return r.upcaseKatakana&&C0(e.slice(s,o))?a.toUpperCase():a}).join("")}function q0(e,t,n){n||(n=Mc(t.romanization,t.customRomajiMapping));const r=Object.assign({},{isDestinationRomaji:!0},t);return _0(I0(e,Fc,r),n,!t.IMEMode)}function Dc(){const{isError:e,loadingState:t}=It();return{fetchData:async({url:r,method:i,headers:s,sendData:o},a={})=>{try{t(!0);const l=await fetch(r,{method:i||"GET",headers:s||{"content-type":"application/json"},body:o?JSON.stringify(o):null,mode:"cors",...a});if(!l.ok)throw new Error(`${l.status}_請求失敗`);return await l.json()}catch(l){e({showError:!0,message:l})}finally{t(!1)}}}}const Dt=Ys("lyric",()=>{const{fetchData:e}=Dc(),t=J([]),n=J([]),r=J([]),i=J([]),s=J([]),o=J({}),a=J({}),l=Xe({show:!0,message:""});async function u($){const I=J({app_id:"2edb07cd3d942c21b19230973180a7d8bedf641d0ccc1db82b19cde777d5b3cd",output_type:"hiragana",sentence:$});return await e({url:"https://labs.goo.ne.jp/api/hiragana",method:"POST",sendData:I.value})}function c($){return $.map(I=>/^[A-Za-z\s',]+$/.test(I)?"":d(I))}function d($){return $.split(" ").map(I=>I.match(/[^\w',]/)?Fc(I.split("").join(" "),{customRomajiMapping:{は:"wa"}}):I).join(" ")}const f=J([]);async function h($){n.value.length=0,t.value=$,localStorage.setItem("initLyrics",JSON.stringify($));const I=/\w/g.test($);let x,k,A;I?(x=$.replace(/\n/g,"||").replace(/\s/g,"★").replace(/[\w'-]+/g,"※"),k=$.match(/[\w'-]+/g)):x=$.replace(/\n/g,"||").replace(/\s/g,"★");const j=await u(x);if(I){let E=0;A=j.converted.replace(/\※/g,()=>k[E++]).replace(/\s/g,"").replace(/★/g," ").split("||").map(v=>v.trim())}else A=j.converted.replace(/\s/g,"").replace(/★/g," ").split("||").map(E=>E.trim());A=A.filter((E,v)=>(E===""&&f.value.push(v-f.value.length),E!=="")),f.value=f.value.filter((E,v,D)=>E-1!==D[v-1]),r.value=A,i.value=c(A);const w=$.replace(/\n/g,"||").replace(/\s/g," ").split("||").filter(E=>E!=="");p(A,w)}async function p($,I){n.value=await I.map((x,k)=>x=m(x,$[k],k))}function m($,I,x){const A=new ao.diff_match_patch().diff_main($,I);A.push([0,""]);let j="";return A.reduce((w,[E,v])=>E===0?(w.kanji&&(j+=w.kanji.match(/\s$/g)||w.kanji.match(/[a-zA-Z]+/gm)?w.kanji:`<ruby class="kanji-word" data-index="${x}">${w.kanji}<rp>(</rp><rt>${w.hiragana||"?"}</rt><rp>)</rp></ruby>`,w.kanji=null,w.hiragana=null),j+=v,w):(w[E===1?"hiragana":"kanji"]=v,w),{kanji:null,hiragana:null}),j}const y=Xe({lyricsFont:{big:{id:"big",name:"大",class:["text-2xl","leading-9"]},middle:{id:"middle",name:"中",class:["text-xl","leading-[2.4rem]"]},small:{id:"small",name:"小",class:["text-base","leading-[2.4rem]"]}},selected:{fontSize:"middle",labelType:"rubi",fixedVideo:!1,timeStamp:!1,loopLyric:!1,dramaMode:!1,isRecommend:{state:!1,recommender:""}}});function _($){a.value=$,localStorage.setItem("songInfo",JSON.stringify($))}function C(){localStorage.removeItem("songInfo"),localStorage.removeItem("initLyrics")}function P({furigana:$,hiragana:I,romaji:x,timeStamp:k,space:A,recommend:j,info:w}){n.value=$,r.value=I,i.value=x,o.value=k,f.value=A,y.selected.isRecommend=j,a.value=w}function F({isShow:$,message:I}){l.show=$,l.message=I}function V({init:$,edit:I,index:x,html:k}){const A=k.replace($,I);n.value[x]=n.value[x].replace(k,A);const j=n.value[x].replace(/<[^>]+>/g,"").match(/[ぁ-んァ-ンー々〆〤a-zA-Z]+/g).map(w=>/[a-zA-Z]/.test(w)?" "+w:w).join("");r.value[x]=j,i.value[x]=d(j)}return{initLyrics:t,furiganaLyrics:n,hiraganaLyrics:r,romajiLyrics:i,songPageOption:y,songInfo:a,timeStampState:s,lyricTimeStamp:o,spaceIndex:f,songDisplay:l,handleLyricTransform:h,handleSongSelected:_,removeLocal:C,handleFuriganaEdit:V,handleSongState:P,handleSongDisplay:F}}),Lt=Ys("youtube",()=>{const{timeStampState:e}=mt(Dt()),t=J(""),n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r);let i;window.onYouTubeIframeAPIReady=function(){i=new YT.Player("player",{width:"854",height:"480",videoId:t.value,modestbranding:1,rel:0,playerVars:{playsinline:1},events:{onStateChange:l}})};function s(F){t.value=F}function o(F){i.loadVideoById(F),i.pauseVideo(),t.value=F}let a;function l(F){F.data===YT.PlayerState.PLAYING?(a=setInterval(u,100),c.value=!0):(clearInterval(a),a=null,c.value=!1)}function u(){const F=new Date(i.getCurrentTime()*1e3).toISOString().slice(11,23);e.value.push(F)}const c=J(!1);function d(F){F?i.playVideo():i.pauseVideo()}function f(F){const V=F.split(":"),$=+V[0]*60*60+ +V[1]*60+ +V[2];i.seekTo($,!0)}const h=J("https://youtube.googleapis.com/youtube/v3/search?"),{fetchData:p}=Dc(),m=J(""),y=J(""),_=J(!1);async function C(F){_.value=!0;const V={part:"snippet",q:encodeURI(F),maxResults:10,key:"AIzaSyC71Tcff4OA2KYFnZcUukRgmo0mhTHUgM4"};for(const[I,x]of Object.entries(V))h.value+=`${I}=${x}&`;const $=await p({url:h.value});return m.value=$.nextPageToken,y.value=$.prevPageToken,$}async function P(F){_.value=!1;let V=h.value;V+=F?`pageToken=${m.value}`:`pageToken=${y.value}`;const $=await p({url:V});return m.value=$.nextPageToken,y.value=$.prevPageToken,$}return{videoId:t,isPlayVideo:c,isReasearch:_,getVideoId:s,changeVideoId:o,controlVideoPlay:d,controlSeekTo:f,youtubeSearch:C,youtubePageChange:P}});const dt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},J0={class:"w-full max-w-[120px] relative"},W0={key:0,class:"text-xs absolute top-[-30px] bg-red-500 rounded-md p-1"},G0={class:"w-full relative before:block before:pb-[56.25%] overflow-hidden"},Y0=["srcset","media","width","height"],Z0=["srcset","width","height","alt"],X0={class:"w-full max-sm:max-w-[190px] max-w-[500px] transition-all hover:bg-slate-300/[0.2] pl-5"},Q0={class:"line-clamp"},ev={key:0,class:"text-xs text-slate-500 leading-5"},tv={__name:"AtmosCard",props:{data:Object,id:String,url:String,width:Number,height:Number,title:String,subTitle:String,href:String,isAdded:Boolean,disappear:Boolean},setup(e){const t=e,{handleSongSelected:n}=Dt(),r=le(()=>{var s,o,a,l,u;return{id:t.id,url:((s=t.data)==null?void 0:s.thumbnails.medium.url)||t.url,width:((o=t.data)==null?void 0:o.thumbnails.default.width)||t.width||120,height:((a=t.data)==null?void 0:a.thumbnails.default.height)||t.height||90,title:((l=t.data)==null?void 0:l.title)||t.title,subTitle:((u=t.data)==null?void 0:u.channelTitle)||t.subTitle}});function i(){!t.href||t.isAdded||n(r.value)}return(s,o)=>(K(),Y("div",{class:ge(["flex items-center",{disappear:e.disappear}])},[(K(),Me(Gr(e.href?"a":"div"),{onClick:i,href:e.href,class:"flex max-md:justify-normal justify-center text-left w-full"},{default:Be(()=>[R("div",J0,[e.href?ve("",!0):(K(),Y("p",W0," 已選歌曲 ")),R("div",G0,[R("picture",null,[R("source",{srcset:U(r).url,media:`(min-width: ${U(r).width}px)`,width:U(r).width,height:U(r).height},null,8,Y0),R("img",{srcset:U(r).url,width:U(r).width,height:U(r).height,alt:U(r).title,class:"img-to-cover transition-transform group-hover:scale-[125%]"},null,8,Z0)])])]),R("div",X0,[R("p",Q0,Ee(U(r).title),1),U(r).subTitle?(K(),Y("div",ev,[R("p",null,Ee(U(r).subTitle),1)])):ve("",!0)])]),_:1},8,["href"])),vr(s.$slots,"configure",{},void 0,!0)],2))}},si=dt(tv,[["__scopeId","data-v-bfd13b59"]]),nv={__name:"MolsListCard",props:{resultData:{type:Object,required:!0}},setup(e){return(t,n)=>(K(),Y("div",null,[(K(!0),Y(Oe,null,St(e.resultData.items,r=>(K(),Y("div",{class:"border border-transparent transition-all ml-2 mb-5 group cursor-pointer hover:bg-slate-300/[0.2]",key:r.id.videoId||r.id.channelId},[re(si,{data:r.snippet,id:r.id.videoId||r.id.channelId,href:`/KAKUKAKU/song/upload?song_id=${r.id.videoId||r.id.channelId}`},null,8,["data","id","href"])]))),128))]))}};const rv={class:"relative"},sv=["type","placeholder"],iv={key:0,class:"text-sm text-red-500 my-2"},ov={__name:"AtmosInput",props:{inputTips:{type:String,required:!0},inputClass:{type:String,required:!0},modelValue:{type:String,required:!0},inputType:{type:String,rqueired:!1},errorMessage:{type:String,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(i){t("update:modelValue",i)}});return(i,s)=>(K(),Y("div",rv,[jn(R("input",{class:ge([e.inputClass,{"border border-red-500 move":e.errorMessage}]),type:e.inputType||"text",placeholder:e.inputTips,"onUpdate:modelValue":s[0]||(s[0]=o=>Ce(r)?r.value=o:null)},null,10,sv),[[Vh,U(r),void 0,{trim:!0,lazy:!0}]]),vr(i.$slots,"icon",{},void 0,!0),e.errorMessage?(K(),Y("p",iv,Ee(e.errorMessage),1)):ve("",!0)]))}},fr=dt(ov,[["__scopeId","data-v-e04f328e"]]),av={"aria-hidden":"true",class:"w-6 h-6"},lv=["href","fill"],Ve={__name:"AtmosSvgIcon",props:{name:{type:String,required:!0},prefix:{type:String,default:"icon"},color:{type:String,default:"#333"}},setup(e){const t=e,n=le(()=>`#${t.name}`);return(r,i)=>(K(),Y("svg",av,[R("use",{href:U(n),fill:e.color},null,8,lv)]))}};const uv=["onSubmit"],cv={__name:"MolsSongSearch",props:{className:{type:String,required:!0}},emits:["search"],setup(e,{emit:t}){const{isError:n,loadingState:r}=It(),{youtubeSearch:i}=Lt(),s=J("");async function o(l){if(!s.value){n({showError:!0,message:"請輸入歌曲名稱"});return}r(!0);const u=await i(s.value);t("search",u),r(!1)}const a=le(()=>s.value?"cursor-pointer":"opacity-40");return(l,u)=>(K(),Y(Oe,null,[R("div",{class:ge(["w-full overflow-hidden max-sm:mb-2 mb-3 mx-auto",e.className])},[vr(l.$slots,"default",{},void 0,!0)],2),R("form",{onSubmit:Bo(o,["prevent"])},[re(fr,{class:"max-sm:max-w-xs max-sm:text-sm max-w-xl mx-auto",inputTips:"請輸入想搜尋的歌曲名稱",inputClass:"resize-none bg-[transparent] border border-solid rounded-3xl py-2 px-5 w-full outline-none backdrop-blur-lg",modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c)},{icon:Be(()=>[re(Ve,{name:"icon_search",class:ge(["absolute right-3 top-2",U(a)]),onClick:o},null,8,["class"])]),_:1},8,["modelValue"])],40,uv)],64))}},dv=dt(cv,[["__scopeId","data-v-f2c6f7e6"]]),fv={class:"inline-flex items-center justify-center gap-3"},hv=R("span",{class:"sr-only"},"Next Page",-1),pv=R("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[R("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),mv=[hv,pv],gv={class:"text-md text-white"},vv=R("span",{class:"mx-0.25"},"/",-1),_v=R("span",{class:"sr-only"},"Next Page",-1),yv=R("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[R("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),bv=[_v,yv],Qo={__name:"AtmosPagination",props:{nowPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["search"],setup(e,{emit:t}){const r=J(e.nowPage),{isReasearch:i}=mt(Lt());function s(o){r.value+=o?1:-1,t("search",o)}return Ke(i,()=>{r.value=i.value?1:r.value}),(o,a)=>(K(),Y("div",fv,[r.value!==1?(K(),Y("a",{key:0,href:"#",class:"inline-flex h-8 w-8 items-center justify-center text-white rtl:rotate-180 bg-gray-900/50 border border-white rounded hover:bg-slate-600",onClick:a[0]||(a[0]=l=>s(!1))},mv)):ve("",!0),R("p",gv,[Ft(Ee(r.value)+" ",1),vv,Ft(" "+Ee(e.totalPages),1)]),r.value!==e.totalPages?(K(),Y("a",{key:1,href:"#",class:"inline-flex h-8 w-8 items-center justify-center text-white rtl:rotate-180 bg-gray-900/50 border border-white rounded hover:bg-slate-600",onClick:a[1]||(a[1]=l=>s(!0))},bv)):ve("",!0)]))}};const wv={__name:"Index",setup(e){const{youtubePageChange:t}=Lt(),{loadingState:n}=It(),r=J("一鍵平假名，輕鬆學日文歌"),i=J(""),s=J(0);function o(){i.value=r.value.slice(0,s.value),s.value+=1}const a=setInterval(o,150);Ke(s,()=>{s.value===r.value.length+1&&clearInterval(a)});const l=J(!1),u=J({}),c=J(""),d=J(0),f=J(0);async function h(m){var y;f.value=0,l.value||(l.value=!0,setTimeout(()=>{c.value="disappear"},300)),u.value=m,d.value=parseInt(((y=m.pageInfo)==null?void 0:y.totalResults)/10)}async function p(m){f.value+=m?1:-1,n(!0);const y=await t(m);u.value=y,n(!1)}return(m,y)=>{var _,C;return K(),Y("div",{class:ge(["w-full ease-in-out duration-700",[l.value?"mt-5":"!mt-56"]])},[re(dv,{className:c.value,onSearch:h},{default:Be(()=>[R("h1",{class:ge(["max-sm:text-2xl max-sm:h-8 text-5xl h-12",{"move-down":l.value}])},Ee(i.value),3)]),_:1},8,["className"]),re(nv,{class:"max-md:px-3 max-md:pl-5 max-w-[512px] mx-auto mt-5",resultData:u.value},null,8,["resultData"]),((C=(_=u.value)==null?void 0:_.items)==null?void 0:C.length)>9?(K(),Me(Qo,{key:0,onSearch:p,"now-page":f.value+1,totalPages:d.value||0},null,8,["now-page","totalPages"])):ve("",!0)],2)}}},xv=dt(wv,[["__scopeId","data-v-d4d8223d"]]);function ii(){return{passwordRegex:function(i){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,30}$/g.test(i)},songTitleRegex:function(i){return i.split(/[^\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf\w]/g).map(s=>s.trim()).filter(s=>s!="")},songIdRegex:function(i){const s=i.match(/v=([a-zA-Z0-9_-]+)/);return s?s[1]:!1},urlSongIdChangeRegex:function(i,s){return i.replace(/song_id=([a-zA-Z0-9_-]+)/,"song_id="+s)}}}const Sv={class:"mt-3 mb-4 flex flex-wrap"},kv={class:"flex items-center flex-wrap"},Ov=R("li",{class:"mr-3"},[R("span",{class:"p-1 bg-slate-700 rounded text-xs"},"歌詞關鍵字搜尋")],-1),Ev=["href"],Av={__name:"AtmosKeywords",props:["songInfo"],setup(e){const t=e,{songTitleRegex:n}=ii(),r=J(null);return r.value=n(t.songInfo.title),(i,s)=>(K(),Y("div",Sv,[R("ul",kv,[Ov,(K(!0),Y(Oe,null,St(r.value,(o,a)=>(K(),Y("li",{key:a},[R("a",{href:`https://www.google.com/search?q=${o}+歌詞`,target:"_blank",class:ge(["p-1 bg-slate-600 rounded text-xs mb-3",{"mr-3":a!=r.value.length-1}])},Ee(o),11,Ev)]))),128))])]))}},Tv=["placeholder"],Cv={__name:"AtmosEdit",props:{placeholder:{type:String,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(i){t("update:modelValue",i)}});return(i,s)=>jn((K(),Y("textarea",{class:"w-full resize-none bg-gray-900/50 border border-solid rounded-xl py-2 px-5 outline-none",cols:"53",rows:"14","onUpdate:modelValue":s[0]||(s[0]=o=>Ce(r)?r.value=o:null),placeholder:e.placeholder},null,8,Tv)),[[As,U(r),void 0,{trim:!0,lazy:!0}]])}},$v={for:"songName",class:"flex items-center mb-3"},jv=R("span",{class:"w-full max-w-[9rem] text-left"},"歌曲名稱",-1),Pv={for:"songUrl",class:"flex items-center mb-3"},Rv=R("span",{class:"w-full max-w-[9rem] text-left"},"Youtube 影片連結",-1),Iv={class:"flex"},Mv={class:"w-full bg-gray-900/50 border border-solid rounded-xl leading-10 hover:bg-slate-600 cursor-pointer",for:"file-uploader"},Fv={__name:"MolsEdit",props:{isYoutubeSearch:{type:Boolean,required:!0}},setup(e){const t=e,n=Zr(),r=Nt(),{handleLyricTransform:i,handleSongSelected:s}=Dt(),{isError:o}=It(),{songIdRegex:a}=ii(),l=J(""),u=J(""),c=J(""),d=J("");async function f(m,y){await i(m),n.push(`/KAKUKAKU/song/item?song_id=${y}`)}function h(){if(!u.value&&!t.isYoutubeSearch){o({showError:!0,message:"請輸入歌曲名稱"});return}if(!c.value&&!t.isYoutubeSearch){o({showError:!0,message:"請輸入 Youtube 影片連結"});return}if(!l.value){o({showError:!0,message:"請輸入 / 貼上 / 上傳歌詞"});return}if(t.isYoutubeSearch)d.value=r.query.song_id;else try{const m=new URL(c.value);d.value=a(m.search),s({id:d.value,title:u.value,url:`https://i.ytimg.com/vi/${d.value}/mqdefault.jpg`})}catch{o({showError:!0,message:"連結有誤，請再次確認"});return}f(l.value,d.value)}async function p(m){let y=m.target.files[0];if(!y)return;const _=new FileReader;_.addEventListener("load",C=>{l.value=C.target.result},!1),_.readAsText(y)}return(m,y)=>(K(),Y("div",null,[e.isYoutubeSearch?ve("",!0):(K(),Y(Oe,{key:0},[R("label",$v,[jv,re(fr,{id:"songName",class:"w-10/12 max-sm:text-sm ml-3",inputTips:"請輸入歌曲名稱",inputClass:"w-full block py-3 pl-3 border rounded-lg bg-gray-900 border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40",modelValue:u.value,"onUpdate:modelValue":y[0]||(y[0]=_=>u.value=_),modelModifiers:{trim:!0}},null,8,["modelValue"])]),R("label",Pv,[Rv,re(fr,{id:"songUrl",class:"w-10/12 max-sm:text-sm ml-3",inputTips:"請輸入 Youtube 影片連結",inputClass:"w-full block py-3 pl-3 border rounded-lg bg-gray-900 border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40",modelValue:c.value,"onUpdate:modelValue":y[1]||(y[1]=_=>c.value=_),modelModifiers:{trim:!0}},null,8,["modelValue"])])],64)),re(Cv,{placeholder:"請輸入 / 貼上 / 上傳歌詞",modelValue:l.value,"onUpdate:modelValue":y[2]||(y[2]=_=>l.value=_),modelModifiers:{trim:!0}},null,8,["modelValue"]),R("div",Iv,[R("button",{class:"w-full bg-gray-900/50 border border-solid rounded-xl mr-2 hover:bg-slate-600",onClick:h}," 確定 "),R("label",Mv,[R("input",{type:"file",id:"file-uploader","data-target":"file-uploader",accept:".txt,.doc,.docx",class:"hidden",onChange:p},null,32),Ft(" 上傳歌詞 ")])])]))}},Dv={class:"flex flex-col max-md:px-5 max-w-[510px] mx-auto"},Lv={key:0,class:"relative max-md:pt-7 pt-5"},Uv={__name:"Index",setup(e){const t=Nt(),n=J(!1),r=J({});function i(){r.value=JSON.parse(localStorage.getItem("songInfo"))}return ct(()=>{if(i(),t.query.song_id)return n.value=t.query.song_id===r.value.id}),(s,o)=>(K(),Y("div",Dv,[n.value?(K(),Y("div",Lv,[re(si,{id:r.value.id,url:r.value.url,width:r.value.width,height:r.value.height,title:r.value.title,subTitle:r.value.subTitle},null,8,["id","url","width","height","title","subTitle"]),re(Av,{"song-info":r.value},null,8,["song-info"])])):ve("",!0),re(Fv,{isYoutubeSearch:n.value},null,8,["isYoutubeSearch"])]))}};function Bn(e){this._maxSize=e,this.clear()}Bn.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Bn.prototype.get=function(e){return this._values[e]};Bn.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Nv=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Lc=/^\d+$/,Vv=/^\d/,Bv=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Kv=/^\s*(['"]?)(.*?)(\1)\s*$/,ea=512,$l=new Bn(ea),jl=new Bn(ea),Pl=new Bn(ea),Mn={Cache:Bn,split:uo,normalizePath:Ri,setter:function(e){var t=Ri(e);return jl.get(e)||jl.set(e,function(r,i){for(var s=0,o=t.length,a=r;s<o-1;){var l=t[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[t[s++]]}a[t[s]]=i})},getter:function(e,t){var n=Ri(e);return Pl.get(e)||Pl.set(e,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!t)i=i[n[s++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(ta(n)||Lc.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){Hv(Array.isArray(e)?e:uo(e),t,n)}};function Ri(e){return $l.get(e)||$l.set(e,uo(e).map(function(t){return t.replace(Kv,"$2")}))}function uo(e){return e.match(Nv)||[""]}function Hv(e,t,n){var r=e.length,i,s,o,a;for(s=0;s<r;s++)i=e[s],i&&(Jv(i)&&(i='"'+i+'"'),a=ta(i),o=!a&&/^\d+$/.test(i),t.call(n,i,a,o,s,e))}function ta(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function zv(e){return e.match(Vv)&&!e.match(Lc)}function qv(e){return Bv.test(e)}function Jv(e){return!ta(e)&&(zv(e)||qv(e))}const Wv=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,oi=e=>e.match(Wv)||[],ai=e=>e[0].toUpperCase()+e.slice(1),na=(e,t)=>oi(e).join(t).toLowerCase(),Uc=e=>oi(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Gv=e=>ai(Uc(e)),Yv=e=>na(e,"_"),Zv=e=>na(e,"-"),Xv=e=>ai(na(e," ")),Qv=e=>oi(e).map(ai).join(" ");var Ii={words:oi,upperFirst:ai,camelCase:Uc,pascalCase:Gv,snakeCase:Yv,kebabCase:Zv,sentenceCase:Xv,titleCase:Qv},Cs={},e_={get exports(){return Cs},set exports(e){Cs=e}};e_.exports=function(e){return Nc(t_(e),e)};Cs.array=Nc;function Nc(e,t){var n=e.length,r=new Array(n),i={},s=n,o=n_(t),a=r_(e);for(t.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(e[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var h=o.get(u)||new Set;if(h=Array.from(h),c=h.length){d.add(u);do{var p=h[--c];l(p,a.get(p),d)}while(c);d.delete(u)}r[--n]=u}}}function t_(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function n_(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function r_(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}const s_=Object.prototype.toString,i_=Error.prototype.toString,o_=RegExp.prototype.toString,a_=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",l_=/^Symbol\((.*)\)(.*)$/;function u_(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function Rl(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return u_(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return a_.call(e).replace(l_,"Symbol($1)");const r=s_.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+i_.call(e)+"]":r==="RegExp"?o_.call(e):null}function sr(e,t){let n=Rl(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let s=Rl(this[r],t);return s!==null?s:i},2)}function Vc(e){return e==null?[]:[].concat(e)}let c_=/\$\{\s*(\w+)\s*\}/g;class ut extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof t=="string"?t.replace(c_,(i,s)=>sr(n[s])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Vc(t).forEach(s=>{ut.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,ut)}}let zt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${sr(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${sr(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${sr(n,!0)}\``+i}},_t={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},d_={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},co={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},f_={isValue:"${path} field must be ${value}"},fo={noUnknown:"${path} field has unspecified keys: ${unknown}"},h_={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:zt,string:_t,number:d_,date:co,object:fo,array:h_,boolean:f_});const ra=e=>e&&e.__isYupSchema__;class $s{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new $s(t,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!ra(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const ps={context:"$",value:"."};function Il(e,t){return new gn(e,t)}class gn{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ps.context,this.isValue=this.key[0]===ps.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?ps.context:this.isValue?ps.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Mn.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}gn.prototype.__isYupRef=!0;const Pn=e=>e==null;function Wn(e){function t({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:f,skipAbsent:h}=e;let{parent:p,context:m,abortEarly:y=o.spec.abortEarly}=i;function _(A){return gn.isRef(A)?A.getValue(n,p,m):A}function C(A={}){const j=Object.assign({value:n,originalValue:s,label:o.spec.label,path:A.path||r,spec:o.spec},d,A.params);for(const E of Object.keys(j))j[E]=_(j[E]);const w=new ut(ut.formatError(A.message||f,j),n,j.path,A.type||u);return w.params=j,w}const P=y?a:l;let F={path:r,parent:p,type:u,from:i.from,createError:C,resolve:_,options:i,originalValue:s,schema:o};const V=A=>{ut.isError(A)?P(A):A?l(null):P(C())},$=A=>{ut.isError(A)?P(A):a(A)},I=h&&Pn(n);if(!i.sync){try{Promise.resolve(I?!0:c.call(F,n,F)).then(V,$)}catch(A){$(A)}return}let x;try{var k;if(x=I?!0:c.call(F,n,F),typeof((k=x)==null?void 0:k.then)=="function")throw new Error(`Validation test of type: "${F.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(A){$(A);return}V(x)}return t.OPTIONS=e,t}function p_(e,t,n,r=n){let i,s,o;return t?(Mn.forEach(t,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:i,value:n});let d=e.type==="tuple",f=u?parseInt(c,10):0;if(e.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[f],e=d?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);i=n,n=n&&n[c],e=e.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:s}):{parent:i,parentPath:t,schema:e}}class js extends Set{describe(){const t=[];for(const n of this.values())t.push(gn.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new js(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Xn(e,t=new Map){if(ra(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Xn(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,Xn(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Xn(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=Xn(i,t)}else throw Error(`Unable to clone ${e}`);return n}class Ut{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new js,this._blacklist=new js,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(zt.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Xn(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{t.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",s=r._cast(t,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Pn(s))return s;let o=sr(t),a=sr(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,s)=>s.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:s,originalValue:o=t,strict:a=this.spec.strict}=n,l=t;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=t,c=m=>{i||(i=!0,n(m,o))},d=m=>{i||(i=!0,r(m,o))},f=s.length,h=[];if(!f)return d([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let m=0;m<s.length;m++){const y=s[m];y(p,c,function(C){C&&(h=h.concat(C)),--f<=0&&d(h)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+t});return(d,f,h)=>this.resolve(c)._validate(u,c,f,h)}validate(t,n){let r=this.resolve(Object.assign({},n,{value:t}));return new Promise((i,s)=>r._validate(t,n,(o,a)=>{ut.isError(o)&&(o.value=a),s(o)},(o,a)=>{o.length?s(new ut(o,a)):i(a)}))}validateSync(t,n){let r=this.resolve(Object.assign({},n,{value:t})),i;return r._validate(t,Object.assign({},n,{sync:!0}),(s,o)=>{throw ut.isError(s)&&(s.value=o),s},(s,o)=>{if(s.length)throw new ut(s,t);i=o}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(ut.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(ut.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Xn(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=Wn({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=Wn({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=zt.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=zt.notNull){return this.nullability(!1,t)}required(t=zt.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=zt.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Wn(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=Vc(t).map(s=>new gn(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new $s(i,n):$s.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=Wn({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=zt.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Wn({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(t,n=zt.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Wn({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}Ut.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Ut.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:s,schema:o}=p_(this,t,n,r.context);return o[e](i&&i[s],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])Ut.prototype[e]=Ut.prototype.oneOf;for(const e of["not","nope"])Ut.prototype[e]=Ut.prototype.notOneOf;let m_=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,g_=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,v_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,__=e=>Pn(e)||e===e.trim(),y_={}.toString();function qe(){return new Bc}class Bc extends Ut{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===y_?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||zt.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=_t.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=_t.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=_t.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||_t.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&r||o.search(t)!==-1})}email(t=_t.email){return this.matches(m_,{name:"email",message:t,excludeEmptyString:!0})}url(t=_t.url){return this.matches(g_,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=_t.uuid){return this.matches(v_,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=_t.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:__})}lowercase(t=_t.lowercase){return this.transform(n=>Pn(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Pn(n)||n===n.toLowerCase()})}uppercase(t=_t.uppercase){return this.transform(n=>Pn(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Pn(n)||n===n.toUpperCase()})}}qe.prototype=Bc.prototype;var b_=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function w_(e){var t=[1,4,5,6,7,10,11],n=0,r,i;if(i=b_.exec(e)){for(var s=0,o;o=t[s];++s)i[o]=+i[o]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(e):NaN;return r}let x_=new Date(""),S_=e=>Object.prototype.toString.call(e)==="[object Date]";class li extends Ut{constructor(){super({type:"date",check(t){return S_(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=w_(t),isNaN(t)?li.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(gn.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=co.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=co.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}li.INVALID_DATE=x_;li.prototype;function k_(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Mn.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(e)){let a=e[o];r.add(o),gn.isRef(a)&&a.isSibling?s(a.path,o):ra(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return Cs.array(Array.from(r),n).reverse()}function Ml(e,t){let n=1/0;return e.some((r,i)=>{var s;if((s=t.path)!=null&&s.includes(r))return n=i,!0}),n}function Kc(e){return(t,n)=>Ml(e,t)-Ml(e,n)}const O_=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function ys(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=ys(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=ys(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(ys)}):"optional"in e?e.optional():e}const E_=(e,t)=>{const n=[...Mn.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=Mn.getter(Mn.join(n),!0)(e);return!!(i&&r in i)};let Fl=e=>Object.prototype.toString.call(e)==="[object Object]";function A_(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const T_=Kc([]);function Zn(e){return new Hc(e)}class Hc extends Ut{constructor(t){super({type:"object",check(n){return Fl(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=T_,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let f=s[d],h=d in i;if(f){let p,m=i[d];u.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:m,context:n.context,parent:l});let y=f instanceof Ut?f.spec:void 0,_=y==null?void 0:y.strict;if(y!=null&&y.strip){c=c||d in i;continue}p=!n.__validating||!_?f.cast(i[d],u):i[d],p!==void 0&&(l[d]=p)}else h&&!o&&(l[d]=i[d]);(h!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(t,n={},r,i){let{from:s=[],originalValue:o=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(t,n,r,(l,u)=>{if(!a||!Fl(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let f=this.fields[d];!f||gn.isRef(f)||c.push(f.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=t;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=k_(t,n),r._sortErrors=Kc(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return ys(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n)}omit(t){const n=Object.assign({},this.fields);for(const r of t)delete n[r];return this.setFields(n)}from(t,n,r){let i=Mn.getter(t,!0);return this.transform(s=>{if(!s)return s;let o=s;return E_(s,t)&&(o=Object.assign({},s),r||delete o[t],o[n]=i(s)),o})}json(){return this.transform(O_)}noUnknown(t=!0,n=fo.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=A_(this.schema,i);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=fo.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys(Ii.camelCase)}snakeCase(){return this.transformKeys(Ii.snakeCase)}constantCase(){return this.transformKeys(t=>Ii.snakeCase(t).toUpperCase())}describe(t){let n=super.describe(t);n.fields={};for(const[i,s]of Object.entries(this.fields)){var r;let o=t;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n.fields[i]=s.describe(o)}return n}}Zn.prototype=Hc.prototype;const Ot=Ys("auth",()=>{const e=J("");function t(){return!!e.value}const n=le(()=>{var s;return t()?(s=e.value.user_metadata)==null?void 0:s.name:""}),r=J({login:{email:{name:"email",label:"信箱",as:"input",placeholder:"請輸入信箱",icon:"icon_email"},password:{name:"password",label:"密碼",as:"input",type:"password",placeholder:"請輸入密碼",autocomplete:!0,icon:"icon_password",icon2:"icon_eye_close"}},signup:{userName:{name:"name",label:"使用者名稱",as:"input",placeholder:"請輸入使用者名稱",icon:"icon_user"},birth:{name:"birth",label:"出生年月日(西元)",as:"input",type:"date",icon:"icon_calender"},gender:{name:"gender",label:"性別",as:"select",icon:"icon_gender",icon2:"icon_chervon_down",children:[{tag:"option",value:"",text:"請選擇性別",disabled:!0},{tag:"option",value:"male",text:"男"},{tag:"option",value:"female",text:"女"},{tag:"option",value:"ohter",text:"其他"}]},level:{name:"level",label:"日本語能力",as:"select",icon:"icon_paper",icon2:"icon_chervon_down",children:[{tag:"option",value:"",text:"請選擇日本語能力",disabled:!0},{tag:"option",value:"none",text:"無"},{tag:"option",value:"N1",text:"N1"},{tag:"option",value:"N2",text:"N2"},{tag:"option",value:"N3",text:"N3"},{tag:"option",value:"N4",text:"N4"},{tag:"option",value:"N5",text:"N5"}]},email:{name:"email",label:"信箱",as:"input",placeholder:"請輸入信箱",icon:"icon_email"},password:{name:"password",label:"密碼",as:"input",type:"password",placeholder:"請輸入密碼",autocomplete:!1,icon:"icon_password",icon2:"icon_eye_close"},passwordConfirmed:{name:"passwordConfirmed",label:"確認密碼",as:"input",type:"password",placeholder:"請再次輸入密碼",autocomplete:!1,icon:"icon_password",icon2:"icon_eye_close"}},feedback:{userName:{name:"name",label:"使用者名稱",as:"input",value:n,placeholder:"請輸入使用者名稱",icon:"icon_user"},questionType:{name:"questionType",label:"問題類型",as:"select",icon:"icon_paper",icon2:"icon_chervon_down",children:[{tag:"option",value:"",text:"請選擇問題類型",disabled:!0},{tag:"option",value:"operating",text:"網站操作流程"},{tag:"option",value:"webUI",text:"網站排版樣式"},{tag:"option",value:"other",text:"其他"}]},feedbackText:{name:"feedbackText",label:"回饋內容",as:"textarea",placeholder:"請輸入意見或回饋"}},passwordForget:{email:{name:"email",label:"信箱",as:"input",placeholder:"請輸入信箱",icon:"icon_email"}},passwordUpdate:{password:{name:"password",label:"密碼",as:"input",type:"password",placeholder:"請輸入新密碼",icon:"icon_password",icon2:"icon_eye_close"},passwordConfirmed:{name:"passwordConfirmed",label:"確認密碼",as:"input",type:"password",placeholder:"請再次輸入新密碼",icon:"icon_password",icon2:"icon_eye_close"}}}),i=J({login:Zn({email:qe().email("信箱格式錯誤").required("請輸入信箱"),password:qe().required("請輸入密碼").min(6,"至少輸入 6 個字").max(20,"最多輸入 20 個字")}),signup:Zn({name:qe().min(2,"請輸入兩字以上名稱").max(15,"最多輸入 15 個字").required("請輸入使用者名稱"),birth:qe().required("請選擇出生年月日"),gender:qe().required("請選擇性別"),level:qe().required("請選擇日本語能力"),email:qe().email("信箱格式錯誤").required("請輸入信箱"),password:qe().required("請輸入密碼").min(6,"至少輸入 6 個字").max(20,"最多輸入 20 個字"),passwordConfirmed:qe().oneOf([Il("password"),null],"密碼不相符").required("請再次輸入密碼")}),feedback:Zn({name:qe().min(2,"請輸入兩字以上名稱").max(15,"最多輸入 15 個字").required("請輸入使用者名稱"),questionType:qe().required("請選擇問題類型"),feedbackText:qe().required("請輸入意見或回饋").min(2,"至少輸入 2 個字").max(300,"最多輸入 300 個字")}),passwordForget:Zn({email:qe().email("信箱格式錯誤").required("請輸入信箱")}),passwordUpdate:Zn({password:qe().required("請輸入密碼").min(6,"至少輸入 6 個字").max(20,"最多輸入 20 個字"),passwordConfirmed:qe().oneOf([Il("password"),null],"密碼不相符").required("請再次輸入密碼")})});return{userInfo:e,formSchema:r,validate:i,isLoggedIn:t}}),C_="/KAKUKAKU/assets/forbidden-41196ba7.png";const $_={class:"w-full mt-32 max-sm:px-8 px-16 pt-9 pb-14 rounded-lg bg-gray-600/40"},j_=["alt"],P_={__name:"AtmosNotFound",props:{tips:{type:String,required:!0}},setup(e){const t=Xe({move:!1});let n;function r(){new Audio("/src/assets/sound/cat_meow.mp3").play(),t.move=!0,n=setTimeout(()=>{t.move=!1},1e3)}return Nn(()=>clearTimeout(n)),(i,s)=>(K(),Y("div",$_,[R("img",{src:C_,alt:e.tips,width:"150",class:ge(["mx-auto mb-3 cursor-pointer transition-all",t]),onClick:r},null,10,j_),R("p",null,Ee(e.tips),1)]))}},sa=dt(P_,[["__scopeId","data-v-298c8429"]]);const R_={key:0,class:"absolute z-40 text-sm w-48 mt-2 origin-top-right rounded-md shadow-xl dark:bg-gray-700/80"},I_={__name:"AtmosDropDown",props:{show:{type:Boolean,required:!0}},setup(e){return(t,n)=>(K(),Me(Ws,{name:"dropdown"},{default:Be(()=>[e.show?(K(),Y("div",R_,[vr(t.$slots,"default",{},void 0,!0)])):ve("",!0)]),_:3}))}},zc=dt(I_,[["__scopeId","data-v-dff25fa8"]]),M_={class:"w-full max-w-[600px] max-sm:px-5 mx-auto"},F_={key:0},D_={class:"w-full"},L_=["onSubmit"],U_={key:0,class:"text-left mb-5"},N_={class:"w-[22.5px] relative"},V_=["onClick"],B_={key:1},K_={__name:"Personal",setup(e){const{userInfo:t,isLoggedIn:n}=Ot(),{loadingState:r}=It(),{sbRequest:i,getSearchedSongList:s,deleteSong:o,deleteSongContent:a,handlePageChange:l,getSongList:u}=Et(),c=J([]),d=J(""),f=J(""),h=J([]),p=J({state:"",message:""}),m=J(0),y=J(0),_=J(""),C=J(0),P=le(()=>n());function F({state:E,message:v}){p.value.state=E,p.value.message=v}async function V(){C.value=0;const E=await i(s,{userId:t.id,name:d.value});c.value=E==null?void 0:E.data,m.value=E==null?void 0:E.count,y.value=Math.ceil((E==null?void 0:E.count)/10),f.value=`${d.value?"符合搜尋結果":"已建立"} ${E==null?void 0:E.count} 首`}const $=le(()=>d.value?"cursor-pointer":"opacity-40");async function I(E){await i(o,{videoId:E}),await i(a,{videoId:E}),m.value-=1,h.value.push(E),c.value=c.value.filter(v=>v.video_id!==E)}function x(E){_.value=_.value===E?"":E}const k=()=>{event.target.closest(`.dropdown-${_.value}`)||(_.value="")},A=(E,v)=>{const D=v?+v:3,B=E?E*D:0,te=E?B+v-1:v-1;return{from:B,to:te}};async function j(E){let v={};C.value+=E?1:-1;const{from:D,to:B}=A(C.value,10),{data:te}=await i(l,{userId:t.id,from:D,to:B});v.data=te,c.value=v.data}async function w(){if(r(!0),n()){const E=await i(u,{userId:t.id});E.data||F({state:1,message:"您尚未新增歌曲"}),c.value=E==null?void 0:E.data,m.value=E==null?void 0:E.count,y.value=Math.ceil((E==null?void 0:E.count)/10),f.value=`已建立 ${E==null?void 0:E.count} 首`}F({state:1,message:"登入會員後才能看到個人歌曲清單"}),r(!1)}return w(),ct(async()=>{document.addEventListener("click",k)}),Nn(()=>{document.body.removeEventListener("click",k)}),(E,v)=>{var D;return K(),Y("div",M_,[U(P)?(K(),Y("div",F_,[R("div",D_,[R("form",{onSubmit:Bo(V,["prevent"])},[re(fr,{class:"w-full max-sm:text-sm mb-5",inputTips:"請輸入歌曲名稱",inputClass:"resize-none bg-[transparent] border border-solid rounded-3xl py-2 px-5 w-full outline-none",modelValue:d.value,"onUpdate:modelValue":v[0]||(v[0]=B=>d.value=B),modelModifiers:{trim:!0}},{icon:Be(()=>[re(Ve,{name:"icon_search",class:ge(["absolute right-3 top-2",U($)]),onClick:V},null,8,["class"])]),_:1},8,["modelValue"])],40,L_),c.value.length?(K(),Y(Oe,{key:0},[((D=c.value)==null?void 0:D.length)>0?(K(),Y("p",U_,Ee(f.value),1)):ve("",!0),(K(!0),Y(Oe,null,St(c.value,B=>{var te;return K(),Me(si,{class:ge(["max-sm:ml-0 ml-2 mb-5 group",`dropdown-${B.video_id}`]),key:B.id,id:B.video_id,url:B.video_img,title:B.title,href:`/KAKUKAKU/song/item?song_id=${B.video_id}&user=${(te=U(t).user_metadata)==null?void 0:te.name}`,isAdded:!0,disappear:h.value.indexOf(B.video_id)>-1},{configure:Be(()=>[R("div",N_,[re(Ve,{name:"icon_more",onClick:se=>x(B.video_id),class:ge(["hidden group-hover:block cursor-pointer max-md:block",[{"!block":_.value===B.video_id},{"group-hover":!h.value}]])},null,8,["onClick","class"]),re(zc,{class:"top-4 right-3 py-1 px-2",show:_.value===B.video_id},{default:Be(()=>[R("button",{class:"w-full py-1 rounded-md hover:bg-slate-800",onClick:se=>I(B.video_id)}," 刪除此歌曲 ",8,V_)]),_:2},1032,["show"])])]),_:2},1032,["class","id","url","title","href","disappear"])}),128)),m.value>10?(K(),Me(Qo,{key:1,nowPage:C.value+1,totalPages:y.value,onSearch:j},null,8,["nowPage","totalPages"])):ve("",!0)],64)):(K(),Y("p",B_,"搜尋不到對應歌曲，請重新搜尋"))])])):(K(),Me(sa,{key:1,tips:p.value.message},null,8,["tips"]))])}}},H_={class:"w-full max-w-[600px] max-sm:px-5 mx-auto"},z_={key:0},q_={class:"w-full"},J_=["onSubmit"],W_={class:"text-left mb-5"},G_={key:1},Y_={__name:"Recommend",setup(e){const{loadingState:t}=It(),{sbRequest:n,getSearchedRecomSongList:r,handleRecoPageChange:i,getRecoSongList:s}=Et(),o=J([]),a=J(""),l=J([]),u=J({state:"",message:""}),c=J(!1),d=J(!0),f=J("");function h({state:$,message:I}){u.value.state=$,u.value.message=I}async function p(){_.value=0;const $=await n(r,{name:a.value});o.value=$==null?void 0:$.data,P.value=$==null?void 0:$.count,F.value=Math.ceil(($==null?void 0:$.count)/10),f.value=`${a.value?"符合搜尋結果":"已推薦"} ${$==null?void 0:$.count} 首`}const m=le(()=>a.value?"cursor-pointer":"opacity-40"),y=($,I)=>{const x=I?+I:3,k=$?$*x:0,A=$?k+I-1:I-1;return{from:k,to:A}},_=J(0);async function C($){t(!0),_.value+=$?1:-1;const{from:I,to:x}=y(_.value,10),k=await n(i,{from:I,to:x});o.value=k==null?void 0:k.data,t(!1)}const P=J(0),F=J(0);async function V(){t(!0);const $=await n(s);$!=null&&$.data||(d.value=!1,h({state:1,message:"歌曲功能有誤，請聯絡網站管理員"})),o.value=$==null?void 0:$.data,P.value=$==null?void 0:$.count,F.value=Math.ceil(($==null?void 0:$.count)/10),c.value=!0,f.value=`已推薦 ${$==null?void 0:$.count} 首`,t(!1)}return V(),($,I)=>(K(),Y("div",H_,[d.value?(K(),Y("div",z_,[R("div",q_,[R("form",{onSubmit:Bo(p,["prevent"])},[re(fr,{class:"w-full max-sm:text-sm mb-5",inputTips:"請輸入歌曲名稱",inputClass:"resize-none bg-[transparent] border border-solid rounded-3xl py-2 px-5 w-full outline-none",modelValue:a.value,"onUpdate:modelValue":I[0]||(I[0]=x=>a.value=x),modelModifiers:{trim:!0}},{icon:Be(()=>[re(Ve,{name:"icon_search",class:ge(["absolute right-3 top-2",U(m)]),onClick:p},null,8,["class"])]),_:1},8,["modelValue"])],40,J_),o.value.length?(K(),Y(Oe,{key:0},[R("p",W_,Ee(f.value),1),(K(!0),Y(Oe,null,St(o.value,x=>(K(),Me(si,{class:ge(["max-sm:ml-0 ml-2 mb-5 group",`dropdown-${x.video_id}`]),key:x.id,id:x.video_id,url:x.video_img,title:x.title,href:`/KAKUKAKU/song/item?song_id=${x.video_id}&recommend=true`,isAdded:!0,disappear:l.value.indexOf(x.video_id)>-1,"sub-title":x.recommend.recommender?"推薦人:"+x.recommend.recommender:""},null,8,["class","id","url","title","href","disappear","sub-title"]))),128)),P.value>10?(K(),Me(Qo,{key:0,nowPage:_.value+1,totalPages:F.value,onSearch:C},null,8,["nowPage","totalPages"])):ve("",!0)],64)):(K(),Y("p",G_,"搜尋不到對應歌曲，請重新搜尋"))])])):(K(),Me(sa,{key:1,tips:u.value.message},null,8,["tips"]))]))}},Dl={__name:"Index",setup(e){const t=Nt(),n=le(()=>t.path.includes("personal"));return(r,i)=>U(n)?(K(),Me(K_,{key:0})):(K(),Me(Y_,{key:1}))}};const Z_=R("div",{id:"player"},null,-1),X_=[Z_],Q_={__name:"AtmosVideo",props:{id:{type:String,required:!0}},setup(e){const t=e,{getVideoId:n}=Lt(),{songPageOption:{selected:r}}=Dt();Lt(),n(t.id);const i=le(()=>!!r.fixedVideo);return(s,o)=>(K(),Y("div",{class:ge(["video-container",{"sticky top-0 z-10":U(i)}])},X_,2))}};const ey={key:0},ty=["innerHTML"],ny=["innerHTML"],ry=["innerHTML"],sy=["innerHTML"],iy=["innerHTML"],oy={class:"text-xs block translate-x-[-5px] translate-y-0"},ay=["onClick"],ly={class:"flex"},uy={key:1},cy={__name:"AtmosLyric",props:{furiganaLyrics:{type:Array,required:!0},hiraganaLyrics:{type:Array,required:!0},romajiLyrics:{type:Array,required:!0}},setup(e){const t=Nt(),{songPageOption:{lyricsFont:n,selected:r},handleFuriganaEdit:i}=Dt(),{timeStampState:s,lyricTimeStamp:o,spaceIndex:a}=mt(Dt()),l=le(()=>n[r.fontSize].class[0]),u=J(window.innerWidth),c=()=>u.value=window.innerWidth;function d(k){return Object.keys(o.value).indexOf(k.toString())>-1?"text-white after:text-white cursor-pointer":"after:text-slate-500 cursor-not-allowed text-slate-500"}function f(k){s.value&&(o.value[k]=s.value.slice(-1)[0])}function h(k){var D;const A=s.value.slice(-1)[0],j=o.value[k],w=((D=Object.keys(o.value))==null?void 0:D.indexOf(k.toString()))+1,E=o.value[Object.keys(o.value)[w]],v=+Object.keys(o.value).slice(-1)[0];return A>=j&&(A<=E||k===v)}const p=J(""),m=J(""),y=J(""),_=J(-1),C=J(""),{controlVideoPlay:P,controlSeekTo:F}=Lt(),{isPlayVideo:V}=mt(Lt());function $(k){F(o.value[k]),V.value=!0,P(V.value)}function I(){i({init:y.value,edit:m.value,index:_.value,html:C.value}),_.value=-1}const x=()=>{if(event.target.closest(".kanji-word")){const k=event.target.textContent.split(/[()]/g),A=event.target.dataset.index;p.value=k[0],y.value=k[1],m.value=k[1],_.value=A,C.value=event.target.outerHTML}};return ct(()=>{t.query.recommend!=="true"&&document.addEventListener("click",x),document.addEventListener("resize",c)}),Nn(()=>{t.query.recommend!=="true"&&document.removeEventListener("click",x),document.removeEventListener("resize",c)}),(k,A)=>(K(),Y("div",null,[u.value>768?(K(),Y("div",{key:0,class:ge(["relative overflow-hidden flex-col items-center bg-black pt-1 pb-3 min-h-[104.5px]",[U(l),U(r).labelType]])},[R("div",{class:ge(["absolute w-full left-1/2 translate-x-[-50%]",{"is-recommend-state":U(t).query.recommend==="true"}])},[(K(!0),Y(Oe,null,St(e.furiganaLyrics,(j,w)=>(K(),Y(Oe,{key:w},[h(w)||h(w-1)?(K(),Y("div",ey,[R("p",{class:ge(["init tracking-[2px] test-ly leading-[2.75rem]",{"text-slate-400":h(w-1)}]),innerHTML:j},null,10,ty),U(r).labelType==="all-hiragana"?(K(),Y("p",{key:0,class:ge(["hiraganatracking-[2px] test-ly leading-[2.75rem]",{"text-slate-400":h(w-1)}]),innerHTML:e.hiraganaLyrics[w]},null,10,ny)):ve("",!0)])):ve("",!0)],64))),128))],2)],2)):ve("",!0),R("div",{class:ge(["lyric mt-5 text-left bg-slate-950/60 px-3 py-2 rounded-xl",[U(l),U(r).labelType]])},[(K(!0),Y(Oe,null,St(e.furiganaLyrics,(j,w)=>{var E;return K(),Y(Oe,{key:w},[j!==""?(K(),Y("div",{key:0,class:ge(["group relative lyric",{"mt-10":U(a).indexOf(w)>-1,"is-recommend-state":U(t).query.recommend==="true"}])},[R("p",{class:ge(["init tracking-[2px] test-ly flex-wrap pr-6 hover:no-underline",{"sentence-play":h(w)}]),innerHTML:j},null,10,ry),R("p",{class:ge(["hiragana flex-wrap pr-6",{"sentence-play":h(w)}]),innerHTML:e.hiraganaLyrics[w]},null,10,sy),R("p",{class:"romaji flex-wrap pr-6",innerHTML:e.romajiLyrics[w]},null,8,iy),R("div",{class:ge(["cursor-pointer absolute h-5 top-3 -left-12",{hidden:!U(r).timeStamp,"clock-selected":U(o)[w]}])},[re(Ve,{name:"icon_clock",onClick:v=>f(w)},null,8,["onClick"]),R("span",oy,Ee((E=U(o)[w])==null?void 0:E.slice(3,8)),1)],2),R("div",{class:ge(["absolute top-1/2 -translate-y-[50%] right-0 bg-slate-500/50 rounded-lg after:content-['1'] after:absolute after:top-1 after:text-xs after:left-[0.55rem] hidden",[{"!block":U(r).loopLyric,"top-5":w===+_.value},d(w)]]),onClick:v=>$(w)},[re(Ve,{name:"icon_replay"})],10,ay),R("div",{class:ge(["bg-slate-800 border border-slate-50/10 rounded-lg py-3 px-2 mt-2",{hidden:w!==+_.value}])},[jn(R("input",{type:"text",class:"w-full bg-slate-900 caret-white outline-none","onUpdate:modelValue":A[0]||(A[0]=v=>m.value=v)},null,512),[[As,m.value]]),R("p",null,Ee(p.value),1),R("div",ly,[R("button",{class:"w-full text-sm border rounded-lg py-1 px-5 mt-3 hover:bg-slate-600 mr-3",onClick:A[1]||(A[1]=v=>_.value=-1)}," 取消 "),R("button",{class:"w-full text-sm border rounded-lg py-1 px-5 mt-3 hover:bg-sky-400/50",onClick:I}," 修改 ")])],2)],2)):ve("",!0),j==""?(K(),Y("br",uy)):ve("",!0),j!==""?(K(),Y("div",{key:2,class:ge(["my-3",{"lyric-line":w!==e.furiganaLyrics.length-1}])},null,2)):ve("",!0)],64)}),128))],2)]))}};const dy={key:0,class:"w-full flex flex-col mx-auto"},fy={__name:"MolsSongItem",setup(e){const t=Nt(),n=Zr(),r=J(t.query.song_id),{isLoggedIn:i,userInfo:s}=Ot(),{songPageOption:{selected:o},songDisplay:a,handleLyricTransform:l,removeLocal:u,handleSongState:c,handleSongDisplay:d}=Dt(),{initLyrics:f,furiganaLyrics:h,hiraganaLyrics:p,romajiLyrics:m,lyricTimeStamp:y,spaceIndex:_,songInfo:C}=mt(Dt()),{sbRequest:P,handleSongInfoAdd:F,handleSongContentAdd:V,handleSongRecommendUpdate:$,handleSongContentUpdate:I,handleVideoUpdate:x,getSongContent:k,getSongInfo:A}=Et(),{videoId:j}=mt(Lt()),{urlSongIdChangeRegex:w}=ii(),E=J(null),v=J(null),D=J(!1),B=Xe({text:"儲存建立",clickable:!0,visible:!0});function te({text:ue,click:$e,visible:Ae}){B.text=ue,B.clickable=$e,B.visible=Ae}async function se(){var ue,$e;if(!(!B.clickable||!i()||!h.value.length))if(D.value){await P($,{isRecommend:o.isRecommend,videoId:t.query.song_id,userId:s.id}),await P(x,{id:E.value,videoId:j.value,img:`https://i.ytimg.com/vi/${j.value}/mqdefault.jpg`,userId:s.id}),await P(I,{hiragana:p.value,romaji:m.value,furigana:h.value,timestamp:y.value,spaceIndex:_.value,videoId:j.value,id:v.value,userId:s.id});const Ae=w(t.fullPath,j.value);n.push(Ae),te({text:"已修改",click:!1,visible:!0})}else o.isRecommend.recommender=(ue=s.user_metadata)==null?void 0:ue.name,await P(F,{userId:s.id,videoId:j.value,title:C.value.title,img:`https://i.ytimg.com/vi/${j.value}/mqdefault.jpg`,isRecommend:o.isRecommend}),await P(V,{userId:s.id,videoId:j.value,hiragana:p.value,romaji:m.value,furigana:h.value,timestamp:y.value,spaceIndex:_.value}),te({text:"已新增",click:!1,visible:!0}),D.value=!0,u(),n.push(`/KAKUKAKU/song/item?song_id=${j.value}&user=${($e=s.user_metadata)==null?void 0:$e.name}`)}return ct(async()=>{var ue,$e,Ae,Fe;if(C.value=JSON.parse(localStorage.getItem("songInfo")),f.value=JSON.parse(localStorage.getItem("initLyrics")),!t.query.song_id){d({show:!1,message:"此歌曲尚未建立"});return}if((ue=t.query)!=null&&ue.user&&(($e=t.query)==null?void 0:$e.user)===((Ae=s.user_metadata)==null?void 0:Ae.name)){const{data:Pe}=await P(A,{videoId:t.query.song_id,userId:s.id});if(Pe.length===0){d({show:!1,message:"查無此歌曲"});return}const{data:Se}=await P(k,{videoId:t.query.song_id,userId:s.id});if(Se.length===0){d({show:!1,message:"查無此歌曲"});return}c({furigana:Se[0].furigana,hiragana:Se[0].hiragana,romaji:Se[0].romaji,timeStamp:Se[0].timestamp,space:Se[0].spaceIndex,recommend:Pe[0].recommend,info:Pe[0]}),E.value=Pe[0].id,v.value=Se[0].id,te({text:"確認修改",click:!0,visible:!0}),D.value=!0;return}if(t.query.recommend==="true"){const{data:Pe}=await P(A,{videoId:t.query.song_id});if(!Pe.length){d({show:!1,message:"此歌曲不在推薦清單中"});return}const{data:Se}=await P(k,{videoId:t.query.song_id});if(Se.length===0){d({show:!1,message:"查無此歌曲"});return}c({furigana:Se[0].furigana,hiragana:Se[0].hiragana,romaji:Se[0].romaji,timeStamp:Se[0].timestamp,space:Se[0].spaceIndex}),te({text:"",click:!1,visible:!1});return}if(t.query.song_id===((Fe=C.value)==null?void 0:Fe.id)&&await l(f.value),!h.value.length){d({show:!1,message:"無法讀取歌詞，請稍後再嘗試"});return}i()||te({text:"登入後方可儲存歌曲",click:!1,visible:!0})}),(ue,$e)=>U(a).show?(K(),Y("div",dy,[r.value?(K(),Me(Q_,{key:0,id:r.value},null,8,["id"])):ve("",!0),re(cy,{furiganaLyrics:U(h),hiraganaLyrics:U(p),romajiLyrics:U(m),class:"relative"},null,8,["furiganaLyrics","hiraganaLyrics","romajiLyrics"]),B.visible?(K(),Y("button",{key:1,class:ge(["mt-3 border border-solid rounded-xl mr-2 hover:bg-slate-600",{unclickable:!B.clickable}]),onClick:se},Ee(B.text),3)):ve("",!0)])):(K(),Me(sa,{key:1,tips:U(a).message},null,8,["tips"]))}},hy={class:"flex max-md:flex-row flex-col items-center"},py={__name:"AtmosConfigure",emits:["showDrop"],setup(e,{emit:t}){function n(){t("showDrop")}return(r,i)=>(K(),Y("div",hy,[re(Ve,{name:"icon_tooth",class:"max-md:mr-2 max-md:mb-0 mb-2 cursor-pointer",onClick:n}),vr(r.$slots,"otherConfigure")]))}},my={class:"fixed top-0 overflow-hidden w-full h-screen bg-slate-900/70 z-[100] max-md:px-4"},gy={class:"max-w-xl w-full mx-auto translate-y-full max-md:translate-y-1/2 rounded-lg bg-white py-8 px-4 shadow-2xl"},vy={class:"text-lg font-bold text-gray-950 text-center"},_y=["innerHTML"],yy={class:"mt-4 flex justify-center gap-2"},qc={__name:"AtmosPopup",props:{title:{type:String,required:!0},content:{type:String,required:!1},button:{type:Array,default:["同意","不同意"]}},emits:["buttonClick"],setup(e,{emit:t}){function n(r){t("buttonClick",r)}return(r,i)=>(K(),Me(Ju,{to:"body"},[R("div",my,[R("div",gy,[R("h2",vy,Ee(e.title),1),e.content?(K(),Y("p",{key:0,class:"mt-2 text-sm text-gray-500 text-justify",innerHTML:e.content},null,8,_y)):ve("",!0),vr(r.$slots,"inputContent"),R("div",yy,[R("button",{type:"button",class:"rounded bg-green-50 px-4 py-2 text-sm font-medium text-green-600",onClick:i[0]||(i[0]=s=>n(!0))},Ee(e.button[0]),1),R("button",{type:"button",class:"rounded bg-gray-50 px-4 py-2 text-sm font-medium text-gray-600",onClick:i[1]||(i[1]=s=>n(!1))},Ee(e.button[1]),1)])])])]))}};const it=e=>(qr("data-v-12e6691f"),e=e(),Jr(),e),by={class:"max-md:!hidden hidden w-20 absolute top-[2px] left-7 text-sm bg-slate-600 rounded-xl group-hover:inline"},wy=it(()=>R("span",{class:"max-md:!hidden hidden w-20 absolute top-[2px] left-7 text-sm bg-slate-600 rounded-xl group-hover:inline"},"更換影片",-1)),xy={class:"max-md:!hidden hidden w-20 absolute top-[2px] left-7 text-sm bg-slate-600 rounded-xl group-hover:inline"},Sy={class:"max-md:!hidden hidden w-20 absolute top-[2px] left-7 text-sm bg-slate-600 rounded-xl group-hover:inline"},ky={class:"max-md:!hidden hidden w-20 absolute top-[2px] left-7 text-sm bg-slate-600 rounded-xl group-hover:inline"},Oy={key:0},Ey=it(()=>R("p",{class:"text-left"},"文字大小",-1)),Ay={class:"flex justify-between items-end mt-3"},Ty=["for"],Cy=["id","value"],$y=it(()=>R("hr",{class:"border-gray-200 dark:border-gray-500 my-3"},null,-1)),jy=it(()=>R("p",{class:"text-left"},"歌詞形式",-1)),Py=it(()=>R("option",{value:"all-hiragana"},"全平假名",-1)),Ry=it(()=>R("option",{value:"only-kanji"},"漢字(無標註發音)",-1)),Iy=it(()=>R("option",{value:"kanji-rubi",selected:""},"漢字(有標註發音)",-1)),My=it(()=>R("option",{value:"plus-romaji"},"羅馬字",-1)),Fy=[Py,Ry,Iy,My],Dy=it(()=>R("hr",{class:"max-md:hidden border-gray-200 dark:border-gray-500 my-3"},null,-1)),Ly={key:0,class:"max-md:hidden"},Uy={for:"timeStamp",class:"w-full relative inline-flex justify-between items-center cursor-pointer"},Ny=it(()=>R("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-gray-300"},null,-1)),Vy=it(()=>R("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"時間戳記",-1)),By=it(()=>R("hr",{class:"max-md:hidden border-gray-200 dark:border-gray-500 my-3"},null,-1)),Ky={class:"max-md:hidden"},Hy={for:"loopLyric",class:"w-full relative inline-flex justify-between items-center cursor-pointer"},zy=it(()=>R("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-gray-300"},null,-1)),qy=it(()=>R("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"單句重播",-1)),Jy={__name:"MolsConfigure",setup(e){const t=Nt(),{songPageOption:{lyricsFont:n,selected:r}}=Dt(),{songIdRegex:i}=ii(),s=le(()=>t.query.recommend==="true"),{controlVideoPlay:o,changeVideoId:a}=Lt(),{isPlayVideo:l}=mt(Lt()),u=J("kanji-rubi");function c(){l.value=!l.value,o(l.value)}const d=J(!1),f=`
  <ul class="list-disc pl-3">
    <li>更換影片連結後，還需要下滑到頁面底部點擊「儲存修改/確認修改」按鈕才成功。</li>
    <li>由於新影片時間長度不一定與原影片吻合，故已設定的時間戳記有可能會不符合影片時間進度</li>
  </ul>`,h=["確定","取消"],p=J(""),m=J("");function y(){d.value=!0}function _(w){if(w){const E=i(p.value);if(!E){m.value="無法解析影片連結，請確認輸入內容是否正確";return}a(E)}d.value=!1,m.value=""}const C=J(!1);function P(){C.value=!C.value,r.fixedVideo=C.value}function F(){r.isRecommend.state=!r.isRecommend.state}const V=J(!1);function $(){V.value=!V.value}const I=J("middle"),x=J(!1),k=J(!1);function A(){r.dramaMode=!r.dramaMode}Ke(I,()=>{r.fontSize=I.value}),Ke(u,()=>{r.labelType=u.value}),Ke(x,()=>{r.timeStamp=x.value}),Ke(k,()=>{r.loopLyric=k.value});const j=()=>{event.target.closest(".dropdown")||(V.value=!1)};return ct(()=>{document.addEventListener("click",j)}),Nn(()=>{document.body.removeEventListener("click",j)}),(w,E)=>(K(),Y("div",null,[re(py,{class:"dropdown",onShowDrop:$},{otherConfigure:Be(()=>[R("div",{class:"group relative max-md:mx-2 my-2 cursor-pointer",onClick:c},[R("span",by,Ee(U(l)?"取消播放":"播放音樂"),1),re(Ve,{name:U(l)?"icon_pause_video":"icon_play_video",class:ge({"is-click":U(l)})},null,8,["name","class"])]),U(s)?ve("",!0):(K(),Y("div",{key:0,class:"group relative max-md:hidden max-md:mx-2 my-2 pr-1 cursor-pointer",onClick:y},[wy,re(Ve,{name:"icon_song_change",class:"translate-x-[2px] w-[22px]"})])),R("div",{class:"group relative max-md:mx-2 my-2 cursor-pointer",onClick:P},[R("span",xy,Ee(C.value?"取消固定":"固定影片"),1),re(Ve,{name:C.value?"icon_lock_close":"icon_lock_open",class:ge({"translate-x-[2px] w-[22px]":!C.value,"is-click w-[22px]":C.value})},null,8,["name","class"])]),R("div",{class:"group relative max-md:hidden flex items-center max-md:mx-2 my-2 h-6 cursor-pointer",onClick:A},[R("span",Sy,Ee(U(r).dramaMode?"正常模式":"劇院模式"),1),R("div",{class:ge(["border-2 h-4 round-sm w-[20px]",{"is-dramaMode":U(r).dramaMode}])},null,2)]),U(s)?ve("",!0):(K(),Y("div",{key:1,class:"group relative max-md:hidden max-md:mx-2 my-2 cursor-pointer",onClick:F},[R("span",ky,Ee(U(r).isRecommend.state?"已推薦歌曲":"推薦歌曲"),1),re(Ve,{name:"icon_recommend",class:ge(["translate-x-[2px] w-[22px]",{"is-click":U(r).isRecommend.state}])},null,8,["class"])]))]),_:1}),re(zc,{class:"dropdown max-md:top-10 -top-2 max-md:-left-[5.6rem] left-8 py-2 px-3",show:V.value},{default:Be(()=>[U(t).path.indexOf("song/item")>0?(K(),Y("div",Oy,[R("div",null,[Ey,R("div",Ay,[(K(!0),Y(Oe,null,St(U(n),(v,D)=>(K(),Y("label",{for:v.id,key:D,class:ge(["border cursor-pointer hover:bg-slate-500 w-10 h-10 rounded-lg",[v.class,{"bg-slate-900":v.id===I.value,"text-blue-400":v.id===I.value}]])},[jn(R("input",{type:"radio",hidden:"",id:v.id,value:v.id,"onUpdate:modelValue":E[0]||(E[0]=B=>I.value=B)},null,8,Cy),[[ec,I.value]]),R("p",null,Ee(v.name),1)],10,Ty))),128))])]),$y,R("div",null,[jy,jn(R("select",{"onUpdate:modelValue":E[1]||(E[1]=v=>u.value=v),class:"w-full mt-2 p-1 bg-slate-500 rounded-md outline-none"},Fy,512),[[tc,u.value]])]),Dy,U(s)?ve("",!0):(K(),Y("div",Ly,[R("label",Uy,[jn(R("input",{type:"checkbox",id:"timeStamp","onUpdate:modelValue":E[2]||(E[2]=v=>x.value=v),class:"sr-only peer"},null,512),[[Zi,x.value]]),Ny,Vy]),By])),R("div",Ky,[R("label",Hy,[jn(R("input",{type:"checkbox",id:"loopLyric","onUpdate:modelValue":E[3]||(E[3]=v=>k.value=v),class:"sr-only peer"},null,512),[[Zi,k.value]]),zy,qy])])])):ve("",!0)]),_:1},8,["show"]),d.value?(K(),Me(qc,{key:0,title:"請貼上新的影片連結",content:f,button:h,onButtonClick:_},{inputContent:Be(()=>[re(fr,{id:"songName",class:"w-full max-sm:text-sm mx-auto my-3",inputTips:"請輸入影片連結",inputClass:"w-full block py-3 pl-3 text-black rounded-lg bg-gray-300 ","error-message":m.value,modelValue:p.value,"onUpdate:modelValue":E[4]||(E[4]=v=>p.value=v),modelModifiers:{trim:!0}},null,8,["error-message","modelValue"])]),_:1})):ve("",!0)]))}},Wy=dt(Jy,[["__scopeId","data-v-12e6691f"]]),Gy={__name:"Index",setup(e){const{supabase:t}=Et(),n=Nt(),{songPageOption:{selected:r},songDisplay:i}=Dt(),s=le(()=>i.show?r.dramaMode?"w-[72.5%]":"w-1/2":"max-w-[600px] w-full");async function o(){var u;const a=localStorage.getItem("songInfo"),l=await t.from("lyrics_list").select().eq("video_id",n.query.song_id);l!=null&&l.data.length?document.title=((u=l==null?void 0:l.data[0])==null?void 0:u.title)+"｜KAKUKAKU":a&&(document.title=JSON.parse(a).title)}return o(),(a,l)=>(K(),Y("div",{class:ge(["max-md:!w-full flex justify-center max-md:px-5",U(s)])},[re(fy),U(i).show?(K(),Me(Wy,{key:0,class:"max-md:fixed sticky max-md:top-1 top-12 max-md:right-7 z-50 h-[24px] translate-x-4 transition-all"})):ve("",!0)],2))}};/**
  * vee-validate v4.9.5
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Ge(e){return typeof e=="function"}function Jc(e){return e==null}const mn=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Wc(e){return Number(e)>=0}function Yy(e){const t=parseFloat(e);return isNaN(t)?e:t}function Gc(e,t){return Object.keys(t).forEach(n=>{if(mn(t[n])){e[n]||(e[n]={}),Gc(e[n],t[n]);return}e[n]=t[n]}),e}const Zy={};function Xy(e){return Zy[e]}const ui=Symbol("vee-validate-form"),Qy=Symbol("vee-validate-field-instance"),Ps=Symbol("Default empty value"),eb=typeof window<"u";function ho(e){return Ge(e)&&!!e.__locatorRef}function Ln(e){return!!e&&Ge(e.parse)&&e.__type==="VVTypedSchema"}function Rs(e){return!!e&&Ge(e.validate)}function Qr(e){return e==="checkbox"||e==="radio"}function tb(e){return mn(e)||Array.isArray(e)}function nb(e){return Array.isArray(e)?e.length===0:mn(e)&&Object.keys(e).length===0}function ci(e){return/^\[.+\]$/i.test(e)}function rb(e){return Yc(e)&&e.multiple}function Yc(e){return e.tagName==="SELECT"}function sb(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function ib(e,t){return!sb(e,t)&&t.type!=="file"&&!Qr(t.type)}function Zc(e){return ia(e)&&e.target&&"submit"in e.target}function ia(e){return e?!!(typeof Event<"u"&&Ge(Event)&&e instanceof Event||e&&e.srcElement):!1}function Ll(e,t){return t in e&&e[t]!==Ps}function Ze(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ze(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Ze(r[1],t.get(r[0])))return!1;return!0}if(Ul(e)&&Ul(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){var s=i[r];if(!Ze(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Ul(e){return eb?e instanceof File:!1}function Nl(e,t,n){typeof n.value=="object"&&(n.value=Le(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Le(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Le(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Le(a),Le(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Le(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Nl(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Nl(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function oa(e){return ci(e)?e.replace(/\[|\]/gi,""):e}function nt(e,t,n){return e?ci(t)?e[oa(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((i,s)=>tb(i)&&s in i?i[s]:n,e):n}function Sn(e,t,n){if(ci(t)){e[oa(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<r.length;s++){if(s===r.length-1){i[r[s]]=n;return}(!(r[s]in i)||Jc(i[r[s]]))&&(i[r[s]]=Wc(r[s+1])?[]:{}),i=i[r[s]]}}function Mi(e,t){if(Array.isArray(e)&&Wc(t)){e.splice(Number(t),1);return}mn(e)&&delete e[t]}function Vl(e,t){if(ci(t)){delete e[oa(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Mi(r,n[s]);break}if(!(n[s]in r)||Jc(r[n[s]]))break;r=r[n[s]]}const i=n.map((s,o)=>nt(e,n.slice(0,o).join(".")));for(let s=i.length-1;s>=0;s--)if(nb(i[s])){if(s===0){Mi(e,n[0]);continue}Mi(i[s-1],n[s-1])}}function jt(e){return Object.keys(e)}function Xc(e,t=void 0){const n=Yr();return(n==null?void 0:n.provides[e])||rt(e,t)}function Bl(e,t,n){if(Array.isArray(e)){const r=[...e],i=r.findIndex(s=>Ze(s,t));return i>=0?r.splice(i,1):r.push(t),r}return Ze(e,t)?n:t}function Kl(e,t=0){let n=null,r=[];return function(...i){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...i);r.forEach(o=>o(s)),r=[]},t),new Promise(s=>r.push(s))}}function ob(e,t){return mn(t)&&t.number?Yy(e):e}function po(e,t){let n;return async function(...i){const s=e(...i);n=s;const o=await s;return s!==n||(n=void 0,t(o,i)),o}}function Jt(e){return Ge(e)?e():U(e)}function ab(e){return le(()=>Jt(e))}function mo(e){return Array.isArray(e)?e:e?[e]:[]}function xr(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}const aa=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,i;return(i=(r=t.slots).default)===null||i===void 0?void 0:i.call(r,n())}}:t.slots.default;function Fi(e){if(Qc(e))return e._value}function Qc(e){return"_value"in e}function Is(e){if(!ia(e))return e;const t=e.target;if(Qr(t.type)&&Qc(t))return Fi(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(rb(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Fi);if(Yc(t)){const n=Array.from(t.options).find(r=>r.selected);return n?Fi(n):t.value}return t.value}function ed(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?mn(e)&&e._$$isNormalized?e:mn(e)?Object.keys(e).reduce((n,r)=>{const i=lb(e[r]);return e[r]!==!1&&(n[r]=Hl(i)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const i=ub(r);return i.name&&(n[i.name]=Hl(i.params)),n},t):t}function lb(e){return e===!0?[]:Array.isArray(e)||mn(e)?e:[e]}function Hl(e){const t=n=>typeof n=="string"&&n[0]==="@"?cb(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const ub=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function cb(e){const t=n=>nt(n,e)||n[e];return t.__locatorRef=e,t}function db(e){return Array.isArray(e)?e.filter(ho):jt(e).filter(t=>ho(e[t])).map(t=>e[t])}const fb={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let hb=Object.assign({},fb);const un=()=>hb;async function td(e,t,n={}){const r=n==null?void 0:n.bails,i={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},o=(await pb(i,e)).errors;return{errors:o,valid:!o.length}}async function pb(e,t){if(Ln(e.rules)||Rs(e.rules))return gb(t,e.rules);if(Ge(e.rules)||Array.isArray(e.rules)){const o={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},a=Array.isArray(e.rules)?e.rules:[e.rules],l=a.length,u=[];for(let c=0;c<l;c++){const d=a[c],f=await d(t,o);if(typeof f!="string"&&f)continue;const p=typeof f=="string"?f:rd(o);if(u.push(p),e.bails)return{errors:u}}return{errors:u}}const n=Object.assign(Object.assign({},e),{rules:ed(e.rules)}),r=[],i=Object.keys(n.rules),s=i.length;for(let o=0;o<s;o++){const a=i[o],l=await vb(n,t,{name:a,params:n.rules[a]});if(l.error&&(r.push(l.error),e.bails))return{errors:r}}return{errors:r}}function mb(e){return!!e&&e.name==="ValidationError"}function nd(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(i){if(!mb(i))throw i;if(!(!((r=i.inner)===null||r===void 0)&&r.length)&&i.errors.length)return{errors:[{path:i.path,errors:i.errors}]};const s=i.inner.reduce((o,a)=>{const l=a.path||"";return o[l]||(o[l]={errors:[],path:l}),o[l].errors.push(...a.errors),o},{});return{errors:Object.values(s)}}}}}async function gb(e,t){const r=await(Ln(t)?t:nd(t)).parse(e),i=[];for(const s of r.errors)s.errors.length&&i.push(...s.errors);return{errors:i}}async function vb(e,t,n){const r=Xy(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=_b(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},o=await r(t,i,s);return typeof o=="string"?{error:o}:{error:o?void 0:rd(s)}}function rd(e){const t=un().generateMessage;return t?t(e):"Field is invalid"}function _b(e,t){const n=r=>ho(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,i)=>(r[i]=n(e[i]),r),{})}async function yb(e,t){const r=await(Ln(e)?e:nd(e)).parse(t),i={},s={};for(const o of r.errors){const a=o.errors,l=(o.path||"").replace(/\["(\d+)"\]/g,(u,c)=>`[${c}]`);i[l]={valid:!a.length,errors:a},a.length&&(s[l]=a[0])}return{valid:!r.errors.length,results:i,errors:s,values:r.value}}async function bb(e,t,n){const i=jt(e).map(async u=>{var c,d,f;const h=(c=n==null?void 0:n.names)===null||c===void 0?void 0:c[u],p=await td(nt(t,u),e[u],{name:(h==null?void 0:h.name)||u,label:h==null?void 0:h.label,values:t,bails:(f=(d=n==null?void 0:n.bailsMap)===null||d===void 0?void 0:d[u])!==null&&f!==void 0?f:!0});return Object.assign(Object.assign({},p),{path:u})});let s=!0;const o=await Promise.all(i),a={},l={};for(const u of o)a[u.path]={valid:u.valid,errors:u.errors},u.valid||(s=!1,l[u.path]=u.errors[0]);return{valid:s,results:a,errors:l}}let zl=0;function wb(e,t){const{value:n,initialValue:r,setInitialValue:i}=xb(e,t.modelValue,t.form);if(!t.form){let f=function(p){var m;"value"in p&&(n.value=p.value),"errors"in p&&u(p.errors),"touched"in p&&(d.touched=(m=p.touched)!==null&&m!==void 0?m:d.touched),"initialValue"in p&&i(p.initialValue)};var a=f;const{errors:l,setErrors:u}=Ob(),c=zl>=Number.MAX_SAFE_INTEGER?0:++zl,d=kb(n,r,l);return{id:c,path:e,value:n,initialValue:r,meta:d,flags:{pendingUnmount:{[c]:!1}},errors:l,setState:f}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),o=le(()=>s.errors);function a(l){var u,c,d;"value"in l&&(n.value=l.value),"errors"in l&&((u=t.form)===null||u===void 0||u.setFieldError(U(e),l.errors)),"touched"in l&&((c=t.form)===null||c===void 0||c.setFieldTouched(U(e),(d=l.touched)!==null&&d!==void 0?d:!1)),"initialValue"in l&&i(l.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:o,meta:s,initialValue:r,flags:s.__flags,setState:a}}function xb(e,t,n){const r=J(U(t));function i(){return n?nt(n.initialValues.value,U(e),U(r)):U(r)}function s(u){if(!n){r.value=u;return}n.stageInitialValue(U(e),u,!0)}const o=le(i);if(!n)return{value:J(i()),initialValue:o,setInitialValue:s};const a=Sb(t,n,o,e);return n.stageInitialValue(U(e),a,!0),{value:le({get(){return nt(n.values,U(e))},set(u){n.setFieldValue(U(e),u)}}),initialValue:o,setInitialValue:s}}function Sb(e,t,n,r){return Ce(e)?U(e):e!==void 0?e:nt(t.values,U(r),U(n))}function kb(e,t,n){const r=Xe({touched:!1,pending:!1,valid:!0,validated:!!U(n).length,initialValue:le(()=>U(t)),dirty:le(()=>!Ze(U(e),U(t)))});return Ke(n,i=>{r.valid=!i.length},{immediate:!0,flush:"sync"}),r}function Ob(){const e=J([]);return{errors:e,setErrors:t=>{e.value=mo(t)}}}function Eb(e,t,n){return Qr(n==null?void 0:n.type)?Tb(e,t,n):sd(e,t,n)}function sd(e,t,n){const{initialValue:r,validateOnMount:i,bails:s,type:o,checkedValue:a,label:l,validateOnValueUpdate:u,uncheckedValue:c,controlled:d,keepValueOnUnmount:f,modelPropName:h,syncVModel:p,form:m}=Ab(n),y=d?Xc(ui):void 0,_=m||y,C=ab(e),P=le(()=>{if(U(_==null?void 0:_.schema))return;const z=U(t);return Rs(z)||Ln(z)||Ge(z)||Array.isArray(z)?z:ed(z)}),{id:F,value:V,initialValue:$,meta:I,setState:x,errors:k,flags:A}=wb(C,{modelValue:r,form:_,bails:s,label:l,type:o,validate:P.value?B:void 0}),j=le(()=>k.value[0]);p&&Cb({value:V,prop:h,handleChange:te});const w=()=>{I.touched=!0};async function E(T){var z,W;return _!=null&&_.validateSchema?(z=(await _.validateSchema(T)).results[U(C)])!==null&&z!==void 0?z:{valid:!0,errors:[]}:P.value?td(V.value,P.value,{name:U(C),label:U(l),values:(W=_==null?void 0:_.values)!==null&&W!==void 0?W:{},bails:s}):{valid:!0,errors:[]}}const v=po(async()=>(I.pending=!0,I.validated=!0,E("validated-only")),T=>{if(!A.pendingUnmount[Pe.id])return x({errors:T.errors}),I.pending=!1,I.valid=T.valid,T}),D=po(async()=>E("silent"),T=>(I.valid=T.valid,T));function B(T){return(T==null?void 0:T.mode)==="silent"?D():v()}function te(T,z=!0){const W=Is(T);$e(W,z)}ct(()=>{if(i)return v();(!_||!_.validateSchema)&&D()});function se(T){I.touched=T}function ue(T){var z;const W=T&&"value"in T?T.value:$.value;x({value:Le(W),initialValue:Le(W),touched:(z=T==null?void 0:T.touched)!==null&&z!==void 0?z:!1,errors:(T==null?void 0:T.errors)||[]}),I.pending=!1,I.validated=!1,D()}function $e(T,z=!0){if(V.value=T,!z){D();return}(z?v:D)()}function Ae(T){x({errors:Array.isArray(T)?T:[T]})}const Fe=le({get(){return V.value},set(T){$e(T,u)}}),Pe={id:F,name:C,label:l,value:Fe,meta:I,errors:k,errorMessage:j,type:o,checkedValue:a,uncheckedValue:c,bails:s,keepValueOnUnmount:f,resetField:ue,handleReset:()=>ue(),validate:B,handleChange:te,handleBlur:w,setState:x,setTouched:se,setErrors:Ae,setValue:$e};if(nr(Qy,Pe),Ce(t)&&typeof U(t)!="function"&&Ke(t,(T,z)=>{Ze(T,z)||(I.validated?v():D())},{deep:!0}),!_)return Pe;const Se=le(()=>{const T=P.value;return!T||Ge(T)||Rs(T)||Ln(T)||Array.isArray(T)?{}:Object.keys(T).reduce((z,W)=>{const Q=db(T[W]).map(he=>he.__locatorRef).reduce((he,be)=>{const de=nt(_.values,be)||_.values[be];return de!==void 0&&(he[be]=de),he},{});return Object.assign(z,Q),z},{})});return Ke(Se,(T,z)=>{if(!Object.keys(T).length)return;!Ze(T,z)&&(I.validated?v():D())}),Fo(()=>{var T;const z=(T=U(Pe.keepValueOnUnmount))!==null&&T!==void 0?T:U(_.keepValuesOnUnmount),W=Jt(C);if(z||!_||A.pendingUnmount[Pe.id]){_==null||_.removePathState(W,F);return}A.pendingUnmount[Pe.id]=!0;const Q=_.getPathState(W);if(Array.isArray(Q==null?void 0:Q.id)&&(Q!=null&&Q.multiple)?Q!=null&&Q.id.includes(Pe.id):(Q==null?void 0:Q.id)===Pe.id){if(Q!=null&&Q.multiple&&Array.isArray(Q.value)){const be=Q.value.findIndex(de=>Ze(de,U(Pe.checkedValue)));if(be>-1){const de=[...Q.value];de.splice(be,1),_.setFieldValue(W,de)}Array.isArray(Q.id)&&Q.id.splice(Q.id.indexOf(Pe.id),1)}else _.unsetPathValue(Jt(C));_.removePathState(W,F)}}),Pe}function Ab(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),i=((t=e==null?void 0:e.syncVModel)!==null&&t!==void 0?t:!0)&&!("initialValue"in(e||{}))?go(Yr(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:i});const s="valueProp"in e?e.valueProp:e.checkedValue,o="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:i,controlled:o??!0,checkedValue:s})}function Tb(e,t,n){const r=n!=null&&n.standalone?void 0:Xc(ui),i=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function o(a){const l=a.handleChange,u=le(()=>{const d=U(a.value),f=U(i);return Array.isArray(d)?d.findIndex(h=>Ze(h,f))>=0:Ze(f,d)});function c(d,f=!0){var h;if(u.value===((h=d==null?void 0:d.target)===null||h===void 0?void 0:h.checked)){f&&a.validate();return}const p=Jt(e),m=r==null?void 0:r.getPathState(p),y=Is(d);let _;r&&(m!=null&&m.multiple)&&m.type==="checkbox"?_=Bl(nt(r.values,p)||[],y,void 0):_=Bl(U(a.value),U(i),U(s)),l(_,f)}return Object.assign(Object.assign({},a),{checked:u,checkedValue:i,uncheckedValue:s,handleChange:c})}return o(sd(e,t,n))}function Cb({prop:e,value:t,handleChange:n}){const r=Yr();if(!r)return;const i=e||"modelValue",s=`update:${i}`;i in r.props&&(Ke(t,o=>{Ze(o,go(r,i))||r.emit(s,o)}),Ke(()=>go(r,i),o=>{if(o===Ps&&t.value===void 0)return;const a=o===Ps?void 0:o;Ze(a,ob(t.value,r.props.modelModifiers))||n(a)}))}function go(e,t){if(e)return e.props[t]}const $b=Wr({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>un().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Ps},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Pt(e,"rules"),r=Pt(e,"name"),i=Pt(e,"label"),s=Pt(e,"uncheckedValue"),o=Pt(e,"keepValue"),{errors:a,value:l,errorMessage:u,validate:c,handleChange:d,handleBlur:f,setTouched:h,resetField:p,handleReset:m,meta:y,checked:_,setErrors:C}=Eb(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Pb(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:i,validateOnValueUpdate:!1,keepValueOnUnmount:o}),P=function(k,A=!0){d(k,A),t.emit("update:modelValue",l.value)},F=le(()=>{const{validateOnInput:x,validateOnChange:k,validateOnBlur:A,validateOnModelUpdate:j}=jb(e);function w(B){f(B),Ge(t.attrs.onBlur)&&t.attrs.onBlur(B),A&&c()}function E(B){P(B,x),Ge(t.attrs.onInput)&&t.attrs.onInput(B)}function v(B){P(B,k),Ge(t.attrs.onChange)&&t.attrs.onChange(B)}const D={name:e.name,onBlur:w,onInput:E,onChange:v};return D["onUpdate:modelValue"]=B=>P(B,j),D}),V=le(()=>{const x=Object.assign({},F.value);Qr(t.attrs.type)&&_&&(x.checked=_.value);const k=ql(e,t);return ib(k,t.attrs)&&(x.value=l.value),x}),$=le(()=>Object.assign(Object.assign({},F.value),{modelValue:l.value}));function I(){return{field:V.value,componentField:$.value,value:l.value,meta:y,errors:a.value,errorMessage:u.value,validate:c,resetField:p,handleChange:P,handleInput:x=>P(x,!1),handleReset:m,handleBlur:f,setTouched:h,setErrors:C}}return t.expose({setErrors:C,setTouched:h,reset:p,validate:c,handleChange:d}),()=>{const x=Gr(ql(e,t)),k=aa(x,t,I);return x?Dn(x,Object.assign(Object.assign({},t.attrs),V.value),k):k}}});function ql(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function jb(e){var t,n,r,i;const{validateOnInput:s,validateOnChange:o,validateOnBlur:a,validateOnModelUpdate:l}=un();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:o,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:a,validateOnModelUpdate:(i=e.validateOnModelUpdate)!==null&&i!==void 0?i:l}}function Pb(e,t){return Qr(t.attrs.type)?Ll(e,"modelValue")?e.modelValue:void 0:Ll(e,"modelValue")?e.modelValue:t.attrs.value}const Rb=$b;let Ib=0;const Sr=["bails","fieldsCount","id","multiple","type","validate"];function id(e){const t=U(e==null?void 0:e.initialValues)||{},n=U(e==null?void 0:e.validationSchema);return n&&Ln(n)&&Ge(n.cast)?Le(n.cast(t)||{}):Le(t)}function Mb(e){var t;const n=Ib++;let r=0;const i=J(!1),s=J(!1),o=J(0),a=[],l=Xe(id(e)),u=J([]),c=J({});function d(O,S){const M=v(O);if(!M){typeof O=="string"&&(c.value[O]=mo(S));return}M.errors=mo(S),M.valid=!M.errors.length}function f(O){jt(O).forEach(S=>{d(S,O[S])})}e!=null&&e.initialErrors&&f(e.initialErrors);const h=le(()=>{const O=u.value.reduce((S,M)=>(M.errors.length&&(S[M.path]=M.errors),S),{});return Object.assign(Object.assign({},c.value),O)}),p=le(()=>jt(h.value).reduce((O,S)=>{const M=h.value[S];return M!=null&&M.length&&(O[S]=M[0]),O},{})),m=le(()=>u.value.reduce((O,S)=>(O[S.path]={name:S.path||"",label:S.label||""},O),{})),y=le(()=>u.value.reduce((O,S)=>{var M;return O[S.path]=(M=S.bails)!==null&&M!==void 0?M:!0,O},{})),_=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:P,originalInitialValues:F,setInitialValues:V}=Db(u,l,e),$=Fb(u,l,F,p),I=le(()=>u.value.reduce((O,S)=>{const M=nt(l,S.path);return Sn(O,S.path,M),O},{})),x=e==null?void 0:e.validationSchema;function k(O,S){var M,G;const oe=le(()=>nt(P.value,Jt(O))),ie=u.value.find(Qe=>Qe.path===U(O));if(ie){((S==null?void 0:S.type)==="checkbox"||(S==null?void 0:S.type)==="radio")&&(ie.multiple=!0);const Qe=r++;return Array.isArray(ie.id)?ie.id.push(Qe):ie.id=[ie.id,Qe],ie.fieldsCount++,ie.__flags.pendingUnmount[Qe]=!1,ie}const ae=le(()=>nt(l,Jt(O))),fe=Jt(O),_e=r++,je=Xe({id:_e,path:O,touched:!1,pending:!1,valid:!0,validated:!!(!((M=_[fe])===null||M===void 0)&&M.length),initialValue:oe,errors:Su([]),bails:(G=S==null?void 0:S.bails)!==null&&G!==void 0?G:!1,label:S==null?void 0:S.label,type:(S==null?void 0:S.type)||"default",value:ae,multiple:!1,__flags:{pendingUnmount:{[_e]:!1}},fieldsCount:1,validate:S==null?void 0:S.validate,dirty:le(()=>!Ze(U(ae),U(oe)))});return u.value.push(je),p.value[fe]&&!_[fe]&&Wt(()=>{L(fe)}),Ce(O)&&Ke(O,Qe=>{const Vt=Le(ae.value);Wt(()=>{Sn(l,Qe,Vt)})}),je}const A=Kl(ne,5),j=Kl(ne,5),w=po(async O=>await O==="silent"?A():j(),(O,[S])=>{const M=jt(Se.errorBag.value);return[...new Set([...jt(O.results),...u.value.map(oe=>oe.path),...M])].sort().reduce((oe,ie)=>{const ae=ie,fe=v(ae)||D(ae),_e=(O.results[ae]||{errors:[]}).errors,je={errors:_e,valid:!_e.length};return oe.results[ae]=je,je.valid||(oe.errors[ae]=je.errors[0]),fe&&c.value[ae]&&delete c.value[ae],fe?(fe.valid=je.valid,S==="silent"||S==="validated-only"&&!fe.validated||d(fe,je.errors),oe):(d(ae,_e),oe)},{valid:O.valid,results:{},errors:{}})});function E(O){u.value.forEach(O)}function v(O){return typeof O=="string"?u.value.find(M=>M.path===O):O}function D(O){return u.value.filter(M=>O.startsWith(M.path)).reduce((M,G)=>M?G.path.length>M.path.length?G:M:G,void 0)}let B=[],te;function se(O){return B.push(O),te||(te=Wt(()=>{[...B].sort().reverse().forEach(M=>{Vl(l,M)}),B=[],te=null})),te}function ue(O){return function(M,G){return function(ie){return ie instanceof Event&&(ie.preventDefault(),ie.stopPropagation()),E(ae=>ae.touched=!0),i.value=!0,o.value++,b().then(ae=>{const fe=Le(l);if(ae.valid&&typeof M=="function"){const _e=Le(I.value);let je=O?_e:fe;return ae.values&&(je=ae.values),M(je,{evt:ie,controlledValues:_e,setErrors:f,setFieldError:d,setTouched:be,setFieldTouched:he,setValues:z,setFieldValue:T,resetForm:g,resetField:de})}!ae.valid&&typeof G=="function"&&G({values:fe,evt:ie,errors:ae.errors,results:ae.results})}).then(ae=>(i.value=!1,ae),ae=>{throw i.value=!1,ae})}}}const Ae=ue(!1);Ae.withControlled=ue(!0);function Fe(O,S){const M=u.value.findIndex(oe=>oe.path===O),G=u.value[M];if(!(M===-1||!G)){if(G.multiple&&G.fieldsCount&&G.fieldsCount--,Array.isArray(G.id)){const oe=G.id.indexOf(S);oe>=0&&G.id.splice(oe,1),delete G.__flags.pendingUnmount[S]}(!G.multiple||G.fieldsCount<=0)&&(u.value.splice(M,1),N(O))}}function Pe(O){return E(S=>{S.path.startsWith(O)&&jt(S.__flags.pendingUnmount).forEach(M=>{S.__flags.pendingUnmount[M]=!0})})}const Se={formId:n,values:l,controlledValues:I,errorBag:h,errors:p,schema:x,submitCount:o,meta:$,isSubmitting:i,isValidating:s,fieldArrays:a,keepValuesOnUnmount:C,validateSchema:U(x)?w:void 0,validate:b,setFieldError:d,validateField:L,setFieldValue:T,setValues:z,setErrors:f,setFieldTouched:he,setTouched:be,resetForm:g,resetField:de,handleSubmit:Ae,stageInitialValue:H,unsetInitialValue:N,setFieldInitialValue:Z,useFieldModel:Q,createPathState:k,getPathState:v,unsetPathValue:se,removePathState:Fe,initialValues:P,getAllPathStates:()=>u.value,markForUnmount:Pe};function T(O,S){const M=Le(S),G=typeof O=="string"?O:O.path;v(G)||k(G),Sn(l,G,M)}function z(O){Gc(l,O),a.forEach(S=>S&&S.reset())}function W(O){const S=v(U(O))||k(O);return le({get(){return S.value},set(M){const G=U(O);T(G,M),S.validated=!0,S.pending=!0,L(G).then(()=>{S.pending=!1})}})}function Q(O){return Array.isArray(O)?O.map(W):W(O)}function he(O,S){const M=v(O);M&&(M.touched=S)}function be(O){jt(O).forEach(S=>{he(S,!!O[S])})}function de(O,S){var M;const G=S&&"value"in S?S.value:nt(P.value,O);Z(O,Le(G)),T(O,G),he(O,(M=S==null?void 0:S.touched)!==null&&M!==void 0?M:!1),d(O,(S==null?void 0:S.errors)||[])}function g(O){const S=O!=null&&O.values?O.values:F.value;V(S),z(S),E(M=>{var G;M.validated=!1,M.touched=((G=O==null?void 0:O.touched)===null||G===void 0?void 0:G[M.path])||!1,T(M.path,nt(S,M.path)),d(M.path,void 0)}),f((O==null?void 0:O.errors)||{}),o.value=(O==null?void 0:O.submitCount)||0,Wt(()=>{b({mode:"silent"})})}async function b(O){const S=(O==null?void 0:O.mode)||"force";if(S==="force"&&E(ie=>ie.validated=!0),Se.validateSchema)return Se.validateSchema(S);s.value=!0;const M=await Promise.all(u.value.map(ie=>ie.validate?ie.validate(O).then(ae=>({key:ie.path,valid:ae.valid,errors:ae.errors})):Promise.resolve({key:ie.path,valid:!0,errors:[]})));s.value=!1;const G={},oe={};for(const ie of M)G[ie.key]={valid:ie.valid,errors:ie.errors},ie.errors.length&&(oe[ie.key]=ie.errors[0]);return{valid:M.every(ie=>ie.valid),results:G,errors:oe}}async function L(O){const S=v(O);if(S&&(S.validated=!0),x){const{results:M}=await w("validated-only");return M[O]||{errors:[],valid:!0}}return S!=null&&S.validate?S.validate():Promise.resolve({errors:[],valid:!0})}function N(O){Vl(P.value,O)}function H(O,S,M=!1){Z(O,S),Sn(l,O,S),M&&!(e!=null&&e.initialValues)&&Sn(F.value,O,Le(S))}function Z(O,S){Sn(P.value,O,Le(S))}async function ne(){const O=U(x);if(!O)return{valid:!0,results:{},errors:{}};s.value=!0;const S=Rs(O)||Ln(O)?await yb(O,l):await bb(O,l,{names:m.value,bailsMap:y.value});return s.value=!1,S}const X=Ae((O,{evt:S})=>{Zc(S)&&S.target.submit()});ct(()=>{if(e!=null&&e.initialErrors&&f(e.initialErrors),e!=null&&e.initialTouched&&be(e.initialTouched),e!=null&&e.validateOnMount){b();return}Se.validateSchema&&Se.validateSchema("silent")}),Ce(x)&&Ke(x,()=>{var O;(O=Se.validateSchema)===null||O===void 0||O.call(Se,"validated-only")}),nr(ui,Se);function ee(O,S){const M=v(Jt(O))||k(O),G=()=>Ge(S)?S(xr(M,Sr)):S||{};function oe(){var fe;M.touched=!0,((fe=G().validateOnBlur)!==null&&fe!==void 0?fe:un().validateOnBlur)&&L(M.path)}function ie(fe){var _e;T(M.path,fe),((_e=G().validateOnModelUpdate)!==null&&_e!==void 0?_e:un().validateOnModelUpdate)&&L(M.path)}return le(()=>{const fe={modelValue:M.value,"onUpdate:modelValue":ie,onBlur:oe};return Ge(S)?Object.assign(Object.assign({},fe),S(M).props||{}):S!=null&&S.mapProps?Object.assign(Object.assign({},fe),S.mapProps(xr(M,Sr))):fe})}function q(O,S){const M=v(Jt(O))||k(O),G=()=>Ge(S)?S(xr(M,Sr)):S||{};function oe(){var _e;M.touched=!0,((_e=G().validateOnBlur)!==null&&_e!==void 0?_e:un().validateOnBlur)&&L(M.path)}function ie(_e){var je;const Qe=Is(_e);T(M.path,Qe),((je=G().validateOnInput)!==null&&je!==void 0?je:un().validateOnInput)&&L(M.path)}function ae(_e){var je;const Qe=Is(_e);T(M.path,Qe),((je=G().validateOnChange)!==null&&je!==void 0?je:un().validateOnChange)&&L(M.path)}return le(()=>{const _e={value:M.value,onChange:ae,onInput:ie,onBlur:oe};return Ge(S)?Object.assign(Object.assign({},_e),S(xr(M,Sr)).attrs||{}):S!=null&&S.mapAttrs?Object.assign(Object.assign({},_e),S.mapAttrs(xr(M,Sr))):_e})}return Object.assign(Object.assign({},Se),{handleReset:()=>g(),submitForm:X,defineComponentBinds:ee,defineInputBinds:q})}function Fb(e,t,n,r){const i={touched:"some",pending:"some",valid:"every"},s=le(()=>!Ze(t,U(n)));function o(){const l=e.value;return jt(i).reduce((u,c)=>{const d=i[c];return u[c]=l[d](f=>f[c]),u},{})}const a=Xe(o());return kf(()=>{const l=o();a.touched=l.touched,a.valid=l.valid,a.pending=l.pending}),le(()=>Object.assign(Object.assign({initialValues:U(n)},a),{valid:a.valid&&!jt(r.value).length,dirty:s.value}))}function Db(e,t,n){const r=id(n),i=n==null?void 0:n.initialValues,s=J(r),o=J(Le(r));function a(l,u=!1){s.value=Le(l),o.value=Le(l),u&&e.value.forEach(c=>{if(c.touched)return;const f=nt(s.value,c.path);Sn(t,c.path,Le(f))})}return Ce(i)&&Ke(i,l=>{l&&a(l,!0)},{deep:!0}),{initialValues:s,originalInitialValues:o,setInitialValues:a}}const Lb=Wr({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Pt(e,"initialValues"),r=Pt(e,"validationSchema"),i=Pt(e,"keepValues"),{errors:s,errorBag:o,values:a,meta:l,isSubmitting:u,isValidating:c,submitCount:d,controlledValues:f,validate:h,validateField:p,handleReset:m,resetForm:y,handleSubmit:_,setErrors:C,setFieldError:P,setFieldValue:F,setValues:V,setFieldTouched:$,setTouched:I,resetField:x}=Mb({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:i}),k=_((te,{evt:se})=>{Zc(se)&&se.target.submit()},e.onInvalidSubmit),A=e.onSubmit?_(e.onSubmit,e.onInvalidSubmit):k;function j(te){ia(te)&&te.preventDefault(),m(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function w(te,se){return _(typeof te=="function"&&!se?te:se,e.onInvalidSubmit)(te)}function E(){return Le(a)}function v(){return Le(l.value)}function D(){return Le(s.value)}function B(){return{meta:l.value,errors:s.value,errorBag:o.value,values:a,isSubmitting:u.value,isValidating:c.value,submitCount:d.value,controlledValues:f.value,validate:h,validateField:p,handleSubmit:w,handleReset:m,submitForm:k,setErrors:C,setFieldError:P,setFieldValue:F,setValues:V,setFieldTouched:$,setTouched:I,resetForm:y,resetField:x,getValues:E,getMeta:v,getErrors:D}}return t.expose({setFieldError:P,setErrors:C,setFieldValue:F,setValues:V,setFieldTouched:$,setTouched:I,resetForm:y,validate:h,validateField:p,resetField:x,getValues:E,getMeta:v,getErrors:D}),function(){const se=e.as==="form"?e.as:Gr(e.as),ue=aa(se,t,B);if(!e.as)return ue;const $e=e.as==="form"?{novalidate:!0}:{};return Dn(se,Object.assign(Object.assign(Object.assign({},$e),t.attrs),{onSubmit:A,onReset:j}),ue)}}}),Ub=Lb,Nb=Wr({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=rt(ui,void 0),r=le(()=>n==null?void 0:n.errors.value[e.name]);function i(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?Gr(e.as):e.as,o=aa(s,t,i),a=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(o)||!o)&&(o!=null&&o.length)?o:(Array.isArray(o)||!o)&&!(o!=null&&o.length)?Dn(s||"span",a,r.value):Dn(s,a,o)}}}),Vb=Nb;const Bb={class:"container flex items-center justify-center max-md:px-6 mx-auto"},Kb={class:"text-left mb-2"},Hb=["disabled"],zb={__name:"AtmosForm",props:{schema:{type:Object,required:!0},validate:{type:Object,required:!0},button:{type:Object,required:!0},formType:{type:String,required:!0}},emits:["submit"],setup(e,{emit:t}){const r=J(e.formType),{formSchema:i}=mt(Ot());function s(a){if(a!=="icon_eye"&&a!=="icon_eye_close")return;const l=i.value[r.value].password,u=i.value[r.value].passwordConfirmed;a==="icon_eye_close"?(l.type="text",l.icon2="icon_eye",u&&(u.type="text",u.icon2="icon_eye")):(l.type="password",l.icon2="icon_eye_close",u&&(u.type="password",u.icon2="icon_eye_close"))}function o(a){t("submit",{info:a})}return(a,l)=>(K(),Y("section",null,[R("div",Bb,[re(U(Ub),{onSubmit:o,class:"w-full","validation-schema":e.validate},{default:Be(()=>[(K(!0),Y(Oe,null,St(e.schema,({as:u,name:c,label:d,children:f,icon:h,icon2:p,...m})=>(K(),Y("div",{key:c,class:"relative mt-6"},[R("p",Kb,Ee(d),1),re(U(Rb),Gi({as:u,id:c,name:c},m,{ref_for:!0,ref:c,class:["block w-full py-3 border rounded-lg dark:bg-gray-900 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40",{"pl-11":c!=="birth"&&(h==null?void 0:h.length),"pl-3":c==="birth"||!h}]}),{default:Be(()=>[f&&f.length?(K(!0),Y(Oe,{key:0},St(f,({tag:y,text:_,...C},P)=>(K(),Me(Gr(y),Gi({key:P},C),{default:Be(()=>[Ft(Ee(_),1)]),_:2},1040))),128)):ve("",!0)]),_:2},1040,["as","id","name","class"]),h?(K(),Me(Ve,{key:0,name:h,class:"absolute top-11 mx-3 text-gray-300 dark:text-gray-500"},null,8,["name"])):ve("",!0),p?(K(),Me(Ve,{key:1,name:p,class:ge(["absolute right-0 top-11 mx-3 text-gray-300 dark:text-gray-500",{"stroke-white":p==="icon_eye"}]),onClick:y=>s(p)},null,8,["name","class","onClick"])):ve("",!0),re(U(Vb),{name:c,class:"absolute left-0 top-15 text-sm text-red-500"},null,8,["name"])]))),128)),R("button",{class:ge(["w-full mt-8 text-md font-medium tracking-wide text-white capitalize transition-colors duration-300 transform border rounded-lg focus:outline-none",{unclickable:!e.button.state,"hover:bg-sky-900/90":e.button.state}]),disabled:!e.button.state},Ee(e.button.name),11,Hb)]),_:1},8,["validation-schema"])])]))}},di=dt(zb,[["__scopeId","data-v-b7fccaf1"]]),qb={class:"container mx-auto"},Jb={class:"flex items-center justify-center mt-6"},Wb={key:0,class:"mt-4 text-justify bg-slate-400/30 py-3 px-2 max-md:mx-6 rounded-lg"},Gb={key:0,class:"mt-5"},Yb=R("span",{class:"mx-3"},"|",-1),Zb={__name:"MolsAuth",setup(e){const t=Nt(),n=Zr(),{formSchema:r,validate:i}=Ot(),{sbRequest:s,handleLogin:o,handleSignup:a}=Et(),l=le(()=>t.path.indexOf("login")>-1?"login":"signup"),u=le(()=>t.path.indexOf("login")>-1?{state:!0,name:"登入"}:{state:!0,name:"下一步"});async function c(d){var f;if(l.value==="login"){const h=await s(o,{email:d.info.email,password:d.info.password});h!==void 0&&((f=h.data)!=null&&f.session)&&n.back()}else await s(a,{email:d.info.email,password:d.info.password,name:d.info.name,birth:d.info.birth,gender:d.info.gender,level:d.info.level})!==void 0&&n.push("/KAKUKAKU/account/onboarding")}return(d,f)=>{const h=Hs("router-link");return K(),Y("section",null,[R("div",qb,[R("div",Jb,[R("a",{href:"/KAKUKAKU/login",class:ge(["w-1/3 pb-4 font-medium text-center text-gray-500 text-xl capitalize border-b",{"border-sky-400 text-white":U(l)==="login"}])}," 登入 ",2),R("a",{href:"/KAKUKAKU/signup",class:ge(["w-1/3 pb-4 font-medium text-center text-xl text-gray-600 capitalize border-b",{"border-sky-400 text-white":U(l)==="signup"}])}," 註冊 ",2)]),U(l)==="signup"?(K(),Y("p",Wb," 說明：會員資料只有網站管理員看得到且會嚴密保護，以下資料可協助管理員分析用以改善網站功能。 ")):ve("",!0),re(di,{"form-type":U(l),schema:U(r)[U(l)],validate:U(i)[U(l)],button:U(u),onSubmit:c},null,8,["form-type","schema","validate","button"])]),U(l)==="login"?(K(),Y("div",Gb,[re(h,{to:"/KAKUKAKU/account/forget-password",class:"hover:text-sky-400"},{default:Be(()=>[Ft("忘記密碼")]),_:1}),Yb,re(h,{to:"/KAKUKAKU/signup",class:"hover:text-sky-400"},{default:Be(()=>[Ft("新會員註冊")]),_:1})])):ve("",!0)])}}},Jl={__name:"Index",setup(e){return(t,n)=>(K(),Me(Zb,{class:"w-full max-w-sm"}))}},Xb={class:"!mt-56 px-5"},Qb={class:"container mx-auto"},e1={class:"flex items-center justify-center"},t1={class:"w-2/3 pb-4 font-medium text-white text-2xl capitalize border-b border-sky-400"},n1={class:"mt-10 text-lg max-md:text-base"},r1={key:0,class:"text-lg text-gray-300"},s1=R("p",null,"※ 若收件匣無顯示新郵件，請至垃圾郵件尋找",-1),i1=[s1],Wl={__name:"OnboardingPage",setup(e){const{isLoggedIn:t}=Ot(),n=Nt(),r=le(()=>t()),i=J(""),s=J("");return ct(()=>{n.path.indexOf("register-success")>-1&&r?(i.value="驗證成功",s.value="註冊會員成功，歡迎使用本網站會員相關功能"):(i.value="驗證您的信箱",s.value="我們已寄信到您的信箱，請點擊信件中的連結後即註冊成功")}),(o,a)=>(K(),Y("section",Xb,[R("div",Qb,[R("div",e1,[R("p",t1,Ee(i.value),1)]),R("p",n1,Ee(s.value),1),U(t)?ve("",!0):(K(),Y("div",r1,i1))])]))}},o1={class:"px-5"},a1={class:"container mx-auto"},l1=R("div",{class:"flex items-center justify-center mt-6"},[R("p",{class:"w-2/3 pb-4 font-medium text-white text-xl capitalize border-b border-sky-400"}," 請輸入信箱 ")],-1),u1=R("p",{class:"mt-10 text-base text-left"},"請輸入您註冊時的信箱，我們會發送更新密碼的連結到您的信箱",-1),c1=R("div",{class:"text-sm text-left text-gray-300 mt-2"},[R("p",null,"※ 若收件匣無顯示新郵件，請至垃圾郵件尋找"),R("p",null,"※ 更新密碼郵件有時間限制，若十分鐘內未點擊連結請重新申請")],-1),d1={__name:"PasswordForget",setup(e){const{formSchema:t,validate:n}=Ot(),{sbRequest:r,sendPasswordResetEmail:i}=Et(),s=J({state:!0,name:"下一步"});async function o(a){await r(i,{email:a.info.email}),s.value={state:!1,name:"已送出，請到信箱確認信件"}}return(a,l)=>(K(),Y("section",o1,[R("div",a1,[l1,u1,c1,re(di,{"form-type":"passwordForget",schema:U(t).passwordForget,validate:U(n).passwordForget,button:s.value,onSubmit:o},null,8,["schema","validate","button"])])]))}},f1={class:"max-w-md w-full"},h1={class:"container mx-auto"},p1=R("div",{class:"w-full flex items-center justify-center mt-6"},[R("p",{class:"w-2/3 pb-4 font-medium text-center text-white text-xl capitalize border-b border-sky-400"}," 更新密碼 ")],-1),m1={__name:"PasswordUpdate",setup(e){const{formSchema:t,validate:n}=Ot(),{sbRequest:r,handlePasswordReset:i}=Et(),s=J({state:!0,name:"確認送出"});async function o(a){await r(i,{password:a.info.password}),s.value={state:!1,name:"已送出"}}return(a,l)=>(K(),Y("section",f1,[R("div",h1,[p1,re(di,{schema:U(t).passwordUpdate,validate:U(n).passwordUpdate,button:s.value,onSubmit:o,"form-type":"passwordUpdate"},null,8,["schema","validate","button"])])]))}},g1={class:"space-y-4"},v1={class:"flex cursor-pointer items-center justify-between gap-1.5"},_1={class:"font-bold text-lg max-md:text-base"},y1={class:"relative h-5 w-5 shrink-0"},b1={class:"mt-4 leading-relaxed max-md:text-sm"},Gl={__name:"AtmosAccordion",props:{content:{type:Array,required:!0}},setup(e){return(t,n)=>(K(),Y("div",g1,[(K(!0),Y(Oe,null,St(e.content,(r,i)=>(K(),Y("details",{class:"group rounded-lg bg-gray-900/70 p-6 [&_summary::-webkit-details-marker]:hidden",key:i},[R("summary",v1,[R("h2",_1,Ee(r.header),1),R("span",y1,[re(Ve,{name:"icon_accordion_open",class:"absolute inset-0 opacity-100 group-open:opacity-0"}),re(Ve,{name:"icon_accordion_close",class:"absolute inset-0 opacity-0 group-open:opacity-100"})])]),R("p",b1,Ee(r.body),1)]))),128))]))}},w1={class:"w-full max-w-2xl max-md:px-5"},x1=R("div",{class:"w-full text-start"},[R("h1",{class:"text-xl"},"關於 KAKUKAKU"),R("hr",{class:"w-full border-gray-200 dark:border-gray-500 my-3"}),R("p",{class:"text-justify"},"提供使用者方便及快速的操作介面練習日文歌曲，且依據使用者回饋定期更新網站樣式及功能，期望能提供更完善的練習日文歌體驗。")],-1),S1={class:"w-full text-start mt-10"},k1=R("h1",{class:"text-xl"},"相關問題",-1),O1=R("hr",{class:"w-full border-gray-200 dark:border-gray-500 my-3"},null,-1),E1={class:"w-full text-start mt-10"},A1=R("h1",{class:"text-xl"},"版本更新紀錄",-1),T1=R("hr",{class:"w-full border-gray-200 dark:border-gray-500 my-3"},null,-1),C1={__name:"Index",setup(e){const t=[{header:"若操作上有遇到狀況或是想提供改善建議，有提供相關溝通管道嗎?",body:"有的，可在側欄的「意見回饋」中，留下您寶貴的建議。"},{header:"為什麼手機版有部分功能無法使用?",body:"因最初設計時，電腦版以編輯功能為主，手機版以適合觀看歌詞為主，故有些編輯功能在手機上是看不到的。"},{header:"會員資料的內容為什麼需要填寫「生日」及「日本語能力」?",body:"會員資料只有網站管理員看得到且會嚴密保護，以上資料可協助管理員分析用以改善網站功能。"}],n=[{header:"2023/08/21 ver1.0.0",body:"網頁上架。"}];return(r,i)=>(K(),Y("div",w1,[x1,R("div",S1,[k1,O1,re(Gl,{content:t})]),R("div",E1,[A1,T1,re(Gl,{content:n})])]))}};const $1=e=>(qr("data-v-de3b5848"),e=e(),Jr(),e),j1={class:"container mx-auto"},P1=$1(()=>R("div",{class:"flex items-center justify-center mt-6"},[R("p",{class:"w-2/3 pb-4 font-medium text-center text-white text-xl capitalize border-b border-sky-400"}," 網站問題回饋 ")],-1)),R1={__name:"MolsFeedBack",setup(e){const{formSchema:t,validate:n,isLoggedIn:r}=Ot(),{sbRequest:i,handleFeedBack:s}=Et(),o=J({state:!0,name:"確認送出"});async function a(l){await i(s,{name:l.info.name,type:l.info.questionType,text:l.info.feedbackText})!==void 0&&(o.value={state:!1,name:"已送出"})}return ct(()=>{r()||(o.value={state:!1,name:"請先登入會員"})}),(l,u)=>(K(),Y("section",null,[R("div",j1,[P1,re(di,{"form-type":"feedback",schema:U(t).feedback,validate:U(n).feedback,button:o.value,onSubmit:a},null,8,["schema","validate","button"])])]))}},I1=dt(R1,[["__scopeId","data-v-de3b5848"]]),M1={__name:"Index",setup(e){return(t,n)=>(K(),Me(I1,{class:"w-full max-w-sm"}))}},vo=rm({history:yp(),routes:[{path:"/KAKUKAKU/song",children:[{path:"search",component:xv,meta:{title:"KAKUKAKU｜一鍵平假名，輕鬆學日文歌"}},{path:"upload",component:Uv,meta:{title:"新增歌曲｜KAKUKAKU"}},{path:"personal/list",component:Dl,meta:{title:"個人清單｜KAKUKAKU"}},{path:"recommend/list",component:Dl,meta:{title:"推薦清單｜KAKUKAKU"}},{path:"item",component:Gy,meta:{title:"歌曲｜KAKUKAKU"}}]},{path:"/KAKUKAKU/login",component:Jl,meta:{title:"登入會員｜KAKUKAKU"}},{path:"/KAKUKAKU/signup",component:Jl,meta:{title:"註冊會員｜KAKUKAKU"}},{path:"/KAKUKAKU/account",children:[{path:"forget-password",component:d1,meta:{title:"忘記密碼｜KAKUKAKU"}},{path:"update-password",component:m1,meta:{title:"更新密碼｜KAKUKAKU"}},{path:"onboarding",component:Wl,meta:{title:"驗證會員｜KAKUKAKU"}},{path:"register-success",component:Wl,meta:{title:"註冊成功｜KAKUKAKU"}}]},{path:"/KAKUKAKU/about",component:C1,meta:{title:"關於網站｜KAKUKAKU"}},{path:"/KAKUKAKU/feedback",component:M1,meta:{title:"意見回饋｜KAKUKAKU"}},{path:"/:notFound(.*)",redirect:"/KAKUKAKU/song/search"}]});vo.beforeEach(async(e,t)=>{const{supabase:n}=Et(),{data:{session:r}}=await n.auth.getSession();return e.meta.title&&!e.fullPath.includes("song/item")&&(document.title=e.meta.title),(e.fullPath.indexOf("login")>-1||e.fullPath.indexOf("signup")>-1)&&r!=null&&r.user?"/KAKUKAKU/song/search":!0});const F1={class:"w-64 h-my-screen flex flex-col max-sm:w-full px-5 py-8 overflow-y-auto bg-gray-900"},D1={class:"h-full flex flex-col justify-between flex-1 mt-6"},L1={class:"flex-1 -mx-3 space-y-3"},U1={class:"mx-2 text-sm font-medium"},N1={key:0,class:"flex"},V1={class:"mt-1 -mx-3"},B1={class:"flex items-center justify-between mt-1 transition-colors duration-300 transform rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700 cursor-pointer"},K1={key:0,href:"/KAKUKAKU/login",class:"flex items-center gap-x-2 w-full"},H1=R("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-200"},"登入",-1),z1=R("span",{class:"mx-1"},"登出",-1),q1={__name:"AtmosSidebar",emits:["closeSidebar"],setup(e,{emit:t}){const{isLoggedIn:n}=Ot(),{userInfo:r}=tp(Ot()),{sbRequest:i,handleLogout:s}=Et(),o=Nt(),a=Zr(),l=[{name:"首頁",path:"search",link:"/KAKUKAKU/song/search",icon:"icon_home_page"},{name:"新增歌曲",path:"upload",link:"/KAKUKAKU/song/upload",icon:"icon_plus_paper"},{name:"個人清單",path:"personal",link:"/KAKUKAKU/song/personal/list",icon:"icon_paper"},{name:"推薦清單",path:"recommend",link:"/KAKUKAKU/song/recommend/list",icon:"icon_recommend"},{name:"意見回饋",path:"feedback",link:"/KAKUKAKU/feedback",icon:"icon_fillin"},{name:"關於網站",path:"about",link:"/KAKUKAKU/about",icon:"icon_info"}],u=le(()=>n());async function c(){await i(s),a.push({path:"/KAKUKAKU/login"}).then(()=>{a.go()})}function d(){t("closeSidebar")}return(f,h)=>{var m,y;const p=Hs("router-link");return K(),Y("aside",F1,[R("div",D1,[R("nav",L1,[(K(),Y(Oe,null,St(l,(_,C)=>re(p,{key:C,class:ge(["flex items-center px-3 py-2 text-gray-600 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700",{"bg-slate-500":U(o).path.indexOf(_.path)>0}]),to:_.link,onClick:d},{default:Be(()=>[re(Ve,{name:_.icon},null,8,["name"]),R("span",U1,Ee(_.name),1)]),_:2},1032,["class","to"])),64))]),R("div",null,[(m=U(r).user_metadata)!=null&&m.name?(K(),Y("div",N1,[re(Ve,{name:"icon_user",class:"mx-0 mr-2"}),Ft(" "+Ee((y=U(r).user_metadata)==null?void 0:y.name),1)])):ve("",!0)]),R("div",V1,[R("div",B1,[U(u)?(K(),Y("div",{key:1,onClick:c,class:"w-full cursor-pointer flex items-center"},[re(Ve,{name:"icon_logout",class:"text-gray-400 rotate-180"}),z1])):(K(),Y("a",K1,[H1,re(Ve,{name:"icon_signin",class:"text-gray-400 rotate-180"})]))])])])])}}};const J1=e=>(qr("data-v-eaa05f63"),e=e(),Jr(),e),W1={class:"relative z-50 max-md:bg-slate-900/90"},G1={class:"logo flex items-center py-2 px-5"},Y1=J1(()=>R("h1",{class:"text-3 text-lg"},"KAKUKAKU",-1)),Z1={__name:"TheHeader",setup(e){const t=J(!1);function n(){t.value=!t.value}function r(){t.value=!1}const i=()=>{event.target.closest(".sidebar")||(t.value=!1)};return ct(()=>{document.addEventListener("click",i)}),Nn(()=>{document.body.removeEventListener("click",i)}),(s,o)=>{const a=Hs("router-link");return K(),Y(Oe,null,[R("header",W1,[R("div",G1,[re(Ve,{name:"icon_bars",class:"sidebar mr-3 cursor-pointer",onClick:n}),re(a,{to:"/KAKUKAKU/song/search",class:"flex items-center"},{default:Be(()=>[re(Ve,{name:"icon_logo",class:"inline h-6 mr-1"}),Y1]),_:1})])]),re(q1,{class:ge(["sidebar fixed -left-[100%] transition-all z-30",{show:t.value}]),onCloseSidebar:r},null,8,["class"])],64)}}},X1=dt(Z1,[["__scopeId","data-v-eaa05f63"]]);const Q1={},ew=e=>(qr("data-v-17eac3f0"),e=e(),Jr(),e),tw={class:"gradient-background"},nw=ew(()=>R("div",{class:"noise-background"},null,-1)),rw=[nw];function sw(e,t){return K(),Y("div",tw,rw)}const iw=dt(Q1,[["render",sw],["__scopeId","data-v-17eac3f0"]]),ow={class:"bottom-0 text-slate-400 max-sm:text-xs text-sm p-5"},aw={key:0},lw={__name:"TheFooter",setup(e){const t=J(window.innerWidth);return(n,r)=>(K(),Y("div",ow,[R("p",null,[Ft("※ 此網站僅提供學習資源使用"),t.value<576?(K(),Y("br",aw)):ve("",!0),Ft("，歌曲及歌詞版權皆屬原創作者所有")])]))}};const uw={},cw={class:"flex justify-center items-center bg-slate-900/70 w-full h-full fixed z-50"},dw=oh('<div class="column" data-v-331ab2de><div class="flex items-center h-10 mb-1" data-v-331ab2de><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div><div class="line" data-v-331ab2de></div></div><span data-v-331ab2de> Loading </span></div>',1),fw=[dw];function hw(e,t){return K(),Y("div",cw,fw)}const pw=dt(uw,[["render",hw],["__scopeId","data-v-331ab2de"]]);const od=e=>(qr("data-v-aca02675"),e=e(),Jr(),e),mw={key:0,class:"fixed z-50 top-0 w-full text-white bg-gradient-to-r from-rose-600 from-50% to-rose-400 bg-opacity-30 border-b border-slate-50"},gw={class:"container flex items-center justify-between px-6 py-2 mx-auto"},vw={class:"flex"},_w=od(()=>R("svg",{viewBox:"0 0 40 40",class:"w-6 h-6 fill-current"},[R("path",{d:"M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"})],-1)),yw={class:"mx-3"},bw=od(()=>R("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[R("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ww=[bw],xw={__name:"AtmosDialog",props:{show:{type:Boolean,required:!0},title:{type:String,required:!1}},emits:["close"],setup(e,{emit:t}){function n(){t("close")}return(r,i)=>(K(),Me(Ju,{to:"body"},[e.show?(K(),Y("div",{key:0,onClick:n,class:"backdrop"})):ve("",!0),re(Ws,{name:"dialog"},{default:Be(()=>[e.show?(K(),Y("div",mw,[R("div",gw,[R("div",vw,[_w,R("p",yw,Ee(e.title),1)]),R("button",{class:"p-1 transition-colors duration-300 transform rounded-md hover:bg-opacity-25 hover:bg-gray-600 focus:outline-none",onClick:n},ww)])])):ve("",!0)]),_:1})]))}},Sw=dt(xw,[["__scopeId","data-v-aca02675"]]),kw={__name:"App",setup(e){const{isLoading:t}=mt(It()),{isError:n}=It(),{supabase:r}=Et(),{userInfo:i}=mt(Ot()),{errorMessage:s}=mt(It()),o=Zr(),a=J(!0),l="網站使用規範",u=`
  <ul class="list-disc pl-3">
    <li>此網站僅供日文學習使用，歌曲和歌詞的版權屬於唱片公司。</li>
    <li>網站目的在於日文教學，非分享歌曲，喜歡請支持購買原版。</li>
    <li>請僅在本站學習使用歌曲，切勿透過其他工具下載，本站不提供下載連結。</li>
  </ul>`;function c(f){f?(a.value=!1,localStorage.setItem("cybernorms",!0)):o.back()}function d(){n({showError:!1,message:""})}return ct(()=>{r.auth.onAuthStateChange((f,h)=>{f=="SIGNED_IN"&&(i.value=(h==null?void 0:h.user)||null)}),a.value=!localStorage.getItem("cybernorms")}),(f,h)=>{var m,y;const p=Hs("router-view");return K(),Y(Oe,null,[a.value?(K(),Me(qc,{key:0,title:l,content:u,onButtonClick:c})):ve("",!0),U(t)?(K(),Me(pw,{key:1})):ve("",!0),re(Sw,{show:(m=U(s))==null?void 0:m.showError,title:(y=U(s))==null?void 0:y.message,onClose:d},null,8,["show","title"]),re(X1),re(p,{class:"max-sm:pt-8 pt-14 max-md:mt-7"}),re(lw),re(iw)],64)}}};function _o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yl(Object(n),!0).forEach(function(r){_o(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ow=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,i){if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=t,o.defer=n.defer,n.preconnectOrigin){var a=document.createElement("link");a.href=n.preconnectOrigin,a.rel="preconnect",s.appendChild(a)}s.appendChild(o),o.onload=r,o.onerror=i}})},Ew=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(!r.length)return t;var s=r.shift();if(!(!Or(t)||!Or(s))){for(var o in s)Or(s[o])?(t[o]||Object.assign(t,_o({},o,{})),e(t[o],s[o])):Object.assign(t,_o({},o,s[o]));return e.apply(void 0,[t].concat(r))}},es=function(){return!(typeof window>"u"||typeof document>"u")},Zl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;es()},Aw=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Zl('Missing "appName" property inside the plugin options.',t.app_name==null),Zl('Missing "name" property in the route.',t.screen_name==null),t};function Tw(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.split("/"),r=t.split("/");return n[0]===""&&t[t.length-1]==="/"&&n.shift(),r.join("/")+n.join("/")}var Cw=function(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},ad={},$w=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Cw();ad=Ew(n,t)},ft=function(){return ad},Un=function(){var e,t=ft(),n=t.globalObjectName;!es()||typeof window[n]>"u"||(e=window)[n].apply(e,arguments)},la=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ft(),i=r.config,s=r.includes;Un.apply(void 0,["config",i.id].concat(t)),Array.isArray(s)&&s.forEach(function(o){Un.apply(void 0,["config",o.id].concat(t))})},Xl=function(t,n){es()&&(window["ga-disable-".concat(t)]=n)},ld=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=ft(),n=t.config,r=t.includes;Xl(n.id,e),Array.isArray(r)&&r.forEach(function(i){return Xl(i.id,e)})},ud=function(){ld(!0)},jw=function(){ld(!1)},cd,Pw=function(t){cd=t},ua=function(){return cd},Kn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ft(),r=n.includes,i=n.defaultGroupName;t.send_to==null&&Array.isArray(r)&&r.length&&(t.send_to=r.map(function(s){return s.id}).concat(i)),Un("event",e,t)},dd=function(e){if(es()){var t;if(typeof e=="string")t={page_path:e};else if(e.path||e.fullPath){var n=ft(),r=n.pageTrackerUseFullPath,i=n.pageTrackerPrependBase,s=ua(),o=s&&s.options.base,a=r?e.fullPath:e.path;t=yo(yo({},e.name&&{page_title:e.name}),{},{page_path:i?Tw(a,o):a})}else t=e;t.page_location==null&&(t.page_location=window.location.href),t.send_page_view==null&&(t.send_page_view=!0),Kn("page_view",t)}},fd=function(e){var t=ft(),n=t.appName;if(e){var r;typeof e=="string"?r={screen_name:e}:r=e,r.app_name=r.app_name||n,Kn("screen_view",r)}},Rw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Kn.apply(void 0,["exception"].concat(t))},Iw=function(e){la("linker",e)},Mw=function(e){Kn("timing_complete",e)},Fw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Un.apply(void 0,["set"].concat(t))},Dw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Kn.apply(void 0,["refund"].concat(t))},Lw=function(e){Kn("purchase",e)},Uw=function(e){la({custom_map:e})},Nw=Object.freeze({__proto__:null,query:Un,config:la,optOut:ud,optIn:jw,pageview:dd,screenview:fd,exception:Rw,linker:Iw,time:Mw,set:Fw,refund:Dw,purchase:Lw,customMap:Uw,event:Kn}),Vw=function(t){t.config.globalProperties.$gtag=Nw},Bw=function(){if(es()){var e=ft(),t=e.enabled,n=e.globalObjectName,r=e.globalDataLayerName;return window[n]==null&&(window[r]=window[r]||[],window[n]=function(){window[r].push(arguments)}),window[n]("js",new Date),t||ud(),window[n]}},Ql=function(t){return yo({send_page_view:!1},t)},hd=function(){var e=ft(),t=e.config,n=e.includes;Un("config",t.id,Ql(t.params)),Array.isArray(n)&&n.forEach(function(r){Un("config",r.id,Ql(r.params))})},eu=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ft(),r=n.appName,i=n.pageTrackerTemplate,s=n.pageTrackerScreenviewEnabled,o=n.pageTrackerSkipSamePath;if(!(o&&e.path===t.path)){var a=e;if(me(i)?a=i(e,t):s&&(a=Aw({app_name:r,screen_name:e.name})),s){fd(a);return}dd(a)}},tu=function(t){var n=ft(),r=n.pageTrackerExcludedRoutes;return r.includes(t.path)||r.includes(t.name)},Kw=function(){var e=ft(),t=e.onBeforeTrack,n=e.onAfterTrack,r=ua();r.isReady().then(function(){Wt().then(function(){var i=r.currentRoute;hd(),!tu(i.value)&&eu(i.value)}),r.afterEach(function(i,s){Wt().then(function(){tu(i)||(me(t)&&t(i,s),eu(i,s),me(n)&&n(i,s))})})})},Hw=function(){var e=ft(),t=e.onReady,n=e.onError,r=e.globalObjectName,i=e.globalDataLayerName,s=e.config,o=e.customResourceURL,a=e.customPreconnectOrigin,l=e.deferScriptLoad,u=e.pageTrackerEnabled,c=e.disableScriptLoad,d=!!(u&&ua());if(Bw(),d?Kw():hd(),!c)return Ow("".concat(o,"?id=").concat(s.id,"&l=").concat(i),{preconnectOrigin:a,defer:l}).then(function(){t&&t(window[r])}).catch(function(f){return n&&n(f),f})},zw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;Vw(t),$w(n),Pw(r),ft().bootstrap&&Hw()};if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML=`<symbol  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" id="icon_accordion_close"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" id="icon_accordion_open"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_bars"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_calender"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_chervon_down"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_clock"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0z" /></symbol><symbol  class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" id="icon_email"><path stroke-linecap="round" stroke-linejoin="round" d="m3 8 7.89 5.26a2 2 0 0 0 2.22 0L21 8M5 19h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_eye"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_eye_close"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12c1.292 4.338 5.31 7.5 10.066 7.5.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_fillin"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" /></symbol><symbol  class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" id="icon_gender"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0zm-4 7a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5" id="icon_home_page"><path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955a1.126 1.126 0 0 1 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_info"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-9-3.75h.008v.008H12V8.25z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_lock_close"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_lock_open"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25z" /></symbol><symbol fill="#46b0dd" viewBox="0 0 22 22"  stroke="currentColor" stroke-width="0" id="icon_logo"><path d="M15 1v1h2v1h1v1h1v1h1v2h1v8h-1v2h-1v1h-1v1h-1v1h-2v1H7v-1H5v-1H4v-1H3v-1H2v-2H1V7h1V5h1V4h1V3h1V2h2V1h8M8 6v10h2v-3h1v1h1v2h2v-3h-1v-1h-1v-1h-1v-1h1V9h1V8h1V6h-2v1h-1v1h-1V6H8Z" stroke="none" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_logout"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_more"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zm0 6a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zm0 6a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_paper"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9z" /></symbol><symbol  class="w-6 h-6 mx-3 text-gray-300 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" id="icon_password"><path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2zm10-10V7a4 4 0 0 0-8 0v4h8z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_pause_video"><path stroke-linecap="round" stroke-linejoin="round" d="M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_play_video"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_plus_paper"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_recommend"><path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V3a.75.75 0 0 1 .75-.75A2.25 2.25 0 0 1 16.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48a4.53 4.53 0 0 1-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665 8.97 8.97 0 0 0 .654 3.375z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_replay"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_search"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_signin"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke="currentColor" id="icon_song_change">
  <path strokeLinecap="round" strokeLinejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
</symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_tooth"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 0 1 0 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 0 1 0-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon_user"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" /></symbol>`,t.insertBefore(n,t.lastChild)};var loadSvg=e;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const qw=Yh(),Jw=Jh(kw).use(vo).use(qw).use(zw,{config:{id:"G-RLR819H404"}},vo);Jw.mount("#app");
